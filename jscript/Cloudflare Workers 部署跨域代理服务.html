<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Cloudflare Workers 部署跨域代理服务' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Cloudflare Workers 部署跨域代理服务</center></div><div class='banquan'>原文出处:本文由博客园博主netnr提供。<br/>
原文连接:https://www.cnblogs.com/netnr/p/12054269.html</div><br>
    <p>项目源码：<a href="https://github.com/netnr/workers" class="uri">https://github.com/netnr/workers</a></p>
<p>发布链接：<a href="https://cors.zme.ink" class="uri">https://cors.zme.ink</a></p>
<p>使用文档：<a href="https://developers.cloudflare.com/workers/quickstart/" class="uri">https://developers.cloudflare.com/workers/quickstart/</a></p>
<h3 id="安装环境">安装环境</h3>
<pre><code><code>npm install -g @cloudflare/wrangler</code></pre>
<p>如果出现错误：<code>Error: EACCES: permission denied, mkdir</code></p>
<p>请执行以下命令，解决方法链接：<a href="https://github.com/npm/npm/issues/17268" class="uri">https://github.com/npm/npm/issues/17268</a></p>
<pre><code><code>npm install -g @cloudflare/wrangler --unsafe-perm=true --allow-root</code></pre>
<h3 id="创建项目">创建项目</h3>
<ul>
<li>基于模版</li>
</ul>
<pre><code><code>wrangler generate test https://github.com/cloudflare/worker-template</code></pre>
<ul>
<li>现有项目，初始化</li>
</ul>
<pre><code><code>wrangler init</code></pre>
<h3 id="编写脚本">编写脚本</h3>
<p><code>index.js</code> 执行的脚本，<a href="https://developers.cloudflare.com/workers/templates/">参考示例</a></p>
<p><code>wrangler.toml</code> 配置参数</p>
<pre><code><code>account_id = &quot;&quot;
name = &quot;cors&quot;
type = &quot;webpack&quot;
route = &quot;cors.zme.ink/*&quot;
workers_dev = false
zone_id = &quot;&quot;</code></pre>
<p><code>account_id</code>、<code>zone_id</code> 你在cloudflare托管的域名信息</p>
<p>使用 workers.dev 子域名，即默认的：</p>
<pre><code><code>route = &quot;&quot;
workers_dev = true</code></pre>
<p>使用自定义域名配置如下：</p>
<pre><code><code>route = &quot;cors.zme.ink/*&quot;
workers_dev = false</code></pre>
<h3 id="配置全局变量">配置全局变量</h3>
<pre><code><code>wrangler config</code></pre>
<p>配置 email、api key ，查看记录 <code>cat ~/.wrangler/config/default.toml</code></p>
<h3 id="构建">构建</h3>
<pre><code><code>wrangler build</code></pre>
<h3 id="发布">发布</h3>
<pre><code><code>wrangler publish</code></pre>
<h3 id="访问">访问</h3>
<p><code>xxx.workers.dev</code>，是你的子域名，<code>xxx</code>是你的账号<br />
<code>test.xxx.workers.dev</code> 就是当前发布的访问链接</p>
<p>如果使用自定义域名，需要配置一个域名绑定CNAME：<code>xxx.workers.dev</code>，并开启CDN，即点亮黄云图标</p>
<h3 id="免费套餐额度">免费套餐额度</h3>
<ul>
<li>每天 10 万个请求（UTC + 0）</li>
<li>每 10 分钟 1000 个请求</li>
<li>每个请求最多10ms CPU时间</li>
<li>首次请求后的最低延迟</li>
</ul>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>