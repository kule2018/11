<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Electron npm install 常见错误（Linux）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Electron npm install 常见错误（Linux）</center></div><div class='banquan'>原文出处:本文由博客园博主海角在眼前提供。<br/>
原文连接:https://www.cnblogs.com/lovesong/p/11300175.html</div><br>
    <p><!--?xml version="1.0" encoding="UTF-8"?--></p>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">Linux版本</span></strong></span></p>
<p>Ubuntu 12.04 （32bit）</p>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">安装Git</span></strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> apt-get <span style="color: #0000ff;">install</span> git</pre>
</div>
<p><strong><span style="color: #ff6600;">生成ssh key</span></strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">#查看有没有sshkey
cd </span>~/.<span style="color: #0000ff;">ssh</span><span style="color: #000000;">
#生成
</span><span style="color: #0000ff;">ssh-keygen</span><span style="color: #000000;">
#查询
</span><span style="color: #0000ff;">cat</span> ~/.<span style="color: #0000ff;">ssh</span>/id_rsa.pub</pre>
</div>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">安装node</span></strong></span></p>
<p><strong><span style="color: #ff6600;">使用二进制文件</span></strong></p>
<p>错误一：./node: cannot execute binary file</p>
<p>原因可能如下：</p>
<p>1、非root用户或者无执行权限</p>
<p>2、编译环境不同（程序由其他操作环境复制过来）</p>
<p>PS：<a href="https://blog.51cto.com/1381479/888198">https://</a><a href="http://blog.51cto.com/1381479/888198">blog.51cto.com/1381479/888198</a></p>
<p>错误二：axconfig: port 1 not active axconfig: port 2 not active</p>
<p>原因：可能 sudo apt-get install node 这么去安装node了。</p>
<p>解决：先 sudo apt-get remove node 卸载掉，从node官网下。</p>
<p>PS：<a href="https://dolinux.blogspot.com/2012/04/axconfig-port-1-not-active-axconfig.html">https://</a><a href="http://dolinux.blogspot.com/2012/04/axconfig-port-1-not-active-axconfig.html">dolinux.blogspot.com/2012/04/axconfig-port-1-not-active-axconfig.html</a></p>
<p><strong><span style="color: #ff6600;">编译源码</span></strong></p>
<p>错误一：WARNING: failed to autodetect C++ compiler version (CXX=g++)</p>
<p>ERROR: Did not find a new enough assembler, install one or build with</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--openssl-no-asm.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please refer to BUILDING.md</p>
<p>PS：因为安装过程复制且不顺利，就不走这条路。</p>
<p><strong><span style="color: #ff6600;">低版本的node</span></strong></p>
<p><a href="https://nodejs.org/download/release/latest-v8.x/">https://nodejs.org/download/release/latest-v8.x/</a></p>
<p>PS：Node 10.10以上版本，Ubuntu 12.04一直无法正常使用，所以我用了8版本。</p>
<p>安装步骤：<a href="https://www.cnblogs.com/zhuawang/p/7617176.html">https://www.cnblogs.com/zhuawang/p/7617176.html</a></p>
<p>建立软连接：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> <span style="color: #0000ff;">ln</span> -s /home/lufeng/Documents/node-v8.<span style="color: #800080;">16.0</span>-linux-x86/bin/node /usr/local/<span style="color: #000000;">bin
</span><span style="color: #0000ff;">sudo</span> <span style="color: #0000ff;">ln</span> -s /home/lufeng/Documents/node-v8.<span style="color: #800080;">16.0</span>-linux-x86/bin/npm /usr/local/<span style="color: #000000;">bin
</span><span style="color: #0000ff;">sudo</span> <span style="color: #0000ff;">ln</span> -s /home/lufeng/Documents/node-v8.<span style="color: #800080;">16.0</span>-linux-x86/bin/node-gyp /usr/local/bin</pre>
</div>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">electron npm install</span></strong></span></p>
<p><strong><span style="color: #ff6600;">错误一</span></strong>： ../../../nan/nan.h:50:3: error: #error This version of node/NAN/v8 requires a C++11 compiler</p>
<p>解决：<a href="http://mortenvp.com/installing-a-newer-gccg-on-ubuntu-12-04-lts/">http://mortenvp.com/installing-a-newer-gccg-on-ubuntu-12-04-lts/</a></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> add-apt-repository ppa:ubuntu-toolchain-r/<span style="color: #000000;">test
</span><span style="color: #0000ff;">sudo</span> apt-<span style="color: #000000;">get update
</span><span style="color: #0000ff;">sudo</span> apt-get <span style="color: #0000ff;">install</span> <span style="color: #0000ff;">gcc</span>-<span style="color: #800080;">4.9</span> g++-<span style="color: #800080;">4.9</span>
<span style="color: #0000ff;">sudo</span> update-alternatives --<span style="color: #0000ff;">install</span> /usr/bin/<span style="color: #0000ff;">gcc</span> <span style="color: #0000ff;">gcc</span> /usr/bin/<span style="color: #0000ff;">gcc</span>-<span style="color: #800080;">4.9</span> <span style="color: #800080;">60</span> --slave /usr/bin/g++ g++ /usr/bin/g++-<span style="color: #800080;">4.9</span></pre>
</div>
<p><strong><span style="color: #ff6600;">错误二</span></strong>：make: cc: Command not found</p>
<p>解决：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> <span style="color: #0000ff;">ln</span> -s  /usr/bin/<span style="color: #0000ff;">gcc</span>-<span style="color: #800080;">4.9</span> /usr/bin/<span style="color: #0000ff;">cc</span></pre>
</div>
<p><strong><span style="color: #ff6600;">错误三</span></strong>：/usr/bin/ld: cannot find -lcrypto</p>
<p>下载一个libcrypto.so.6 文件</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> <span style="color: #0000ff;">ln</span> -s /home/lufeng/Documents/lib/libcrypto.so.<span style="color: #800080;">6</span> /lib/libcrypto.so</pre>
</div>
<p><span style="color: #000000;">or&nbsp;</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">yum</span> <span style="color: #0000ff;">install</span> openssl-devel</pre>
</div>
<p><strong><span style="color: #ff6600;">错误四</span></strong>：error: 'memcpy' was not declared in this scope</p>
<p>原因：node插件源码报错了，其实解决办法很容易，到程序中加上头文件string.h就好了，就是 #include&lt;string.h&gt;</p>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">electron rebuild</span></strong></span></p>
<p><strong><span style="color: #ff6600;">错误一</span></strong>：fatal error openssl/rand.h no such file or directory</p>
<p>解决：安装libssl-dev。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> apt-get <span style="color: #0000ff;">install</span> libssl-dev</pre>
</div>
<p>可能libssl-dev会安装失败</p>
<p>sudo apt-get install libssl-dev=1.0.1-4ubuntu5</p>
<p>解决：<a href="https://www.cnblogs.com/liushui-sky/p/9304495.html">https://www.cnblogs.com/liushui-sky/p/9304495.html</a>&nbsp;（方法一）</p>
<p>or</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">yum</span> <span style="color: #0000ff;">install</span> -y openssl openssl-devel openssl-libs</pre>
</div>
<p><strong><span style="color: #ff6600;">错误二</span></strong>：error while loading shared libraries: libXss.so.1: cannot open shared object file: No such file or directory</p>
<p>解决：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> apt-get <span style="color: #0000ff;">install</span> libxss1</pre>
</div>
<p><strong><span style="color: #ff6600;">错误三</span></strong>：error while loading shared libraries: libatk-bridge-2.0.so.0: cannot open shared object file: No such file or directory</p>
<p>暂时无解：一直install 不了libatk-bridge2.0-0这个依赖，总是报未找到匹配软件包！！！</p>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">总结</span></strong></span></p>
<p>Electron rebuild到上面最后的一个错，就走不下去了，那个缺失的库始终无法安装，也就是Ubuntu 12.04 上运行Electron宣告失败。</p>
<p>Ubuntu12.04 试了两天，太心累了，系统缺失的库太多了且有装不上的。</p>
<p>最后，我更换Ubuntu16.04 做尝试，却很快成功跑起Electron。它仅仅缺失一个库，上面大部分错误都没有出现。不过要注意Node使用10版本、gcc使用4.9就行了，使用Node 12、gcc 5都会报错的。&nbsp;</p>
<p><span style="font-size: 14pt;"><strong><span style="color: #3366ff;">其他Linux</span></strong></span></p>
<p><strong><span style="color: #ff6600;">错误一</span></strong>：Need executable 'rpmbuild' to convert dir to rpm。</p>
<p>解决：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">yum</span> <span style="color: #0000ff;">install</span> rpm-build</pre>
</div>
<p><strong><span style="color: #ff6600;">错误二</span></strong>：打开应用时，显示&nbsp;segmentation fault。</p>
<p>原因：打包appId重复了。</p>
<p><strong><span style="color: #ff6600;">错误三</span></strong>：没有go</p>
<p>解决：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">sudo</span> <span style="color: #0000ff;">yum</span> <span style="color: #0000ff;">install</span> golang</pre>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>