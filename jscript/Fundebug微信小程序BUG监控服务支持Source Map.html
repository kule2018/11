<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Fundebug微信小程序BUG监控服务支持Source Map' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Fundebug微信小程序BUG监控服务支持Source Map</center></div><div class='banquan'>原文出处:本文由博客园博主Fundebug提供。<br/>
原文连接:https://www.cnblogs.com/fundebug/p/fundebug-wechat-miniprogram-support-sourcemap.html</div><br>
    <p><strong>摘要：</strong> 自动还原真实出错位置，快速修复BUG。</p>
<p><img src="./images/Fundebug微信小程序BUG监控服务支持Source Map0.png" /></p>
<h3 id="source-map功能">Source Map功能</h3>
<blockquote>
<p>微信小程序的Source Map功能目前只在 iOS 6.7.2 及以上版本支持。</p>
</blockquote>
<p>微信小程序在打包时，会将所有 js 代码打包成一个文件，从而减少体积，加快访问速度。</p>
<p>然而，压缩代码的错误是很难Debug的，因为错误位置是这样的:</p>
<ul>
<li>文件：app-service.js</li>
<li>行号：13782</li>
<li>列号：7974</li>
</ul>
<p>这时，错误的位置信息(<strong>文件，行号和列号</strong>)失去了价值，因为开发者很难知道它所对应的源代码位置。</p>
<p>Fundebug的微信小程序BUG监控支持通过Source Map还原出错位置：</p>
<ul>
<li>文件：utils/util.js</li>
<li>行号：573</li>
<li>列号：8</li>
</ul>
<p>这样的话，开发者能够迅速定位出错的源代码。</p>
<p>在Fundebug控制台，只需要点击Source Map按钮，就可以切换压缩前后的堆栈：</p>
<p><img src="./images/Fundebug微信小程序BUG监控服务支持Source Map1.png" /></p>
<p>如果希望使用Source Map功能，用户则需要：</p>
<ul>
<li>从微信小程序管理后台<a href="https://docs.fundebug.com/notifier/wxjs/sourcemap/download.html">下载Source Map</a>文件</li>
<li>在Fundebug项目管理后台<a href="https://docs.fundebug.com/notifier/wxjs/sourcemap/upload/">上传Source Map</a>文件</li>
</ul>
<h3 id="下载source-map文件">下载Source Map文件</h3>
<ul>
<li>登陆<a href="https://mp.weixin.qq.com/">微信公众平台</a></li>
<li>切换到左侧&quot;开发&quot;页面</li>
<li>点击链接&quot;下载线上版本Source Map文件&quot;</li>
</ul>
<h3 id="上传source-map文件">上传Source Map文件</h3>
<p>将下载的Source Map文件解压缩，仅需上传解压缩的文件中的<strong>__APP__/app-service.map.map</strong>文件。</p>
<p><strong>上传步骤</strong></p>
<ul>
<li>进入Fundebug『控制台』</li>
<li>选择『项目设置』</li>
<li>点击『Source Map』</li>
<li>选中需要上传的Source Map文件(支持上传多个Source Map文件)</li>
<li>点击『上传』</li>
</ul>
<p>上传Source Map时可以配置应用版本:</p>
<p><img src="./images/Fundebug微信小程序BUG监控服务支持Source Map2.png" /></p>
<p>下图为已经上传的不同版本的Source Map文件:</p>
<p><img src="./images/Fundebug微信小程序BUG监控服务支持Source Map3.png" /></p>
<p>若希望区分不同版本微信小程序的Source Map文件，则需要在接入Fundebug插件时，配置对应的<a href="https://docs.fundebug.com/notifier/wxjs/customize/appversion.html">appversion</a>属性，与上传Source Map时设置的版本保持一致：</p>
<pre><code><code>fundebug.init({
    appVersion: &quot;3.2.5&quot;
});</code></pre>
<p>Fundebug微信小游戏BUG监控服务的Source Map功能也将尽快推出，敬请期待。</p>
<p>最后，感谢青团社的小伙伴的协助~</p>
<h3 id="参考">参考</h3>
<ul>
<li><a href="https://docs.fundebug.com/notifier/wxjs/sourcemap/">Fundebug文档： 微信小程序Source Map</a></li>
<li><a href="https://blog.fundebug.com/2017/03/13/sourcemap-tutorial/">Source Map入门教程</a></li>
</ul>
<h3 id="关于fundebug">关于Fundebug</h3>
<p><a href="https://www.fundebug.com/">Fundebug</a>专注于JavaScript、微信小程序、微信小游戏、支付宝小程序、React Native、Node.js和Java线上应用实时BUG监控。 自从2016年双十一正式上线，Fundebug累计处理了20亿+错误事件，付费客户有阳光保险、核桃编程、荔枝FM、掌门1对1、微脉、青团社等众多品牌企业。欢迎大家<a href="https://www.fundebug.com/team/create">免费试用</a>！</p>
<p><a href="./images/Fundebug微信小程序BUG监控服务支持Source Map4.png"><img src="./images/Fundebug微信小程序BUG监控服务支持Source Map4.png" alt="img" /></a></p>
<h3 id="版权声明">版权声明</h3>
<p>转载时请注明作者 <strong>Fundebug</strong>以及本文地址：<br />
<a href="https://blog.fundebug.com/2019/08/26/fundebug-wechat-miniprogram-support-sourcemap/" class="uri">https://blog.fundebug.com/2019/08/26/fundebug-wechat-miniprogram-support-sourcemap/</a></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>