<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JS-DOM事件' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JS-DOM事件</center></div><div class='banquan'>原文出处:本文由博客园博主陈莺莺呀提供。<br/>
原文连接:https://www.cnblogs.com/chenyingying0/p/12123878.html</div><br>
    <p><strong>JS DOM</strong><strong>设置元素属性</strong></p>
<p>设置id为box的这个元素的文字颜色,属性是减号连接的复合形式时</p>
<p>必需要转换为驼峰形式</p>
<div class="cnblogs_code">
<pre><code>       <span style="color: #0000ff;">var</span> box=document.getElementById("box"<span style="color: #000000;">);
       box.style.color</span>='#f00'<span style="color: #000000;">;
       box.style.fontWeight</span>="bold"<span style="color: #000000;">;
       </span><span style="color: #0000ff;">var</span> lis=document.getElementById("list").getElementsByTagName("li"<span style="color: #000000;">);
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 遍历每一个li</span>
       <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> i=0,len=lis.length;i&lt;len;i++<span style="color: #000000;">){
          lis[i].style.color</span>='#00f'<span style="color: #000000;">;
          </span><span style="color: #0000ff;">if</span>(i==0<span style="color: #000000;">){
             lis[i].style.backgroundColor</span>="#ccc"<span style="color: #000000;">;
          }</span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i==1<span style="color: #000000;">){
             lis[i].style.backgroundColor</span>="#666"<span style="color: #000000;">;
          }</span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i==2<span style="color: #000000;">){
             lis[i].style.backgroundColor</span>="#999"<span style="color: #000000;">;
          }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
               lis[i].style.backgroundColor</span>="#333"<span style="color: #000000;">;
          }
       }</span></pre>
</div>
<p>innerHTML获取和设置标签之间的文本和html内容</p>
<p>className重新设置类，会替换掉原来的类</p>
<p>如果元素有多个class属性值，那么会全部获取到</p>
<div class="cnblogs_code">
<pre><code>       <span style="color: #0000ff;">var</span> lis=document.getElementById("list").getElementsByTagName("li"<span style="color: #000000;">);
       </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> i=0,len=lis.length;i&lt;len;i++<span style="color: #000000;">){
           console.log(lis[i].innerHTML);
           lis[i].innerHTML</span>+='程序'<span style="color: #000000;">;
           lis[</span>1].className="current"<span style="color: #000000;">;
       }
       console.log(document.getElementById(</span>"box").className);</pre>
</div>
<p>属性设置与获取</p>
<div class="cnblogs_code">
<pre><code>        <span style="color: #0000ff;">var</span> p=document.getElementById("text"<span style="color: #000000;">);
        </span><span style="color: #0000ff;">var</span> user=document.getElementById("user");  <span style="color: #008000;">//</span><span style="color: #008000;"> null</span>
        console.log(p.getAttribute("class"));  <span style="color: #008000;">//</span><span style="color: #008000;">p.className</span>
        console.log(user.getAttribute("validate"<span style="color: #000000;">));
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 给p设置一个data-color的属性</span>
        p.setAttribute("data-color","red"<span style="color: #000000;">);
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 给input设置一个isRead的属性</span>
        user.setAttribute("isRead","false"<span style="color: #000000;">);
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 删除p上的align属性</span>
        p.removeAttribute("align");</pre>
</div>
<p><strong>JS</strong><strong>事件：</strong></p>
<p>&nbsp;</p>
<p>鼠标事件</p>
<p>onload 页面加载</p>
<p>onclick 鼠标点击</p>
<p>onmouseover 鼠标划入</p>
<p>onmouseout 鼠标离开</p>
<p>onmousemove 鼠标在目标内移动</p>
<p>onfocus 获得焦点</p>
<p>onblur 失去焦点</p>
<p>onchange 内容改变时</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<p align="left">在事件触发函数中，this是指对该DOM元素的引用</p>
<div class="cnblogs_code">
<pre><code>    &lt;input type="button" value="弹 出" onclick="alert('我是按钮')"&gt;
    &lt;!--鼠标划过按钮时调用mouseoverFn的函数--&gt;
    &lt;div class="btn" onmouseover="mouseoverFn(this,'#f00')" onmouseout="mouseoutFn(this,'#ff0')"&gt;开始&lt;/div&gt;
    &lt;div class="btn" onmouseover="mouseoverFn(this,'#0f0')" onmouseout="mouseoutFn(this,'#333')"&gt;结束&lt;/div&gt;
    &lt;script&gt;
        <span style="color: #0000ff;">function</span><span style="color: #000000;"> mouseoverFn(btn,bgColor){
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 鼠标划过按钮时，按钮的背景变为红色</span>
            btn.style.background=<span style="color: #000000;">bgColor;
        }
        </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> mouseoutFn(btn,bgColor){
            btn.style.background</span>=<span style="color: #000000;">bgColor;
        }</span></pre>
</div>
<p align="left">DOM 0级</p>
<p align="left">通过DOM获取元素</p>
<p align="left">元素.事件=脚本</p>
<p align="left">执行脚本可以是一个匿名函数，也可以直接调用函数，如果调用函数，语法是：ele.事件=函数名，不加括号</p>
<div class="cnblogs_code">
<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;demo&lt;/title&gt;
    &lt;style&gt;<span style="color: #000000;">
       .lock{width:140px;height:30px;line</span>-<span style="color: #000000;">height: 30px;background:#00f;
           color:#fff;font</span>-size:14px;text-align:center;border-<span style="color: #000000;">radius:5px;
           cursor:pointer;margin</span>-<span style="color: #000000;">top:30px;}
           .unlock{width:140px;height:30px;line</span>-height: 30px;background:#666<span style="color: #000000;">;
               color:#ccc;font</span>-size:14px;text-align:center;border-<span style="color: #000000;">radius:5px;
               cursor:pointer;margin</span>-<span style="color: #000000;">top:30px;}
    </span>&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="lock" id="btn"&gt;锁定&lt;/div&gt;
    &lt;script&gt;
        <span style="color: #008000;">//</span><span style="color: #008000;"> 获取按钮</span>
        <span style="color: #0000ff;">var</span> btn=document.getElementById("btn"<span style="color: #000000;">);
        </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> clickBtn(){
           alert(</span>"我是按钮"<span style="color: #000000;">);
        }
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 点击按钮调用clickBtn这个函数</span>
        btn.onclick=<span style="color: #000000;">clickBtn;
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 给按钮绑定事件,this是对该DOM元素的引用</span>
        btn.onclick=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
           </span><span style="color: #008000;">//</span><span style="color: #008000;"> 判断如果按钮是锁定，则显示为解锁，变为灰色，否则显示为锁定，变为蓝色</span>
           <span style="color: #0000ff;">if</span>(<span style="color: #0000ff;">this</span>.className=="lock"<span style="color: #000000;">){
               </span><span style="color: #0000ff;">this</span>.className="unlock"<span style="color: #000000;">;
               </span><span style="color: #0000ff;">this</span>.innerHTML="解锁"<span style="color: #000000;">;
           }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
               </span><span style="color: #0000ff;">this</span>.className="lock"<span style="color: #000000;">;
               </span><span style="color: #0000ff;">this</span>.innerHTML="锁定"<span style="color: #000000;">;
           }
        }
    </span>&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p align="left">window.onload会在网页中的所有元素（文本、图像、CSS样式等）加载完后才触发执行</p>
<div class="cnblogs_code">
<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script&gt;
    <span style="color: #008000;">//</span><span style="color: #008000;"> 页面加载时执行，unload页面卸载</span>
       <span style="color: #008000;">//</span><span style="color: #008000;"> 如果不加window.onload，那么执行脚本时会找不到div元素</span>
       window.onload=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 获取box</span>
            <span style="color: #0000ff;">var</span> box=document.getElementById("box"<span style="color: #000000;">);
            </span><span style="color: #0000ff;">var</span> clicked=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
                  alert(</span>'我被点击了'<span style="color: #000000;">);
            }
            box.onclick</span>=<span style="color: #000000;">clicked;
       }
    </span>&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="box"&gt;这是一个DIV&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p align="left">change事件,一般作用域select或checkbox或radio</p>
<p align="left">menu.selectedIndex 获取select中被选中的元素的下标</p>
<div class="cnblogs_code">
<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script&gt;
       <span style="color: #008000;">//</span><span style="color: #008000;"> 页面加载</span>
       window.onload=<span style="color: #000000;">init;

       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 初始化</span>
       <span style="color: #0000ff;">function</span><span style="color: #000000;"> init(){
          </span><span style="color: #008000;">//</span><span style="color: #008000;"> 获取下拉菜单</span>
          <span style="color: #0000ff;">var</span> menu=document.getElementById("menu"<span style="color: #000000;">);
          </span><span style="color: #008000;">//</span><span style="color: #008000;"> 给菜单绑定change事件,一般作用域select或checkbox或radio</span>
          menu.onchange=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             </span><span style="color: #008000;">//</span><span style="color: #008000;"> 获取当前选中的值</span>
             <span style="color: #008000;">//</span><span style="color: #008000;">var bgcolor=this.value;</span>
             <span style="color: #0000ff;">var</span> bgcolor=<span style="color: #000000;">menu.options[menu.selectedIndex].value;
             </span><span style="color: #008000;">//</span><span style="color: #008000;"> 如果bgcolor为空，则下面的脚本将不执行</span>
             <span style="color: #008000;">//</span><span style="color: #008000;"> if(bgcolor=="")return;</span>
             <span style="color: #008000;">//</span><span style="color: #008000;"> 设置body的背景色</span>
             <span style="color: #008000;">//</span><span style="color: #008000;"> 如果bgcolor为空，则将背景色设为白色，否则是选择的颜色</span>
             <span style="color: #0000ff;">if</span>(bgcolor==""<span style="color: #000000;">){
                document.body.style.background</span>="#fff"<span style="color: #000000;">;
             }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
                 document.body.style.background</span>=<span style="color: #000000;">bgcolor;
             }
          }
       }
    </span>&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="box"&gt;<span style="color: #000000;">
        请选择您喜欢的背景色：
        </span>&lt;select name="" id="menu"&gt;
            &lt;option value=""&gt;请选择&lt;/option&gt;
            &lt;option value="#f00"&gt;红色&lt;/option&gt;
            &lt;option value="#0f0"&gt;绿色&lt;/option&gt;
            &lt;option value="#00f"&gt;蓝色&lt;/option&gt;
            &lt;option value="#ff0"&gt;黄色&lt;/option&gt;
            &lt;option value="#ccc"&gt;灰色&lt;/option&gt;
        &lt;/select&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p align="left">鼠标事件：</p>
<p align="left">onsubmit 表单提交</p>
<p align="left">onmousedown 鼠标按下</p>
<p align="left">onmousemove 鼠标移动</p>
<p align="left">onmouseup 鼠标松开</p>
<p align="left">onresize 浏览器窗口大小调整</p>
<p align="left">onscroll 拖动滚动条</p>
<div class="cnblogs_code">
<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;<span style="color: #000000;">
       body{height:2000px;}
       .box{width:200px;height:200px;background:#f00;overflow:auto;}
    </span>&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="box" id="box"&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
        &lt;p&gt;拖动&lt;/p&gt;
    &lt;/div&gt;
    &lt;script&gt;
       <span style="color: #0000ff;">var</span> box=document.getElementById("box"<span style="color: #000000;">);
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定按下的事件</span>
       box.onmousedown=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我被按下了"<span style="color: #000000;">);
       }
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定移动的事件</span>
       box.onmousemove=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我被移动了"<span style="color: #000000;">);
       }
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定松开的事件</span>
       box.onmouseup=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我被松开了"<span style="color: #000000;">);
       }
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定点击的事件</span>
       box.onclick=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我被点击了"<span style="color: #000000;">);
       }
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 浏览器窗口尺寸发生改变时</span>
       window.onresize=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我的尺寸被改变了"<span style="color: #000000;">);
       }
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 拖动滚动条</span>
       window.onscroll=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我被拖动了"<span style="color: #000000;">);
       }
       box.onscroll</span>=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             console.log(</span>"我是DIV的滚动条"<span style="color: #000000;">);
       }
    </span>&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p align="left">键盘事件：</p>
<p align="left">onkeydown 按下键盘</p>
<p align="left">onkeypress按下键盘（只有字母和数字符号）</p>
<p align="left">onkeyup 松开键盘</p>
<p align="left">keyCode 返回键码或者字符代码</p>
<p align="left">&nbsp;</p>
<div class="cnblogs_code">
<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;<span style="color: #000000;">
       .text span{font</span>-<span style="color: #000000;">weight:bold;color:#f00;}
       em{font</span>-<span style="color: #000000;">style:normal;}
       b{font</span>-<span style="color: #000000;">weight:normal;}
    </span>&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div&gt;
        &lt;p class="text"&gt;
            &lt;b id="showcount"&gt;您还可以输入&lt;/b&gt;
            &lt;span id="totalbox"&gt;&lt;em id="count"&gt;30&lt;/em&gt;/30&lt;/span&gt;
        &lt;/p&gt;
        &lt;div class="input"&gt;
            &lt;textarea name="" id="text" cols="70" rows="4"&gt;&lt;/textarea&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
       <span style="color: #008000;">//</span><span style="color: #008000;"> 获取文本框及其他元素</span>
       <span style="color: #0000ff;">var</span> text=document.getElementById("text"<span style="color: #000000;">);
       </span><span style="color: #0000ff;">var</span> total=30<span style="color: #000000;">;
       </span><span style="color: #0000ff;">var</span> count=document.getElementById("count"<span style="color: #000000;">);
       </span><span style="color: #0000ff;">var</span> showcount=document.getElementById("showcount"<span style="color: #000000;">);
       </span><span style="color: #0000ff;">var</span> totalbox=document.getElementById("totalbox"<span style="color: #000000;">);
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定键盘事件</span>
       document.onkeyup=<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
             </span><span style="color: #008000;">//</span><span style="color: #008000;"> 获取文本框值的长度</span>
             <span style="color: #0000ff;">var</span> len=<span style="color: #000000;">text.value.length;
             </span><span style="color: #008000;">//</span><span style="color: #008000;"> 计算可输入的剩余字符</span>
             <span style="color: #0000ff;">var</span> allow=total-<span style="color: #000000;">len;
             </span><span style="color: #0000ff;">var</span> overflow=len-<span style="color: #000000;">total;
             </span><span style="color: #008000;">//</span><span style="color: #008000;"> 如果allow小于0</span>
             <span style="color: #0000ff;">if</span>(allow&lt;0<span style="color: #000000;">){
              showcount.innerHTML</span>="您已超出"+<span style="color: #000000;">overflow;
              totalbox.innerHTML</span>=''<span style="color: #000000;">;
             }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
                   showcount.innerHTML</span>='您还可以输入'<span style="color: #000000;">;
                   totalbox.innerHTML</span>='&lt;em id="count"&gt;'+allow+'&lt;/em&gt;/30'<span style="color: #000000;">;
             }
       }
    </span>&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p><img src="./images/JS-DOM事件0.png" alt="" /></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>