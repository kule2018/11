<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JSON定义及应用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JSON定义及应用</center></div><div class='banquan'>原文出处:本文由博客园博主坚持的力量々提供。<br/>
原文连接:https://www.cnblogs.com/pan1042/p/10654241.html</div><br>
    <p><img src="./images/JSON定义及应用0.png" alt="" width="268" height="268" /></p>
<h2>1 什么是JSON？</h2>
<ul>
<li>
<p>JSON 指的是 JavaScript 对象表示法（<strong>J</strong>ava<strong>S</strong>cript&nbsp;<strong>O</strong>bject&nbsp;<strong>N</strong>otation）</p>
</li>
<li>
<p>是轻量级的文本数据交换格式，JSON 比 XML 更小、更快，更易解析。</p>
</li>
</ul>
<h2>2 JSON 语法规则</h2>
<p>JSON 语法是 JavaScript 对象表示语法的子集。</p>
<ul>
<li>数据在名称/值对中</li>
<li>数据由逗号分隔</li>
<li>大括号保存对象</li>
<li>中括号保存数组</li>
</ul>
<p>JSON 值可以是：<span style="color: #ff0000;">字符串, 数字, 对象, 数组, 布尔值 或 null <br /></span></p>
<p>JavaScript 的值可以是：JSON 数据类型，也可以是 JavaScript 的表达式，包括函数，日期，及&nbsp;<em>undefined</em></p>
<h2>3 JSON和JavaScript对象之间的转换</h2>
<p><span style="color: #ff0000;">（1）JSON.parse()&nbsp;</span></p>
<p>需求：JSON 通常用于与服务端交换数据，在接收服务器数据时一般是字符串</p>
<p>作用：将json格式的字符串转换为JavaScript对象</p>
<p>语法：&nbsp;&nbsp;<span class="cnblogs_code">JSON.parse(text[, reviver])</span>&nbsp;</p>
<p>参数说明：</p>
<ul>
<li>text:必需， 一个有效的 JSON 字符串。</li>
<li>reviver:&nbsp;可选，一个转换结果的函数， 将为对象的每个成员调用此函数。</li>







</ul>
<p>返回值：对象或数组</p>
<p>示例一：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> jsonStr = '{ "name":"runoob", "alexa":10000, "site":"www.runoob.com" }';    <span style="color: #008000;">//</span><span style="color: #008000;"> json格式的字符串</span>
<span style="color: #0000ff;">var</span> obj = JSON.parse(jsonStr);    <span style="color: #008000;">//</span><span style="color: #008000;"> JavaScript对象</span>
document.write("name = " +<span style="color: #000000;"> obj.name);
document.write(</span>"name = " + obj[name]);    <span style="color: #008000;">//</span><span style="color: #008000;"> 第二种写法</span></pre>
</div>
<p>示例二：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> text = '{ "name":"Runoob", "initDate":"2013-12-14", "site":"www.runoob.com"}'<span style="color: #000000;">;
</span><span style="color: #008080;">2</span> <span style="color: #0000ff;">var</span> obj = JSON.parse(text, <span style="color: #0000ff;">function</span> (key, value) { <span style="color: #008000;">//</span><span style="color: #008000;"> 函数会遍历字符串中所有key和value，得到返回的value</span>
<span style="color: #008080;">3</span>     <span style="color: #0000ff;">if</span> (key == "initDate"<span style="color: #000000;">) {
</span><span style="color: #008080;">4</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> Date(value);
</span><span style="color: #008080;">5</span>     } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">6</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> value;
</span><span style="color: #008080;">7</span> <span style="color: #000000;">}});
</span><span style="color: #008080;">8</span> document.write("创建日期：" + obj.initDate);    <span style="color: #008000;">//</span><span style="color: #008000;"> 输出，创建日期：Sat Dec 14 2013 08:00:00 GMT+0800 (中国标准时间)</span></pre>
</div>
<p><span style="color: #ff0000;">（2）JSON.stringify()</span></p>
<p>需求：JSON 通常用于与服务端交换数据，在向服务器发送数据时一般是字符串</p>
<p>作用：将JavaScript对象转换为json格式的字符串</p>
<p>语法：&nbsp;&nbsp;<span class="cnblogs_code">JSON.stringify(value[, replacer[, space]])</span>&nbsp;</p>
<p>参数说明：</p>
<ul>
<li>text:必需， JavaScript对象或数组。</li>
<li>replacer:&nbsp;可选。用于转换结果的函数或数组。
<p>如果 replacer 是函数，则 JSON.stringify 将调用该函数，并传入每个成员的键和值。使用返回值而不是原始值。如果此函数返回 undefined，则排除成员。根对象的键是一个空字符串：""。</p>
<p>如果 replacer 是数组，则仅转换该数组中具有键值的成员。成员的转换顺序与键在数组中的顺序一样。当 value 参数也为数组时，将忽略 replacer 数组。（意思就是，对象或数组中<strong>key值</strong>如果在<strong>数组中存在</strong>，才保留。不存在的就去掉）</p>
</li>
<li>space:&nbsp;可选，文本添加缩进、空格和换行符，如果 space 是一个数字，则返回值文本在每个级别缩进指定数目的空格，如果 space 大于 10，则文本缩进 10 个空格。space 也可以使用非数字，如：\t。</li>
</ul>
<p>返回值：json格式的字符串</p>
<p>示例一：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> obj = { "name":"runoob",<span class="hl-code"> <span class="hl-quotes">"<span class="hl-string">initDate<span class="hl-quotes">"<span class="hl-code">:<span class="hl-reserved">new<span class="hl-code"> <span class="hl-builtin">Date<span class="hl-brackets">(<span class="hl-brackets">)，</span></span></span></span></span></span></span></span></span></span> "alexa":10000<span style="color: #000000;">};
</span><span style="color: #0000ff;">var</span> jsonStr=<span style="color: #000000;"> JSON.stringify(obj);
document.write(jsonStr);    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 输出，{"name":"runoob","initDate":"2019-04-04T08:56:59.679Z","alexa":10000}</span></pre>
</div>
<p>实例二：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #000000;">函数
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">var</span> obj = { "name":"Runoob", "age":23, "site":"www.runoob.com"<span style="color: #000000;">};
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">var</span> jsonStr = JSON.stringify(obj, <span style="color: #0000ff;">function</span><span style="color: #000000;">(key,value){
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">if</span> (key == "age"<span style="color: #000000;">) {
</span><span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">return</span> 55<span style="color: #000000;">;
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 8</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> value;
</span><span style="color: #008080;"> 9</span> }, '\t'<span style="color: #000000;">);
</span><span style="color: #008080;">10</span> document.write(jsonStr);    <span style="color: #008000;">//</span><span style="color: #008000;"> 输出，{"name":"Runoob","age":55,"site":"www.runoob.com"}</span>
<span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #000000;">数组
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> <span style="color: #0000ff;">var</span> obj = { "name":"Runoob", "age":23, "site":"www.runoob.com"<span style="color: #000000;">};
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">var</span> jsonStr = JSON.stringify(obj, [site,name], '\t');    <span style="color: #008000;">//</span><span style="color: #008000;"> 保留数组中出现的对象的key值，按数组的顺序</span>
<span style="color: #008080;">16</span> document.write(jsonStr);    <span style="color: #008000;">//</span><span style="color: #008000;"> 输出，{"site":"www.runoob.com","name":"Runoob"}</span></pre>
</div>
<p><span style="color: #ff0000;">（3）eval()</span></p>
<p>作用：使用的是 JavaScript 编译器，可解析 JSON 文本，然后生成 JavaScript 对象。<span style="color: #ff0000;">必须把文本包围在括号中，这样才能避免语法错误</span></p>
<p>语法：&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">var</span> obj = eval ("(" + txt + ")");</span>&nbsp;</p>
<p>参数说明：</p>
<ul>
<li>string:必需， 可以表示要计算的 JavaScript 表达式或要执行的语句。</li>
</ul>
<p>返回值：返回计算string的值，如果有的话&nbsp;（没有则不做任何改变返回）</p>
<p>&nbsp;示例一：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 表达式</span>
eval("x=10;y=20;document.write(x*y)");  <span style="color: #008000;">//</span><span style="color: #008000;">output为200</span>
document.write(eval("2+2"));　　<span style="color: #008000;">//</span><span style="color: #008000;">output为4</span>
<span style="color: #0000ff;">var</span> x=10<span style="color: #000000;">;
document.write(eval(x</span>+17));　　<span style="color: #008000;">//</span><span style="color: #008000;">output为27</span>

<span style="color: #008000;">//</span><span style="color: #008000;"> json格式字符串</span>
7 <span style="color: #0000ff;">var</span> json = '{"name":"GDT","age":23,"University":"GDUT"}'<span style="color: #000000;">;
</span>8 <span style="color: #0000ff;">var</span> info = eval('(' + json + ')');  <span style="color: #008000;">//</span><span style="color: #008000;">解析为JSON对象</span>
9 document.write(info);            <span style="color: #008000;">//</span><span style="color: #008000;">output为[object Object]</span></pre>
</div>
<h3>3.1 为什么eval()要用一对圆括号将字符串包起来？</h3>
<ul>
<li>原因：归结于eval本身的问题，由于json是以&rdquo;{}&rdquo;的方式来开始以及结束的，在JS中，它会被当成一个语句块来处理，所以必须强制性的将它转换成一种表达式。</li>
<li>解决方法：加上圆括号的目的是迫使eval函数在处理JavaScript代码的时候强制将括号内的表达式（expression）转化为对象，而不是作为语句（statement）来执行。举一个例子，例如对象字面量{}，如若不加外层的括号，那么eval会将大括号识别为JavaScript代码块的开始和结束标记，那么{}将会被认为是执行了一句空语句。请看下列例子的不同</li>
</ul>
<div class="cnblogs_code">
<pre><code>alert(eval("{}"));             <span style="color: #008000;">//</span><span style="color: #008000;"> return undefined</span>
alert(eval('('+'{}'+')'));     <span style="color: #008000;">//</span><span style="color: #008000;"> return object[Object] </span></pre>
</div>
<p><span style="color: #ff0000;">另外，相对于写法格式严格的JSON.parse()来说，eval()可以解析任何字符串，eval是不安全的，因为eval比较宽松，会有潜在的安全性问题</span>。比如以下代码：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> str1 = '{"a":"b"}'<span style="color: #000000;">;
document.write(eval(</span>"("+str1+")"));   <span style="color: #008000;">//</span><span style="color: #008000;">正常解析为对象</span>
<span style="color: #0000ff;">var</span> str2 = '{"a": (function(){alert("I can do something bad!");})()}'<span style="color: #000000;">;
eval(</span>'('+str2+')');                   <span style="color: #008000;">//</span><span style="color: #008000;">可以用来执行木马脚本</span></pre>
</div>
<p>&nbsp;</p>
<p>总结：第一次写自己的技术博文，很多都是从其他地方借鉴的。毕竟是第一次写，有不对的地方也请见谅，也暴露了我自己的逻辑思维需要提升了，讲述一个问题的解答方法比理解一个问题更难，希望以后能靠自己就写出好的博文，坚持就是胜利。</p>
<p>　　加油 2019！</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;【参考】</p>
<ol>
<li><a style="text-decoration: none;" href="https://www.cnblogs.com/DTBelieve/p/5346603.html" target="_blank">https://www.cnblogs.com/DTBelieve/p/5346603.html　　</a>JSON.parse()、JSON.stringify()、eval()讲解</li>
<li><a style="text-decoration: none;" href="http://www.runoob.com/json/json-tutorial.html" target="_blank">http://www.runoob.com/json/json-tutorial.html　　</a>JSON教程</li>
</ol>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>