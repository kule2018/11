<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript 时间戳' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript 时间戳</center></div><div class='banquan'>原文出处:本文由博客园博主韩宗泽提供。<br/>
原文连接:https://www.cnblogs.com/hanzongze/p/js-timestamp.html</div><br>
    <ul>
<li><a href="#1"><strong>1、JavaScript 的时间对象转换为时间戳</strong></a>
<ul>
<li><a href="#11">1.1、时间对象转时间戳的 5 种写法</a></li>
<li><a href="#12">1.2、获得当前时间的时间戳</a></li>
<li><a href="#13">1.3、获得 10 位数的时间戳</a></li>
</ul></li>
<li><a href="#2"><strong>2、JavaScript 的时间戳转换为时间对象</strong></a></li>
<li><a href="#3"><strong>3、总结</strong></a></li>
</ul>
<h2 id="1">1、JavaScript 的时间对象转换为时间戳</h2>
<h4 id="11">1.1、时间对象转时间戳的 5 种写法</h4>
<p>在 JavaScript 中，将时间对象转换为时间戳的方法有 5 种，示例如下：</p>
<pre><code><code>// 定义一个时间对象 dt，然后依次演示各种将 dt 转换为时间戳的写法
var dt = new Date(&quot;2019-07-04 23:59:59.999&quot;);

// 写法一，精确到毫秒，得到 13 位时间戳 1562255999999
console.log(dt.getTime());

// 写法二，精确到毫秒，得到 13 位时间戳 1562255999999
console.log(dt.valueOf());

// 写法三，精确到毫秒，得到 13 位时间戳 1562255999999
console.log(Number(dt));

// 写法四，精确到毫秒，得到 13 位时间戳 1562255999999
console.log(+dt);

// 写法五，精确到秒，得到 13 位时间戳 1562255999000，后三位固定为 000
console.log(Date.parse(dt));</code></pre>
<h4 id="12">1.2、获得当前时间的时间戳</h4>
<p>在 JavaScript 中，当前时间可用<code>new Date()</code>表示，再结合上文中时间对象转时间戳的写法，那么就能获得当前时间的时间戳了，示例如下：</p>
<pre><code><code>new Date().getTime();   // 方法一
new Date().valueOf();   // 方法二
Date.parse(new Date()); // 方法三
Number(new Date());     // 方法四
+new Date();            // 方法五</code></pre>
<p>执行结果如下图：<img src="./images/JavaScript 时间戳0.png" title="https://www.cnblogs.com/hanzongze/" alt="07001" /></p>
<h4 id="13">1.3、获得 10 位数的时间戳</h4>
<p>在 JavaScript 中，通过时间对象转换得到的时间戳都是 13 位的，但有时候我们也需要精确到秒的 10 位时间戳，比如微信支付用的就是 10 位的时间戳。要在 JavaScript 获得 10 位的时间戳，大致思路有两个，要么截取前 10 位，要么除以 1000。示例如下：</p>
<pre><code><code>// 将 13 位时间戳除以 1000 然后再取整，得到 10 位时间戳数字
parseInt(+new Date()/1000);

// 将 13 位时间戳转换为字符串截取前 10 位，得到 10 位时间戳字符串
(+new Date()).toString().substring(0,10); // 截取第 0~9 位
(+new Date()).toString().substr(0,10);    // 从第 0 位开始截取 10 位</code></pre>
<h2 id="2">2、JavaScript 的时间戳转换为时间对象</h2>
<p>在 JavaScript 中，时间戳转时间对象的方法非常简单，直接将一个时间戳做为<code>Date</code>的参数即可，示例如下：</p>
<pre><code><code>// 注意：参数中的时间戳必须是 13 位的，多一位或少一位都不行
new Date(1562169599000);

// 将时间戳转换为更加直观形象的本地时间
new Date(1562169599000).toLocaleString();</code></pre>
<p>执行结果如下图：<img src="./images/JavaScript 时间戳1.png" title="https://www.cnblogs.com/hanzongze/" alt="07002" /></p>
<h2 id="3">3、总结</h2>
<p>自从前后端完全分离的开发模式流行起来之后，本人就彻底成了一名后端开发，也就很少再写前端代码了。但在与前端对接的过程中，偶尔还是需要用到一些前端技术，比如 JavaScript 时间戳。</p>
<p>无论什么代码，写的少了自然也就生疏了，经常是双手摸着键盘死都想不起来具体要怎么写。要么一写就错反复改，要么想不起来上网查，总之是比较浪费时间。</p>
<p>于是我一狠心一跺脚，就写了这篇 JavaScript 时间对象与时间戳互相转换的小文。</p>
<blockquote>
<p><strong>本文链接</strong>：<a href="http://www.cnblogs.com/hanzongze/p/js-timestamp.html" class="uri">http://www.cnblogs.com/hanzongze/p/js-timestamp.html</a><br />
<strong>版权声明</strong>：本文为博客园博主 <a href="http://www.cnblogs.com/hanzongze/"><strong>韩宗泽</strong></a> 原创，作者保留署名权！欢迎通过转载、演绎或其它传播方式来使用本文，但必须在明显位置给出作者署名和本文链接！个人博客，能力有限，若有不当之处，敬请批评指正，谢谢！</p>
</blockquote>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>