<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript 自定义html元素鼠标右键菜单' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript 自定义html元素鼠标右键菜单</center></div><div class='banquan'>原文出处:本文由博客园博主授客提供。<br/>
原文连接:https://www.cnblogs.com/shouke/p/11969871.html</div><br>
    <p align="center"><span style="font-family: 'courier new', courier; font-size: 15px;"><strong>自定义</strong><strong>html</strong><strong>元素鼠标右键菜单</strong></span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<h1><span style="font-family: 'courier new', courier; font-size: 15px;">实现思路</span></h1>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">在触发contextmenu事件时，取消默认行为(也就是阻止浏览器显示自带的菜单),获取右键事件对象，来确定鼠标的点击位置，作为显示菜单的left和top值</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<h1><span style="font-family: 'courier new', courier; font-size: 15px;">编码实现</span></h1>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;!DOCTYPE html&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;html&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;head&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;meta charset="utf-8"&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;script&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; window.onload = function(){</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; var menu = document.getElementById('menu');</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; document.body.oncontextmenu = function(e){ // 自定义body元素的鼠标事件处理函数</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var e = e || window.event;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.preventDefault();&nbsp; //阻止系统右键菜单 IE8-不支持</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 显示自定义的菜单调整位置</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let scrollTop =</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; document.documentElement.scrollTop || document.body.scrollTop;// 获取垂直滚动条位置</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let scrollLeft =</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; document.documentElement.scrollLeft || document.body.scrollLeft;// 获取水平滚动条位置</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menu.style.display = 'block';</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menu.style.left = e.clientX + scrollLeft + 'px';</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menu.style.top = e.clientY&nbsp; + scrollTop + 'px';</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; }</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; // 鼠标点击其他位置时隐藏菜单</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; document.onclick = function(){</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; menu.style.display = 'none';</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; }</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">}</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;/script&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;style&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; *{</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; margin: 0;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; padding: 0;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; }</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; p{</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; margin-top: 200px;&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; }</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; ul li{</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; list-style-type: none;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; margin: 10px 0;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; text-align: center;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; }</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; #menu{</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; border:1px solid #ccc;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; background: #eee;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; <strong>position: absolute; // </strong><strong>设置菜单为绝对位置</strong></span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; width: 100px;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; height: 120px;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; display: none;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; }</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;/style&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;/head&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;body style="overflow:auto"&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &lt;div id="box" style="height:5000px; width:5000px"&gt;让body元素出现滚动条用的div&lt;/div&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &lt;div id="menu"&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ul&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#"&gt;分享&lt;/a&gt;&lt;/li&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#"&gt;收藏&lt;/a&gt;&lt;/li&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#"&gt;举报&lt;/a&gt;&lt;/li&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/ul&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;&nbsp;&nbsp; &lt;/div&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;/body&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&lt;/html&gt;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<h1><span style="font-family: 'courier new', courier; font-size: 15px;">实现效果</span></h1>
<p><span style="font-family: 'courier new', courier; font-size: 15px;"><img src="./images/JavaScript 自定义html元素鼠标右键菜单0.png" alt="" /></span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
<p><span style="font-family: 'courier new', courier; font-size: 15px;">&nbsp;</span></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>