<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript之正则表达式' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript之正则表达式</center></div><div class='banquan'>原文出处:本文由博客园博主任风来去匆匆提供。<br/>
原文连接:https://www.cnblogs.com/ruhaoren/p/11438930.html</div><br>
    <p><strong>正则表达式是构成搜索模式的字符序列。该搜索模式可用于文本搜索和文本替换操作。简单来说，正则表达式其实是一种规则，主要应用在检测字符串是否符合我们定义的规则上。</strong></p>
<p><strong>&nbsp;</strong></p>
<p><span style="font-size: 16px;"><strong>一 　　创建正则表达式</strong></span></p>
<p>&nbsp;</p>
<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>创建正则表达式有两种方式，他们都返回一个正则表达式对象（RegExpObject）：</p>
<p><strong>　　1， 字面量方式</strong>　　</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> reg = /pattern/modifiers;</pre>
</div>
<p>　　</p>
<p>　　<strong>2，&nbsp; 构造函数方式</strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> reg = <span style="color: #0000ff;">new</span> RegExp(pattern,modifiers);</pre>
</div>
<p><em>　　pattern</em>&nbsp;是一个字符串，指定了正则表达式的模式，他也可以是一个其他的正则表达式。</p>
<p><em>　　modifiers</em>&nbsp;是一个可选的字符串，包含属性 "g"、"i" 和 "m"，分别用于指定全局匹配、不区分大小写的匹配和多行匹配。</p>
<p>　　<strong>注意，如果不指定全局查找，即模式g，那么该正则表达式执行过程会在匹配到第一个符合模式要求的字符串时即停止。</strong></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>二 　　元字符</strong></span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>元字符是拥有特殊含义的字符，每个元字符本身就可以作为一个正则表达式存在，用来匹配一个字符。</strong></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 1，\d 匹配0-9的任何数字</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 2，\D 匹配任何非数字字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 3，\w 匹配任何单词字符，A-Z，a-z，0-9和下划线_</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 4，\W 匹配任何非单词字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 5，\s 匹配空白字符，例如空格，换行。制表符等</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 6，\S 匹配任何非空字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 7，.（点） 匹配除了换行和行结束符外的任何字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 8，\b 匹配单词边界</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 9，\B 匹配非单词边界</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>三 　　范围查找</strong></span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 很多时候我们并不只是想匹配一个确定的字符，而是希望匹配在一个范围内的字符，这时就需要用到正则表达式中的范围查找了，范围查找使用方括号[]。</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 1，[abc] &nbsp;&nbsp; 匹配在方括号内出现的字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 2，[^abc] 匹配在方括号内没有出现的字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 4，[0-9] 匹配0到9的任何数字，等同于\d</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 5，[a-z] 匹配a到z之间的任何字符</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 6，一个特殊的：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　(a-z|0-9) 匹配a-z的字符或者0-9的数字</p>
<p>&nbsp;</p>
<p>　　<strong>请注意，上面所提到的元字符和范围查找实际都只匹配单个字符。若果要匹配多个字符怎么办呢？这就需要下面讲到的量词了。</strong></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>四 　　量词</strong></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>　　</strong></span>1，x+ 　　匹配1个或多个x</p>
<p>&nbsp;</p>
<p>　　&nbsp;2，x* 　　匹配0个或多个x</p>
<p>&nbsp;</p>
<p>　　 3，x？ 　　匹配0个或1个x</p>
<p>&nbsp;</p>
<p>　　 4，x{n} 　　匹配n个x</p>
<p>&nbsp;</p>
<p>　　 5，x{m,n} 　　匹配m到n之间的数字个x（包含m个和n个）</p>
<p>&nbsp;</p>
<p>　　 6，x{m,} 　　匹配至少m个x</p>
<p>&nbsp;</p>
<p>　　 7，x$ 　　匹配以x结尾</p>
<p>&nbsp;</p>
<p>　　 8，^x 　　匹配以x开头</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>五 　　方法</strong></span></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 正则表达式有两个常用的方法：</p>
<p>　　<strong>1，test()</strong></p>
<p>　　检查指定字符串是否符合正则表达式的匹配规则，返回true或者false。</p>
<p>　　下面是一个验证座机号码的测试：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">var</span> reg = /0\d{2,3}-\d{7,8}/<span style="color: #000000;">g;
</span><span style="color: #008080;"> 2</span> console.log(reg.test("010-1234567"<span style="color: #000000;">));
</span><span style="color: #008080;"> 3</span> reg.lastIndex = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 4</span> console.log(reg.test("0111-12345678"<span style="color: #000000;">));
</span><span style="color: #008080;"> 5</span> reg.lastIndex = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 6</span> console.log(reg.test("021-123456"<span style="color: #000000;">));
</span><span style="color: #008080;"> 7</span> reg.lastIndex = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 8</span> console.log(reg.test("21-12345678"<span style="color: #000000;">));
</span><span style="color: #008080;"> 9</span> <span style="color: #008000;">/*</span>
<span style="color: #008080;">10</span> <span style="color: #008000;">true
</span><span style="color: #008080;">11</span> <span style="color: #008000;">true
</span><span style="color: #008080;">12</span> <span style="color: #008000;">false
</span><span style="color: #008080;">13</span> <span style="color: #008000;">false
</span><span style="color: #008080;">14</span> <span style="color: #008000;">*/</span></pre>
</div>
<p>　　<strong>如果不把reg.lastIndex属性设置为0，检测同一个字符串时将出现true和false循环出现的情况。</strong></p>
<p>　　</p>
<p>　　<strong>2，exec()</strong></p>
<p>　　检查字符串（子串）是否存在于被检测字符串，返回一个数组，包含被找到的值，并确定其位置。如果没有找到，则返回null。exec()方法返回的数组不只包含数组元素和length属性，还包括index和input两个属性，input表示被检索的字符串本身，index表示匹配到的第一个字符的位置。</p>
<p>　　另外，你可能已经有一个疑问了，上面的reg.lastIndex是什么鬼？原来，当正则表达式指定了全局匹配时，验证行为就变得稍微复杂一些了。</p>
<p><strong>　　lastIndex是正则表达式的一个属性，值是一个整数，执行检测时，程序将从 lastIndex 属性指定的字符处开始检索字符串 ，lastIndex属性默认是0，即从数组开头检索。当找到了与表达式相匹配的文本后，它将把lastIndex 属性设置为匹配文本的最后一个字符的下一个位置。这就是说，您可以通过反复调用检测方法来遍历字符串中的所有匹配文本。当方法再也找不到匹配的文本时，它将返回 null，并把 lastIndex 属性重置为 0。</strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">var</span> str = "hello world, hello everybody."<span style="color: #000000;">;
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">var</span> patt = <span style="color: #0000ff;">new</span> RegExp("hello","g"<span style="color: #000000;">);
</span><span style="color: #008080;"> 3</span> <span style="color: #0000ff;">var</span><span style="color: #000000;"> result;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">while</span> (<span style="color: #0000ff;">true</span><span style="color: #000000;">)  {
</span><span style="color: #008080;"> 5</span>       result =<span style="color: #000000;"> patt.exec(str);
</span><span style="color: #008080;"> 6</span>       <span style="color: #0000ff;">if</span><span style="color: #000000;">(result){
</span><span style="color: #008080;"> 7</span> <span style="color: #008000;">          //打印lastIndex属性
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">          console.log(patt.lastIndex);
</span><span style="color: #008080;"> 9</span>     }<span style="color: #0000ff;">else</span><span style="color: #000000;">{
</span><span style="color: #008080;">10</span>           <span style="color: #0000ff;">break</span><span style="color: #000000;"> ;
</span><span style="color: #008080;">11</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">12</span> <span style="color: #000000;"> }
</span><span style="color: #008080;">13</span> <span style="color: #008000;">/*</span>
<span style="color: #008080;">14</span> <span style="color: #008000;">0 表示第一次出现的&ldquo;hello&rdquo;的第一个字符的位置
</span><span style="color: #008080;">15</span> <span style="color: #008000;">5 表示第一次出现的&ldquo;hello&rdquo;的最后一个字符的下一个位置
</span><span style="color: #008080;">16</span> <span style="color: #008000;">13 表示第二次出现的&ldquo;hello&rdquo;的第一个字符的位置
</span><span style="color: #008080;">17</span> <span style="color: #008000;">18 表示第二次出现的&ldquo;hello&rdquo;的最后一个字符的下一个位置
</span><span style="color: #008080;">18</span> <span style="color: #008000;">*/</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>六　　支持正则表达式的字符串方法</strong></span></p>
<p>　　</p>
<p>　　<strong>1，replace()</strong></p>
<p>　　替换匹配到的所有项，需要全局模式g。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> str = "hello world,hello everybody"<span style="color: #000000;">;
</span><span style="color: #008080;">2</span> str = str.replace(/hello/g,"hi"<span style="color: #000000;">);
</span><span style="color: #008080;">3</span> console.log(str);<span style="color: #008000;">//</span><span style="color: #008000;">"hi world,hi everybody"</span></pre>
</div>
<p>　　</p>
<p>　　<strong>2，split()</strong></p>
<p>　　用匹配到的字符作为分隔符分隔字符串。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> str = "what is your name?"<span style="color: #000000;">;
</span><span style="color: #008080;">2</span> str = str.split(/\s+/<span style="color: #000000;">);
</span><span style="color: #008080;">3</span> console.log(str);<span style="color: #008000;">//</span><span style="color: #008000;">["what","is","your","name?"];</span></pre>
</div>
<p>　　</p>
<p>　　<strong>3，search()</strong></p>
<p>　　返回字符串中第一个匹配到的字符串的位置，该方法总是忽略lastIndex属性和全局模式g，所以他总是从开头查找，总是返回第一个出现的位置。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> str = "what is your name?"<span style="color: #000000;">;
</span><span style="color: #008080;">2</span> <span style="color: #0000ff;">var</span> index = str.search(/a/<span style="color: #000000;">g);
</span><span style="color: #008080;">3</span> console.log(index);<span style="color: #008000;">//</span><span style="color: #008000;">2</span></pre>
</div>
<p>　　</p>
<p>　　<strong>4，match()</strong></p>
<p>　　以数组形式返回被匹配到的所有项，需要全局模式g才能返回所有的。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">var</span> str = "hello world,hello everybody."<span style="color: #000000;">;
</span><span style="color: #008080;">2</span> <span style="color: #0000ff;">var</span> arr = str.match(/ll/<span style="color: #000000;">g);
</span><span style="color: #008080;">3</span> console.log(arr);<span style="color: #008000;">//</span><span style="color: #008000;">["ll","ll"]</span></pre>
</div>
<p>　　正则表达式在表单验证方面有着非常重要的应用，但使用它是很多程序员的噩梦，因为创建它很容易，但读懂它却并非易事，所以在学习正则表达式时除了靠死记硬背，只能考经验的累积了。</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>