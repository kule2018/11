<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript小练习1-控制div属性' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript小练习1-控制div属性</center></div><div class='banquan'>原文出处:本文由博客园博主绣花提供。<br/>
原文连接:https://www.cnblogs.com/xiuhua/p/10677247.html</div><br>
    <h1 id="题目">题目</h1>
<p>要实现的效果如图所示：<a href="http://fgm.cc/learn/lesson1/01.html">查看演示</a><br />
<img src="./images/JavaScript小练习1-控制div属性0.png" alt="在这里插入图片描述" /><br />
***</p>
<h1 id="分析">分析</h1>
<p>乍一看还以为十分简单，就是简单的点击button时触发的函数来改变样式值，不过做到后面就开始打脸了——“重置”功能。其实要实现重置功能，硬做还是可以的，就是cssText=“整个style表”，但是这么做太暴力了，十分不优雅，结果看了人家的源码真的是佩服的五体投地。</p>
<h5 id="首先注意css的三种创建方式">首先注意CSS的三种创建方式</h5>
<ul>
<li>内联样式/行内样式(inline style)</li>
<li>内部样式表(internal style sheet)</li>
<li>外部样式表(external style sheet)</li>
</ul>
<h5 id="js如何获取css样式">JS如何获取CSS样式</h5>
<ol>
<li><p>获取内联样式<br />
```javascript<br />
<div id ="myDiv" style="width:100px;height:100px;background-color:red; border:1px solid black;"></div><br />
<br />
```<br />
这种情况下，获取和设置样式靠style属性就可以了，有ele.style.属性名称和ele.style[&quot;属性名称&quot;]两种方式。<br />
要注意的是，对于CSS样式中的background-color等短杠连接的属性名称，在使用style获取属性设置样式的时候名称要改成驼峰式，即ele.style.backgroundColor或者ele.style['backgroundColor']。</p></li>
<li><p>获取外联样式（内部/外部样式表）<strong>（待更新）</strong></p></li>
</ol>
<p>==也就是说，一般情况下，我们都只能访问和设置行内样式！访问外联样式需要其他方法实现。==<br />
<br></p>
<h5 id="csstext的用法">cssText的用法</h5>
<p>用来设置行内样式。</p>
<pre><code><code>ele.style.cssText=&quot;CSS样式表&quot;;//添加行内样式
ele.style.cssText=&quot;&quot;;//可以清除行内样式</code></pre>
<p>这次的小练习中用到了ele.style.cssText=&quot;&quot;的用法来实现重置功能，这条语句只会清除行内样式，对样式表中设置的内容没有改动。<br />
<br></p>
<h5 id="window.onload的使用方法">window.onload的使用方法</h5>
<p><strong>window.onload加载事件在页面内容加载完成之后立即执行相应的函数。</strong></p>
<p><strong>使用方法：</strong><br />
<img src="./images/JavaScript小练习1-控制div属性1.png" alt="在这里插入图片描述" /><br />
onclick有相同用法：</p>
<ol>
<li>obj.onclick = function() {//function body//}</li>
<li><p>function func() {//function body//}<br />
obj.oncllick = func();<br />
<br></p>
<h5 id="和-的特殊用法">&amp;&amp; 和 || 的特殊用法</h5>
<p>a() &amp;&amp; b() :如果执行a()后返回true，则执行b()并返回b的值；如果执行a()后返回false，则整个表达式返回a()的值，b()不执行；</p></li>
</ol>
<p>a() || b() :如果执行a()后返回true，则整个表达式返回a()的值，b()不执行；如果执行a()后返回false，则执行b()并返回b()的值；</p>
<p>&amp;&amp; 优先级高于 ||。</p>
<pre><code><code>alert((1 &amp;&amp; 3 || 0) &amp;&amp; 4); //结果4
alert(1 &amp;&amp; 3 || 0 &amp;&amp; 4); //结果3
alert(0 &amp;&amp; 3 || 1 &amp;&amp; 4); //结果4</code></pre>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">附带优先级表</a><br />
<br></p>
<hr />
<h1 id="代码">代码</h1>
<p>我的代码：</p>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;JavaScript Reading Test&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;
        .main {
            margin: 30px;
            text-align: center;
        }
        #rectangle {
            width: 100px;
            height: 100px;
            margin: 20px auto;  
            background: red;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;main&quot;&gt;
        &lt;button&gt;变宽&lt;/button&gt;
        &lt;button&gt;变高&lt;/button&gt;
        &lt;button&gt;变色&lt;/button&gt;
        &lt;button&gt;隐藏&lt;/button&gt;
        &lt;button&gt;重置&lt;/button&gt;
        &lt;p id=&quot;rectangle&quot;&gt;&lt;/p&gt;
    &lt;/div&gt;
    &lt;script&gt;
        function changeCss(oDiv, oAttr, oVal) {
            oDiv.style[oAttr] = oVal; //变量访问样式属性，用ele.style[&#39;oAttr&#39;]
        }
        window.onload = function() {
            var oBtn = document.getElementsByTagName(&quot;button&quot;);
            var oDiv = document.getElementById(&quot;rectangle&quot;);
            var oAttr = [&quot;width&quot;, &quot;height&quot;, &quot;backgroundColor&quot;, &quot;display&quot;, &quot;display&quot;];
            var oVal = [&quot;200px&quot;, &quot;200px&quot;, &quot;blue&quot;, &quot;none&quot;, &quot;block&quot;];
            alert()
            for(var i = 0; i &lt; oBtn.length; ++ i) {
                oBtn[i].index = i;//注意！！
                oBtn[i].onclick = function() { 
                //这里绑定的回调函数是匿名函数，不会执行，但是当事件发生调用函数时，循环已经结束了
                    if (this.index == 4) { //内部引用自己用this，用oBtn[i]会报错
                        oDiv.style.cssText = &quot;&quot;;
                    }
                    //简洁用法：
                    // this.index == oBtn.length - 1 &amp;&amp; (oDiv.style.cssText = &quot;&quot;);
                    changeCss(oDiv, oAttr[this.index], oVal[this.index]);
                }
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>源代码</p>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;style&gt;
body{
    text-align: center;
}
div{
    width: 100px;
    height: 100px;
    background: black;
    margin:20px auto;
}
&lt;/style&gt;
&lt;body&gt;
    &lt;input type=&quot;button&quot; value=&quot;变宽&quot; /&gt;
    &lt;input type=&quot;button&quot; value=&quot;变高&quot; /&gt;
    &lt;input type=&quot;button&quot; value=&quot;变色&quot; /&gt;
    &lt;input type=&quot;button&quot; value=&quot;隐藏&quot; /&gt;
    &lt;input type=&quot;button&quot; value=&quot;重置&quot; /&gt;
    &lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;
    &lt;script&gt;
        var changeStyle = function (elem, attr, value){
            elem.style[attr] = value;
        };
        window.onload = function (){
            var oBtn = document.getElementsByTagName(&quot;input&quot;);
            var oDiv = document.getElementById(&quot;div1&quot;);
            var oAtt = [&quot;width&quot;,&quot;height&quot;,&quot;background&quot;,&quot;display&quot;,&quot;display&quot;];
            var oVal = [&quot;200px&quot;,&quot;200px&quot;,&quot;red&quot;,&quot;none&quot;,&quot;block&quot;];

            for (var i = 0; i &lt; oBtn.length; i++){
                oBtn[i].index = i;
                oBtn[i].onclick = function (){
                    this.index == oBtn.length - 1 &amp;&amp; (oDiv.style.cssText = &quot;&quot;);
                    changeStyle(oDiv, oAtt[this.index], oVal[this.index])
                }    
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><br></p>
<hr />
<p><br></p>
<h1 id="总结">总结</h1>
<p>这一次的小练习提升的知识点：</p>
<ol>
<li>使用对象/数组遍历访问的思想；</li>
<li>cssText用法，内联样式的访问和设置；</li>
<li>&amp;&amp; 和 || 的特殊用法；</li>
<li>window.onload=function(){};</li>
<li>this初步了解；</li>
<li>闭包和作用域的初步接触；</li>
</ol>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>