<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Package.json详解' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Package.json详解</center></div><div class='banquan'>原文出处:本文由博客园博主JOY886提供。<br/>
原文连接:https://www.cnblogs.com/rong88/p/11664337.html</div><br>
    <h1><strong>引言</strong></h1>
<p><strong>前端需要学习的东西真的挺多的，之前主要从事的是MVC框架，操作DOM，使用JQUERY比较多，不知到什么时候，发现现在前端MVVM是主流，不得不把之前的大部分东西丢掉，作为前端婴儿不断前行。</strong></p>
<p><strong>所以以后的文章，可能开始都比较基础，希望大拿不要见笑，若有不对的地方，希望指正，我也会不断修正迭代。</strong></p>
<p>&nbsp;</p>
<p><strong>在学习MVVM（react和vue）的时候，开始就是会找iview，element，ant-pro等现成的东西，去改。CLI直接安装，也没有想去学习webpack。现在看更早一点的自己，真的是傻的可爱，就是那种没有方法的新手，弄出来完事。真的要专注一个领域，还是要每个方面都要研究透，要有逻辑的思考。</strong></p>
<p><strong>以下，就是在工作过程中，自己提问题，自己找答案的。有时候觉得挺有趣，看着看着，发现原来npm指令是这样来的，那不仅要弄清楚webpage，npm后续也要多学习。在程序里，任何东西都是有关联的。</strong></p>
<p><strong>生命不息，行走不止，学习不停。</strong></p>
<p>&nbsp;</p>
<h1><strong>1.概念</strong></h1>
<p>Node.js项目遵循模块化的架构，当我们创建了一个Node.js项目，意味着创建了一个模块，这个模块的描述文件，被称为package.json</p>
<p><strong>亦即：模块的描述文件 =&nbsp;package.json</strong></p>
<p>&nbsp;</p>
<h1><strong>2.属性</strong></h1>
<p>name：包名</p>
<p>version：版本号</p>
<p><strong>main&nbsp; 入口文件</strong></p>
<p>license：项目许可</p>
<p><strong>scripts：声明一系列npm脚本指令</strong></p>
<p>dependencies：项目在生产环境中依赖的包-install的东西</p>
<p>devDependencies：项目在开发和测试环境中依赖的包</p>
<p>repository: 项目代码存放地方（git地址）</p>
<p>&nbsp;</p>
<h1><strong>3.生成</strong></h1>
<p>自己生成package.json，在项目根目录下面npm init即可</p>
<p><strong>另，解决了一个疑问，安装项目的时候，用的命令为什么不同？什么时候用npm run dev，什么时候用npm start ？</strong></p>
<p>答案：看&nbsp;scripts</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="0">
<div class="cnblogs_code">
<pre><code>"scripts"<span style="color: #000000;">: {

    </span>"start": "set NODE_ENV='development' &amp;&amp; webpack-dev-server --inline --progress --config ./build/webpack.config.development.js"<span style="color: #000000;">,

    </span>"build": "set NODE_ENV='development' &amp;&amp; webpack --config ./build/webpack.config.production.js"<span style="color: #000000;">

  },</span></pre>
</div>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span></div>
<p>在package.json的script里面看配置的脚本指令，再查看对应的文件。</p>
<p>start里面可以看到端口；build打包编译，start，启动</p>
<p>有点小开心哦！嗯，明白了！</p>
<p>&nbsp;</p>
<h1>引申：package-lock.json</h1>
<ol>
<li>package.json文件记录你项目中所需要的所有模块。当你执行npm&nbsp;install的时候，node会先从package.json文件中读取所有dependencies信息，然后根据dependencies中的信息与node_modules中的模块进行对比，没有的直接下载，已有的检查更新（最新版本的nodejs不会更新，因为有package-lock.json文件，下面再说）。另外，package.json文件只记录你通过npm&nbsp;install方式安装的模块信息，而这些模块所依赖的其他子模块的信息不会记录。</li>
<li>package-lock.json文件锁定所有模块的版本号，包括主模块和所有依赖子模块。当你执行npm&nbsp;install的时候，node从package.json文件读取模块名称，从package-lock.json文件中获取版本号，然后进行下载或者更新。因此，正因为有了package-lock.json文件锁定版本号，所以当你执行npm&nbsp;install的时候，node不会自动更新package.json文件中的模块，必须用npm&nbsp;install&nbsp;packagename（自动更新小版本号）或者npm&nbsp;install&nbsp;packagename@x.x.x（指定版本号）来进行安装才会更新，package-lock.json文件中的版本号也会随着更新。</li>
<li>附：当package.json与package-lock.json都不存在，执行"npm&nbsp;install"时，node会重新生成package-lock.json文件，然后把node_modules中的模块信息全部记入package-lock.json文件，但不会生成package.json文件，此时，你可以通过"npm&nbsp;init&nbsp;--yes"来初始化生成package.json文件。</li>
</ol>
<p>总结：</p>
<ul>
<li>项目中引入的包版本号之前经常会加^号，每次在执行npm&nbsp;install之后，下载的包都会发生变化，为了系统的稳定性考虑，每次执行完npm&nbsp;install之后会创建或者更新package-lock文件。该文件记录了上一次安装的具体的版本号，相当于是提供了一个参考，在出现版本兼容性问题的时候，就可以参考这个文件来修改版本号即可。</li>
<li>重新install删掉lock</li>
</ul>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>