<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修bootstrap-table 常用总结-树形结构（展开和折叠）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>bootstrap-table 常用总结-树形结构（展开和折叠）</center></div><div class='banquan'>原文出处:本文由博客园博主程先生哈提供。<br/>
原文连接:https://www.cnblogs.com/daniao11417/p/11688028.html</div><br>
    <p>　<span style="font-family: Microsoft YaHei; font-size: 14px;">　今天在工作的时候，遇到了一个需求，就是需要一键展开或者关闭树形结构。关于树形结构的不是很熟悉，然后去百度，结果也不是很准确。最后经过Google才找到。下面分享给大家</span></p>
<p><span style="font-family: Microsoft YaHei; font-size: 14px;">直接看代码：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span>         <span style="color: #0000ff;">var</span> flag = <span style="color: #0000ff;">true</span>;<span style="color: #008000;">//</span><span style="color: #008000;">开启还是关闭的标志位</span>
<span style="color: #008080;"> 2</span>         <span style="color: #0000ff;">function</span><span style="color: #000000;"> change_tree(target){
</span><span style="color: #008080;"> 3</span>             <span style="color: #0000ff;">if</span><span style="color: #000000;">(flag){
</span><span style="color: #008080;"> 4</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">$table.treegrid('getRootNodes').treegrid('expand');</span>
<span style="color: #008080;"> 5</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">$table.treegrid('getParentNode').treegrid('expand');</span>
<span style="color: #008080;"> 6</span>                 $table.treegrid('expandAll'<span style="color: #000000;">);
</span><span style="color: #008080;"> 7</span>                 flag = !<span style="color: #000000;">flag;
</span><span style="color: #008080;"> 8</span>             }<span style="color: #0000ff;">else</span><span style="color: #000000;">{
</span><span style="color: #008080;"> 9</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">$table.treegrid('getRootNodes').treegrid('collapse');</span>
<span style="color: #008080;">10</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">$table.treegrid('getParentNode').treegrid('collapse');</span>
<span style="color: #008080;">11</span>                 $table.treegrid('collapseAll'<span style="color: #000000;">);
</span><span style="color: #008080;">12</span>                 flag = !<span style="color: #000000;">flag;               
</span><span style="color: #008080;">13</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">14</span>         }</pre>
</div>
<p><span style="font-family: Microsoft YaHei; font-size: 14px;">上面的是折叠，下面的是展开。有一个标志位，每次执行不同的代码。然后把找到的表格贴在下面，方便大家查阅（侵删）</span></p>
<p><span style="font-family: Microsoft YaHei; font-size: 14px;">&nbsp;常用的配置项，这个表格可以和我<a href="https://www.cnblogs.com/daniao11417/p/11425146.html" target="_blank">上一篇的一起看</a></span></p>
<div class="table-box">
<table style="width: 900px;" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">参数</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">类型</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">默认值</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">描述</span></td>
</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">treeColumn</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">Numeric</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">0</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">树中表格中的哪一列</span></td>
</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">initialState</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">expanded</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">初始化时树的状态</span><br /><span style="font-size: 14px; font-family: Microsoft YaHei;">
'expanded' - 所有节点都展开</span><br /><span style="font-size: 14px; font-family: Microsoft YaHei;">
'collapsed' - 所有节点都折叠</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">saveState</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">Boolean</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">false</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">如果是true树的再次加载页面的时候树的状态将保存</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">saveStateMethod</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">cookie</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">'cookie' - 保存cookie的状态</span><br /><span style="font-size: 14px; font-family: Microsoft YaHei;">
'hash' - 保存hash的状态</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">saveStateName</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">tree-grid-state</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">通过cookie或hash的名字来保存状态</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">expanderTemplate</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">&lt;span class="treegrid-expander"&gt;&lt;/span&gt;</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">点击HTML元素时将折叠或展开分支</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">expanderExpandedClass</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">treegrid-expander-expanded</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">当它展开的时候可以使用扩展元素</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">expanderCollapsedClass</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">treegrid-expander-collapsed</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">当它折叠的时候可以使用扩展元素</span></td>




</tr>
<tr>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">indentTemplate</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">String</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">&lt;span class="treegrid-indent"&gt;&lt;/span&gt;</span></td>
<td><span style="font-size: 14px; font-family: Microsoft YaHei;">HTML元素将根据深度嵌套节点做填充</span></td>




</tr>



</tbody>



</table>



</div>
<p><span style="font-family: Microsoft YaHei; font-size: 14px;">然后下面是重头戏了,就是我们常用到的一些方法，都是有分封装的。大家可以自行取用</span></p>
<p>&nbsp;</p>
<div class="table-box">
<table style="width: 900px;" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">方法名称</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">描述</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">示例</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getRootNodes</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回树的根节点</span></td>
<td>
<div class="hljs-button signin" onclick="hljs.signin(event)" data-title="登录后复制">&nbsp;</div>
<p><span style="font-size: 14px; font-family: Microsoft YaHei;">
<code>// Expand all root nodes</code></span></p>
<p><span style="font-size: 14px; font-family: Microsoft YaHei;"><code>$('.tree').treegrid('getRootNodes').treegrid('expand');</code></span></p>
</td>

</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getNodeId</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回节点的id</span></td>
<td>
<pre name="code" class="javascript"></pre>
<span style="font-family: Microsoft YaHei; font-size: 14px;">if($('#node-2').treegrid('getNodeId')===2){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; // Do something with node 2</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
};</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getParentNodeId</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回父节点的id或如果节点是根就返回null</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">if($('#node-2').treegrid('getParentNodeId')===2){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; // Do something if parent node Id is 2</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
};</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getAllNodes</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回树的所有节点</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// Find all nodes</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; $('#tree-1').treegrid('getAllNodes').each(function() {</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; &nbsp; if ($(this).treegrid("isLast")) {</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; &nbsp; &nbsp; //Do something with all last nodes</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; &nbsp; }</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; });</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getParentNode</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回父节点或如果节点是根就返回null</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// Expand parent node</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
$('#node-2').treegrid('getParentNode').treegrid('collapse');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getChildNodes</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回节点的子节点或如果节点是叶子节点则返回null</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// Expand child nodes</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
$('#node-2').treegrid('getChildNodes').treegrid('expand');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">getDepth</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">返回树嵌套分支的深度</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// Expand all nodes 2nd nesting</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
$('.tree').find('tr').each(function(){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; if ($(this).treegrid('getDepth')&lt;2){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">$(this).treegrid('expand');</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; }</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
});</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isNode</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">如果元素是节点则返回true</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#tree-1').find('tr').each(function() {</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; &nbsp; if ($(this).treegrid("isNode")) {</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; &nbsp; &nbsp; //Do something</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; &nbsp; }</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; });</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isLeaf</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">该节点有叶子吗</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// hide all files</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
$('.tree').find('tr').each(function(){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; if ($(this).treegrid('isLeaf')){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">$(this).hide();</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; }</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
});</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isLast</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">如果节点在最后，则返回true</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// hide all last elements</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
$('.tree').find('tr').each(function(){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; if ($(this).treegrid('isLast')){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">$(this).hide();</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; }</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
});</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isFirst</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">如果节点在第一个，则返回true</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">// hide all last elements</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
$('.tree').find('tr').each(function(){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; if ($(this).treegrid('isFirst')){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">$(this).hide();</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; }</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
});</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isExpanded</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">节点是展开的吗</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">if($('#node-2').treegrid('isExpanded')){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; // Do something if node expanded</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
};</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isCollapsed</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">节点是折叠的吗</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">if($('#node-2').treegrid('isCollapsed')){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; // Do something if node collapsed</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
};</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">isOneOfParentsCollapsed</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">至少一个节点是折叠的吗&nbsp;</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">if($('#node-2').treegrid('isOneOfParentCollapsed')){</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
&nbsp; // Do something if one of parent collapsed</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
};</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">expand</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">展开节点</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#node-2').treegrid('expand');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">collapse</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">折叠节点</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#node-2').treegrid('collapse');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">expandRecursive</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">节点递归展开</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#node-2').treegrid('expandRecursive');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">collapseRecursive</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">节点递归折叠</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#node-2').treegrid('collapseRecursive');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">expandAll</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">展开所有节点</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#tree').treegrid('expandAll');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">collapseAll</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">折叠所有节点</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#tree').treegrid('collapseAll');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">toggle</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">当处于展开状态的时候将节点折叠</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">
当处于折叠状态的时候将节点展开</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#node-2').treegrid('toggle');</span></td>


</tr>
<tr>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">render</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">重绘节点及其子节点</span></td>
<td><span style="font-family: Microsoft YaHei; font-size: 14px;">$('#node-2').treegrid('render');</span></td>


</tr>

</tbody>

</table>

</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>