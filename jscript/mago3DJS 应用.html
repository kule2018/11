<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修mago3DJS 应用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>mago3DJS 应用</center></div><div class='banquan'>原文出处:本文由博客园博主在 水 一 方提供。<br/>
原文连接:https://www.cnblogs.com/w2011/p/11063093.html</div><br>
    <p><span>用于3D多块可视化的开源JavaScript库</span></p>
<p>生成3D GIS平台，集成和可视化AEC（建筑，工程，建筑）区域和传统的3D空间信息（3D GIS）。将AEC和3D GIS集成到Web浏览器中，室内，室外，无法区分。您可以浏览和协作进行大规模BIM（建筑信息模型），JT（Jupiter Tessellation）和3D GIS文件，而无需在Web浏览器上安装任何程序。</p>
<h1><a id="user-content-characteristic" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#characteristic"></a><span style="font-size: 16px;">特性</span></h1>
<ul>
<li><span>AEC和3D GIS的集成</span></li>
<li><span>室内和室外空间的无缝连接</span></li>
<li><span>在Web浏览器上运行，不需要单独的插件或ActiveX安装</span></li>
<li><span>它基于开源（Cesium，W​​eb World Wind）开发，具有出色的开放性和可扩展性</span></li>
<li><span>高效管理和超高速渲染高容量3-D文件</span></li>
</ul>
<h1><a id="user-content-supported-format-formats" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#supported-format-formats"></a><span style="font-size: 16px;">支持的格式格式</span></h1>
<ul>
<li><span>IFC（工业基础课程）</span></li>
<li><span>JT（木星镶嵌）</span></li>
<li><span>OBJ</span></li>
<li><span>3DS</span></li>
<li><span>COLLADA</span></li>
</ul>
<h1><a id="user-content-getting-started-1" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#getting-started-1"></a><span style="font-size: 16px;">入门</span></h1>
<h3><a id="user-content-1-development-environment" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#1-development-environment"></a><span>1.发展环境</span></h3>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" rel="nofollow">java8</a><span>&nbsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp;</span></li>
<li><a href="https://www.eclipse.org/downloads/eclipse-packages/" rel="nofollow">eclipse neon（需要）</a><span>&nbsp;&emsp;&emsp;&emsp;&emsp;</span></li>
</ul>
<h3><a id="user-content-2-source-download" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#2-source-download"></a><span>2.来源下载</span></h3>
<ul>
<li><span>使用git通过git clone&nbsp;</span><a href="https://github.com/Gaia3D/mago3djs.git">https://github.com/Gaia3D/mago3djs.git</a><span><span>将源安装到C：\ git \ repository \ mago3djs&nbsp;</span><span>。</span></span></li>
<li><span>运行eclipse并导入mago3djs&nbsp;</span><code>Project Import File -&gt; import -&gt; General -&gt; Projects from Folder or Archive</code><span>。</span></li>
<li><span>如果您不使用git，请单击&ldquo;下载ZIP&rdquo;链接进行安装。</span></li>
</ul>
<h3><a id="user-content-3-node-install" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#3-node-install"></a><span>3.节点安装</span></h3>
<ul>
<li><a href="https://nodejs.org/ko/download/" rel="nofollow">节点</a><span>安装窗口安装（.msi）64位。</span></li>
<li><span>安装完成后，转到C：\ git \ repository \ mago3djs目录。</span></li>
<li><span>使用节点包管理器为mago3DJS安装node_modules。</span>
<pre><code><code>C:\git\repository\mago3djs&gt; npm install</code></pre>
</li>
<li><span>gulp在Terminal中全局安装以使用模块的模型。</span>
<pre><code><code>C:\git\repository\mago3djs&gt; npm install -g gulp</code></pre>
</li>
</ul>
<h3><a id="user-content-4-f4d-converter-install" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#4-f4d-converter-install"></a><span>4. F4D转换器安装</span></h3>
<ul>
<li><span>安装程序：F4D转换器64位（此安装需要Windows 7或更高版本）</span></li>
<li><span>安装路径：C：\ F4DConverter \</span></li>
</ul>
<h3><a id="user-content-5-data-conversion" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#5-data-conversion"></a><span>5.数据转换</span></h3>
<ul>
<li><span>创建一个目录来存储已更改的f4d（outputFolder）&nbsp;</span><br /><code>C:\f4d\projectname (Create a directory for each project under the data folder, the root folder)</code></li>
<li><span>保存要转换为C：\ demo_data（inputFolder）的数据</span></li>
<li><span>以管理员身份运行命令行提示符（cmd.exe）并移至安装F4D Converter的目录</span></li>
<li><span>运行&nbsp;</span><br /><span><span>※有关F4D Conveter参数</span><a href="https://github.com/Gaia3D/F4DConverter"><span>F4D Conveter</span></a><span>的描述</span></span>
<pre><code><code>C:\F4DConverter&gt;F4DConverter.exe #inputFolder C:\demo_f4d #outputFolder C:\f4d\projectname #log C:\demo_f4d/logTest.txt #indexing y</code></pre>
</li>
<li><span>创建符号链接以将转换后的F4D文件用作mago3D JS项目中的Web服务</span>
<ul>
<li><span>使用管理权限运行命令行提示符（cmd.exe）并转到mago3D JS项目</span><br /><code>C:\mago3djs</code></li>


</ul>
<pre><code><code>C:\mago3djs&gt;mklink /d "C:\git\repository\mago3djs\f4d" "C:\f4d" 
(delete is rmdir data)</code></pre>
</li>
</ul>
<h3><a id="user-content-6-edit-configuration-file" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#6-edit-configuration-file"></a><span>6.编辑配置文件</span></h3>
<p><span><span>添加两个配置文件。</span><span>（data.json，policy.json）</span></span></p>
<h4><a id="user-content-datajson-1" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#datajson-1"></a><span>data.json</span></h4>
<ul>
<li><span><span>它分为三个主要领域。</span><span>存储属性值的属性，存储子节点信息的子节点，存储位置信息的其他区域</span></span></li>
<li><span>- attributes字段的isPhysical属性是必需属性</span></li>
<li><span>json的根节点的data_key与f4d文件夹下的项目名称匹配</span></li>
</ul>
<pre><code><code>{
    //attributes area
    "attributes" : {
      "isPhysical" : false,
      "nodeType": "root",
      "projectType": "project Type"
    },
    //Child node area
    "children" : [
    ],
    //Location information area
    "data_key" : "Project name",
    "data_name" : "Project name"
}</code></pre>
<ul>
<li><code>C:\f4d\projectname</code><span>找到要渲染的目录</span></li>
<li><span>目录名称中F4D_之后的字符是唯一标识符</span></li>
<li><span>将data.json文件中child的data_key值修改为唯一标识符</span></li>
<li><span>将纬度，经度，高度，航向，俯仰和滚动值修改为适当的值</span></li>
</ul>
<pre><code><code>//Child node area
"children" : [
   {
     "attributes" : {
       "isPhysical" : true,
       "nodeType" : "..."
     },
     "children" : [
     ],
     "data_key" : "Unique identifier",
     "data_name" : "Data name",
     "latitude" : Enter latitude,
     "longitude" : Enter longitude,
     "height" : Enter height,
     "heading" : Enter heading,
     "pitch" : Enter pitch,
     "roll" : Enter roll
  }
]
</code></pre>
<h4><a id="user-content-policyjson-1" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#policyjson-1"></a><span>policy.json</span></h4>
<ul>
<li><span>要在初始化时加载的项目，Init Camera Latitude，Longitude，CallBack Function，Geo Server setup</span></li>
<li><code>,&nbsp;</code><span><span>如果要加载多个项目</span><span>，</span><span>请</span><span>在初始化页面时输入要加载的键值</span></span></li>
</ul>
<pre><code><code>"geo_data_default_projects": [
    "data.json"
]</code></pre>
<ul>
<li><span>修复网页启动时移动的位置（lattiude，经度）</span></li>
</ul>
<pre><code><code>"geo_init_latitude": "Enter latitude",
"geo_init_longitude": "Enter longitude"</code></pre>
<ul>
<li><span>铯离子地形访问令牌设置</span>
<ul>
<li><span>下载maago3D JS源代码时，默认使用Cesium World Terrain。</span></li>
<li><span><span>在mago3D JS中发布用于铯地形应用的Cesium离子令牌。</span><span>（</span></span><a href="https://cesium.com/ion/signin" rel="nofollow">https://cesium.com/ion/signin</a><span>）</span></li>
</ul>
</li>
</ul>
<pre><code><code> "geo_cesium_ion_token": "cesium ion token" </code></pre>
<h3><a id="user-content-7-running-node-server" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#7-running-node-server"></a><span>7.运行节点服务器</span></h3>
<pre><code><code>// If you run the server privately
C:\git\repository\mago3djs&gt;node server.js
// If you run the server as public
C:\git\repository\mago3djs&gt;node server.js --public true
</code></pre>
<h3><a id="user-content-8-browser-verification" class="anchor" href="https://github.com/Gaia3D/mago3djs/tree/master#8-browser-verification"></a><span>8.浏览器验证</span></h3>
<pre><code><code>// Cesium
http:localhost/sample/cesium.html
// WorlWind
http:localhost/sample/worldwind.html</code></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>