<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='ç”µè„‘,ç”µè„‘è®²è§£,ç”µè„‘æŠ€æœ¯,ç¼–ç¨‹,ç”µè„‘æ•…éšœç»´ä¿®vue Routerâ€”â€”åŸºç¡€ç¯‡' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>é¦–é¡µ</a></li>
</div><div onclick='hidden1()' >åˆ†äº«</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>vue Routerâ€”â€”åŸºç¡€ç¯‡</center></div><div class='banquan'>åŸæ–‡å‡ºå¤„:æœ¬æ–‡ç”±åšå®¢å›­åšä¸»å¦–è‰²è°ƒæä¾›ã€‚<br/>
åŸæ–‡è¿æ¥:https://www.cnblogs.com/loveyt/p/10898625.html</div><br>
    <h2 id="vuerouterç®€ä»‹">vueâ€”â€”Routerç®€ä»‹</h2>
<ul>
<li>vue-routeræ˜¯Vue.jså®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œå®ƒå’Œvue.jsæ˜¯æ·±åº¦é›†æˆçš„ï¼Œé€‚åˆç”¨äºæ„å»ºå•é¡µé¢åº”ç”¨ã€‚</li>
<li>vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ã€‚</li>
<li>ä¼ ç»Ÿçš„é¡µé¢åº”ç”¨ï¼Œæ˜¯ç”¨ä¸€äº›è¶…é“¾æ¥æ¥å®ç°é¡µé¢åˆ‡æ¢å’Œè·³è½¬çš„ã€‚åœ¨vue-routerå•é¡µé¢åº”ç”¨ä¸­ï¼Œåˆ™æ˜¯è·¯å¾„ä¹‹é—´çš„åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶çš„åˆ‡æ¢</li>
</ul>
<h2 id="åŠ¨æ€è·¯ç”±åŒ¹é…">1.åŠ¨æ€è·¯ç”±åŒ¹é…</h2>
<p>å®šä¹‰è·¯ç”±</p>
<pre><code><code>export default new Router({
  routes: [
    {
      path: &#39;/BookDetails/:book_id&#39;,
      name: &#39;BookDetails&#39;,
      component: BookDetails
    },
    {
      path: &#39;/BookDetailsTwo/user/:username/book/:book_id&#39;,
      name: &#39;BookDetailsTwo&#39;,
      component: BookDetailsTwo
    },
  ]
})</code></pre>
<p>é¡µé¢</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book&quot;&gt;
    &lt;router-link :to=&quot;{ name:&#39;BookDetails&#39;,params: { book_id: 1}}&quot;&gt;è·³è½¬ä¹¦ç±è¯¦æƒ…\^o^/&lt;/router-link&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-link :to=&quot;{ name:&#39;BookDetailsTwo&#39;,params: { book_id: 1,username: &#39;å°å˜Ÿå˜Ÿ&#39;}}&quot;&gt;è·³è½¬é«˜çº§ä¹¦ç±è¯¦æƒ…â”—|ï½€Oâ€²|â”›&lt;/router-link&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
<p>æ¡¥è±†éº»è¢‹(ï½ï¿£â–½ï¿£)ï½ï¼Œå¯¹<code>&lt;router-link&gt;</code>æ„Ÿå…´è¶£çš„å¯ä»¥å»çœ‹ <a href="https://router.vuejs.org/zh/api/#router-link">å®˜ç½‘</a> ,æˆ–è€… <a href="https://www.cnblogs.com/mn6364/p/9889431.html">å°å§å§(â—'â—¡'â—)</a> çš„åšå®¢ï¼Œç„¶ågo on</p>
<p>ç‚¹å‡»è·³è½¬åçš„è·¯ç”±</p>
<pre><code><code>http://localhost:8080/#/BookDetails/1
http://localhost:8080/#/BookDetailsTwo/user/å°å˜Ÿå˜Ÿ/book/1</code></pre>
<p>è·³è½¬çš„é¡µé¢æ¥æ”¶è·¯ç”±å‚æ•°ï¼ˆä»¥ç¬¬äºŒä¸ªè·³è½¬ä¸ºä¾‹ï¼‰</p>
<pre><code><code>&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;äººå‘˜å§“åï¼š{{$route.params.username }}&lt;/div&gt;
    &lt;div&gt;ä¹¦ç±Idï¼š{{$route.params.book_id }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
<p><img src="./images/vue Routerâ€”â€”åŸºç¡€ç¯‡0.png" /></p>
<h3 id="å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–">1-1å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–</h3>
<blockquote>
<p>æé†’ä¸€ä¸‹ï¼Œå½“ä½¿ç”¨è·¯ç”±å‚æ•°æ—¶ï¼Œä¾‹å¦‚ä» /BookDetails/1 å¯¼èˆªåˆ° /BookDetails/2ï¼ŒåŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚å› ä¸ºä¸¤ä¸ªè·¯ç”±éƒ½æ¸²æŸ“åŒä¸ªç»„ä»¶ï¼Œæ¯”èµ·é”€æ¯å†åˆ›å»ºï¼Œå¤ç”¨åˆ™æ˜¾å¾—æ›´åŠ é«˜æ•ˆã€‚ä¸è¿‡ï¼Œè¿™ä¹Ÿæ„å‘³ç€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šå†è¢«è°ƒç”¨ã€‚</p>
</blockquote>
<p>BookDetailsç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book-details&quot;&gt;
    &lt;div&gt;ä¹¦ç±è¯¦æƒ… Idï¼š{{ $route.params.book_id }}&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-link :to=&quot;{ name:&#39;BookDetails&#39;,params: { book_id: 2}}&quot;&gt;è‡ªå·±è·³è‡ªå·±o(*ï¿£â–½ï¿£*)ãƒ–&lt;/router-link&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data () {
    return {
    }
  },
  created(){
    console.log(&#39;è¿›å…¥å›¾ä¹¦è¯¦æƒ…~~~&#39;)
  }
}
&lt;/script&gt;</code></pre>
<blockquote>
<p>å½“ä»çˆ¶é¡µé¢è·³è½¬è¿‡æ¥æ—¶ä¼šæ‰§è¡Œç”Ÿå‘½å‘¨æœŸï¼Œå½“ç‚¹å‡»ç»„ä»¶é‡Œâ€˜è‡ªå·±è·³è‡ªå·±â€™æ—¶ï¼Œå¹¶ä¸ä¼šè§¦å‘ç”Ÿå‘½å‘¨æœŸ</p>
</blockquote>
<h4 id="å½“ç„¶æœ‰è§£å†³æ–¹æ³•è¿˜æ˜¯ä¸¤ç§Ë‡Ë‡">å½“ç„¶æœ‰è§£å†³æ–¹æ³•ï¼Œè¿˜æ˜¯ä¸¤ç§(â—Ë‡âˆ€Ë‡â—)</h4>
<h5 id="æ–¹æ³•ä¸€ä½¿ç”¨watch-ç›‘æµ‹å˜åŒ–-route-å¯¹è±¡">æ–¹æ³•ä¸€ï¼ˆä½¿ç”¨watch (ç›‘æµ‹å˜åŒ–) $route å¯¹è±¡ï¼‰</h5>
<p>BookDetailsç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book-details&quot;&gt;
    &lt;div&gt;ä¹¦ç±è¯¦æƒ… Idï¼š{{ $route.params.book_id }}&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-link :to=&quot;{ name:&#39;BookDetails&#39;,params: { book_id: 2}}&quot;&gt;è‡ªå·±è·³è‡ªå·±o(*ï¿£â–½ï¿£*)ãƒ–&lt;/router-link&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data () {
    return {
    }
  },
  created(){
    console.log(&#39;è¿›å…¥å›¾ä¹¦è¯¦æƒ…~~~&#39;)
  },
  watch:{
    &#39;$route&#39;(to, from) {
      console.log(to ,from, &#39;è·¯ç”±ç›‘å¬&#39;)
    }
  }
}
&lt;/script&gt;</code></pre>
<p><img src="./images/vue Routerâ€”â€”åŸºç¡€ç¯‡1.png" /></p>
<h5 id="æ–¹æ³•äºŒä½¿ç”¨beforerouteupdate-å¯¼èˆªå®ˆå«">æ–¹æ³•äºŒï¼ˆä½¿ç”¨beforeRouteUpdate å¯¼èˆªå®ˆå«ï¼‰</h5>
<p>BookDetailsç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book-details&quot;&gt;
    &lt;div&gt;ä¹¦ç±è¯¦æƒ… Idï¼š{{ $route.params.book_id }}&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-link :to=&quot;{ name:&#39;BookDetails&#39;,params: { book_id: 2}}&quot;&gt;è‡ªå·±è·³è‡ªå·±o(*ï¿£â–½ï¿£*)ãƒ–&lt;/router-link&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data () {
    return {
    }
  },
  created(){
    console.log(&#39;è¿›å…¥å›¾ä¹¦è¯¦æƒ…~~~&#39;)
  },
  beforeRouteUpdate(to, from, next){
    console.log(to, from, next,&#39;å¯¼èˆªå®ˆå«&#39;)
    next()
  },
  watch:{
    &#39;$route&#39;(to, from) {
      console.log(to ,from, &#39;è·¯ç”±ç›‘å¬&#39;)
    }
  }
}
&lt;/script&gt;</code></pre>
<blockquote>
<p>æ³¨æ„ï¼ï¼ï¼ç”¨beforeRouteUpdateè®°å¾—è¦å†™next()ï¼Œå¦åˆ™ä¸ä¼šè·³è½¬è·¯ç”±</p>
</blockquote>
<p><img src="./images/vue Routerâ€”â€”åŸºç¡€ç¯‡2.png" /></p>
<h3 id="æ•è·æ‰€æœ‰è·¯ç”±æˆ–-404-not-found-è·¯ç”±">1-2æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±</h3>
<p>åœ¨ä¸Šé¢å®šä¹‰å¥½çš„è·¯ç”±æœ€åé¢æ·»åŠ æ–°çš„è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/Fruits*&#39;,
  name: &#39;FruitsBanana&#39;,
  component: FruitsBanana
},
{
  path: &#39;*&#39;,
  name: &#39;NotFound&#39;,
  component: NotFound
}</code></pre>
<blockquote>
<p>å½“ä½¿ç”¨é€šé…ç¬¦è·¯ç”±æ—¶ï¼Œè¯·ç¡®ä¿è·¯ç”±çš„é¡ºåºæ˜¯æ­£ç¡®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å«æœ‰é€šé…ç¬¦çš„è·¯ç”±åº”è¯¥æ”¾åœ¨æœ€åã€‚è·¯ç”± { path: '*' } é€šå¸¸ç”¨äºå®¢æˆ·ç«¯ 404 é”™è¯¯</p>
</blockquote>
<p>å½“æˆ‘ä»¬è¾“å…¥è·¯ç”±</p>
<pre><code><code>http://localhost:8080/#/FruitsApple</code></pre>
<p>ä¼šåŒ¹é…åˆ°â€˜/Fruits*â€™ï¼Œæ‰€ä»¥ä¼šè·³è½¬åˆ°FruitsBananaç»„ä»¶</p>
<p>å†æ¬¡è¾“å…¥è·¯ç”±</p>
<pre><code><code>http://localhost:8080/#/IAmVeryHappy</code></pre>
<p>è¿™æ—¶å€™å°±ä¼šåŒ¹é…åˆ° â€˜*â€™ï¼Œ è‡ªç„¶å°±è¿›å…¥åˆ°äº†å†™å¥½çš„404é¡µé¢(ï½ï¿£â–½ï¿£)ï½</p>
<h3 id="é«˜çº§åŒ¹é…æ¨¡å¼">1-3é«˜çº§åŒ¹é…æ¨¡å¼</h3>
<blockquote>
<p>vue-router ä½¿ç”¨ path-to-regexp ä½œä¸ºè·¯å¾„åŒ¹é…å¼•æ“ï¼Œæ‰€ä»¥æ”¯æŒå¾ˆå¤šé«˜çº§çš„åŒ¹é…æ¨¡å¼ï¼Œä¾‹å¦‚ï¼šå¯é€‰çš„åŠ¨æ€è·¯å¾„å‚æ•°ã€åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œç”šè‡³æ˜¯è‡ªå®šä¹‰æ­£åˆ™åŒ¹é…ã€‚</p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­(ï½ï¿£â–½ï¿£)ï½</p>
<pre><code><code>// ç¬¬ä¸€ç§ï¼ˆé€šè¿‡ï¼Ÿçš„ä½¿ç”¨å¯ä»¥å°†å‚æ•°å˜ä¸ºå¯é€‰é¡¹ï¼‰
{
  path: &#39;/PathToRegexp/:id?&#39;,
  name: &#39;PathToRegexp&#39;,
  component: PathToRegexp
}


// ç¬¬äºŒç§ï¼ˆä½¿ç”¨æ­£åˆ™ï¼ŒåªåŒ¹é…idæ˜¯æ•°å­—ï¼‰
{
  path: &#39;/PathToRegexp/:id(\\d+)&#39;,
  name: &#39;PathToRegexp&#39;,
  component: PathToRegexp
}</code></pre>
<h4 id="æ›´å¤šé«˜çº§åŒ¹é…"><a href="https://github.com/vuejs/vue-router/blob/dev/examples/route-matching/app.js">æ›´å¤šé«˜çº§åŒ¹é…</a></h4>
<h3 id="åŒ¹é…ä¼˜å…ˆçº§">1-4åŒ¹é…ä¼˜å…ˆçº§</h3>
<blockquote>
<p>æœ‰æ—¶å€™ï¼ŒåŒä¸€ä¸ªè·¯å¾„å¯ä»¥åŒ¹é…å¤šä¸ªè·¯ç”±ï¼Œæ­¤æ—¶ï¼ŒåŒ¹é…çš„ä¼˜å…ˆçº§å°±æŒ‰ç…§è·¯ç”±çš„å®šä¹‰é¡ºåºï¼šè°å…ˆå®šä¹‰çš„ï¼Œè°çš„ä¼˜å…ˆçº§å°±æœ€é«˜ã€‚</p>
</blockquote>
<p>å®šä¹‰è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/Fruits*&#39;,
  name: &#39;FruitsBanana&#39;,
  component: FruitsBanana
},
{
  path: &#39;/Fruits*&#39;,
  name: &#39;FruitsPear&#39;,
  component: FruitsPear
}</code></pre>
<p>å¦‚ä¸Šé¢æ‰€ç¤ºï¼Œè°å…ˆå®šä¹‰çš„ï¼Œè°çš„ä¼˜å…ˆçº§å°±æœ€é«˜ï¼Œåªè¦åŒ¹é…æˆåŠŸï¼Œå°±ä¼šè¿›å…¥åˆ°FruitsBananaç»„ä»¶</p>
<h2 id="åµŒå¥—è·¯ç”±">2.åµŒå¥—è·¯ç”±</h2>
<blockquote>
<p>Vueä¼šè‡ªå¸¦ä¸€ä¸ª<router-view> æ˜¯æœ€é¡¶å±‚çš„å‡ºå£ï¼Œæ¸²æŸ“æœ€é«˜çº§è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ã€‚åŒæ ·åœ°ï¼Œä¸€ä¸ªè¢«æ¸²æŸ“ç»„ä»¶åŒæ ·å¯ä»¥åŒ…å«è‡ªå·±çš„åµŒå¥— <router-view></p>
</blockquote>
<p>å‘ï¼Œç°åœ¨æ¥æ”¹å˜ä¸€ä¸‹è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/Fruits&#39;,
  name: &#39;Fruits&#39;,
  component: Fruits,
  children: [
    {
      path: &#39;Apple&#39;,
      name: &#39;Apple&#39;,
      component: Apple
    },
    {
      path: &#39;Grape&#39;,
      name: &#39;Grape&#39;,
      component: Grape
    },
  ]
}</code></pre>
<p>ç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div&gt;
    æˆ‘æ˜¯æ°´æœé¡µé¢&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-link :to=&quot;{ name:&#39;Apple&#39;}&quot;&gt;è‹¹æœğŸ&lt;/router-link&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-link :to=&quot;{ name:&#39;Grape&#39;}&quot;&gt;è‘¡è„ğŸ‡&lt;/router-link&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
<p>å½“æˆ‘ä»¬è®¿é—®</p>
<pre><code><code>http://localhost:8080/#/Fruits/Apple
http://localhost:8080/#/Fruits/Grape</code></pre>
<p>å°±ä¼šæ›´æ”¹ç»„ä»¶é‡Œé¢<code>&lt;router-view&gt;&lt;/router-view&gt;</code>çš„å®¹</p>
<p>butå½“æˆ‘ä»¬è®¿é—®</p>
<pre><code><code>http://localhost:8080/#/Fruits</code></pre>
<p>çš„æ—¶å€™<code>&lt;router-view&gt;&lt;/router-view&gt;</code>æ˜¯æ²¡ç”¨å†…å®¹çš„(T_T)</p>
<p>è§£å†³æ–¹æ³•</p>
<pre><code><code>{
  path: &#39;/Fruits&#39;,
  name: &#39;Fruits&#39;,
  component: Fruits,
  children: [
    {
      path:&#39;&#39;,
      component: Strawberry
    },
    {
      path: &#39;Apple&#39;,
      name: &#39;Apple&#39;,
      component: Apple
    },
    {
      path: &#39;Grape&#39;,
      name: &#39;Grape&#39;,
      component: Grape
    },
  ]
}</code></pre>
<p>æ²¡é”™åŠ ä¸€ä¸ªç©ºçš„pathï¼Œè¿™æ—¶å€™è®¿é—®</p>
<pre><code><code>http://localhost:8080/#/Fruits</code></pre>
<p><code>&lt;router-view&gt;&lt;/router-view&gt;</code>å°±ä¼šæ˜¾ç¤ºStrawberryç»„ä»¶çš„å†…å®¹(â—Ë‡âˆ€Ë‡â—)</p>
<h2 id="ç¼–ç¨‹å¼çš„å¯¼èˆª">3.ç¼–ç¨‹å¼çš„å¯¼èˆª</h2>
<p>é™¤äº†ä½¿ç”¨<code>&lt;router-link&gt;</code> åˆ›å»º a æ ‡ç­¾æ¥å®šä¹‰å¯¼èˆªé“¾æ¥ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ© router çš„å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡ç¼–å†™ä»£ç æ¥å®ç°ã€‚</p>
<h4 id="router.pushlocation-oncomplete-onabort"><code>router.push(location, onComplete?, onAbort?)</code></h4>
<p>æ³¨æ„ï¼šåœ¨ Vue å®ä¾‹å†…éƒ¨ï¼Œä½ å¯ä»¥é€šè¿‡ $router è®¿é—®è·¯ç”±å®ä¾‹ã€‚å› æ­¤ä½ å¯ä»¥è°ƒç”¨ this.$router.pushã€‚</p>
<p>æƒ³è¦å¯¼èˆªåˆ°ä¸åŒçš„ URLï¼Œåˆ™ä½¿ç”¨ router.push æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œåˆ™å›åˆ°ä¹‹å‰çš„ URLã€‚</p>
<p>å½“ä½ ç‚¹å‡» <router-link> æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨å†…éƒ¨è°ƒç”¨ï¼Œæ‰€ä»¥è¯´ï¼Œç‚¹å‡» &lt;router-link :to=&quot;...&quot;&gt; ç­‰åŒäºè°ƒç”¨ router.push(...)ã€‚</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">å£°æ˜å¼</th>
<th style="text-align: center;">ç¼–ç¨‹å¼</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td>
<td style="text-align: center;"><code>router.push(...)</code></td>
</tr>
</tbody>
</table>
<pre><code><code>// å­—ç¬¦ä¸²
router.push(&#39;home&#39;)

// å¯¹è±¡
router.push({ path: &#39;home&#39; })

// å‘½åçš„è·¯ç”±
router.push({ name: &#39;user&#39;, params: { userId: &#39;123&#39; }})

// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=private
router.push({ path: &#39;register&#39;, query: { plan: &#39;private&#39; }})</code></pre>
<p>æ³¨æ„ï¼šå¦‚æœæä¾›äº† <code>path</code>ï¼Œ<code>params</code> ä¼šè¢«å¿½ç•¥ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„ <code>query</code> å¹¶ä¸å±äºè¿™ç§æƒ…å†µã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä¸‹é¢ä¾‹å­çš„åšæ³•ï¼Œä½ éœ€è¦æä¾›è·¯ç”±çš„ <code>name</code> æˆ–æ‰‹å†™å®Œæ•´çš„å¸¦æœ‰å‚æ•°çš„ <code>path</code></p>
<pre><code><code>const userId = &#39;123&#39;
router.push({ name: &#39;user&#39;, params: { userId }}) // -&gt; /user/123
router.push({ path: `/user/${userId}` }) // -&gt; /user/123
// è¿™é‡Œçš„ params ä¸ç”Ÿæ•ˆ
router.push({ path: &#39;/user&#39;, params: { userId }}) // -&gt; /user</code></pre>
<p>åŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äº router-link ç»„ä»¶çš„ to å±æ€§ã€‚</p>
<h4 id="router.replacelocation-oncomplete-onabort"><code>router.replace(location, onComplete?, onAbort?)</code></h4>
<blockquote>
<p>è·Ÿ router.push å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•</p>
</blockquote>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">å£°æ˜å¼</th>
<th style="text-align: center;">ç¼–ç¨‹å¼</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&lt;router-link :to=&quot;...&quot; replace&gt;</code></td>
<td style="text-align: center;"><code>router.replace(...)</code></td>
</tr>
</tbody>
</table>
<h3 id="router.gon"><code>router.go(n)</code></h3>
<blockquote>
<p>è¿™ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ„æ€æ˜¯åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼ window.history.go(n)</p>
</blockquote>
<pre><code><code>// åœ¨æµè§ˆå™¨è®°å½•ä¸­å‰è¿›ä¸€æ­¥ï¼Œç­‰åŒäº history.forward()
router.go(1)

// åé€€ä¸€æ­¥è®°å½•ï¼Œç­‰åŒäº history.back()
router.go(-1)

// å‰è¿› 3 æ­¥è®°å½•
router.go(3)

// å¦‚æœ history è®°å½•ä¸å¤Ÿç”¨ï¼Œé‚£å°±é»˜é»˜åœ°å¤±è´¥å‘—
router.go(-100)
router.go(100)</code></pre>
<h2 id="å‘½åè·¯ç”±">4.å‘½åè·¯ç”±</h2>
<blockquote>
<p>æœ‰æ—¶å€™ï¼Œé€šè¿‡ä¸€ä¸ªåç§°æ¥æ ‡è¯†ä¸€ä¸ªè·¯ç”±æ˜¾å¾—æ›´æ–¹ä¾¿ä¸€äº›ï¼Œç‰¹åˆ«æ˜¯åœ¨é“¾æ¥ä¸€ä¸ªè·¯ç”±ï¼Œæˆ–è€…æ˜¯æ‰§è¡Œä¸€äº›è·³è½¬çš„æ—¶å€™ã€‚ä½ å¯ä»¥åœ¨åˆ›å»º Router å®ä¾‹çš„æ—¶å€™ï¼Œåœ¨ routes é…ç½®ä¸­ç»™æŸä¸ªè·¯ç”±è®¾ç½®åç§°ã€‚</p>
</blockquote>
<p>è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/user/:userId&#39;,
  name: &#39;user&#39;,
  component: User
}</code></pre>
<p>ç”¨æ³•</p>
<pre><code><code>&lt;router-link :to=&quot;{ name: &#39;user&#39;, params: { userId: 123 }}&quot;&gt;User&lt;/router-link&gt;
æˆ–è€…
router.push({ name: &#39;user&#39;, params: { userId: 123 }})</code></pre>
<h2 id="å‘½åè§†å›¾">5.å‘½åè§†å›¾</h2>
<p>é¦–å…ˆæ¥å®šä¹‰é¡µé¢</p>
<pre><code><code>&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;router-view/&gt;
    &lt;router-view name=&quot;fruits&quot;/&gt;
    &lt;router-view name=&quot;animal&quot;/&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
<p>è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/&#39;,
  components: {
    default: Food, // é»˜è®¤è§†å›¾
    fruits:Pineapple,
    animal:Cat
  }
}</code></pre>
<p>å½“æˆ‘ä»¬è®¿é—®è·¯ç”±</p>
<pre><code><code>http://localhost:8081/#/</code></pre>
<p>çš„æ—¶å€™ï¼Œä¼šæ¸²æŸ“è§†å›¾å¯¹åº”çš„ç»„ä»¶</p>
<h4 id="åµŒå¥—å‘½åè§†å›¾">åµŒå¥—å‘½åè§†å›¾</h4>
<p>å®šä¹‰Foodç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  æˆ‘æ˜¯Food
  &lt;router-view/&gt;
  &lt;router-view name=&quot;animal&quot;/&gt;
&lt;/template&gt;</code></pre>
<p>å®šä¹‰è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/&#39;,
  component: Food,
  children: [
    {
      path: &#39;Milk&#39;,
      component: Milk
    },
    {
      path: &#39;Cat&#39;,
      components: {
        default: Fish,
        animal: Cat
      }
    }
  ]
}</code></pre>
<p>è®¿é—®è·¯ç”±</p>
<pre><code><code>http://localhost:8081/#/Milk
// æ¸²æŸ“å¯¹åº”çš„ Milk ç»„ä»¶

http://localhost:8081/#/Cat
// æ¸²æŸ“å¯¹åº”çš„ Fishã€Cat ç»„ä»¶</code></pre>
<blockquote>
<p>æœ‰æ—¶å€™æˆ‘ä»¬é¡¹ç›®ä¼šæœ‰ä¸€ä¸ªå§‹ç»ˆå­˜åœ¨çš„å¯¼èˆªæ ï¼Œä½†æ˜¯å‘¢ï¼Œç™»å½•é¡µåˆä¸éœ€è¦ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨å‘½åè§†å›¾</p>
</blockquote>
<h2 id="é‡å®šå‘å’Œåˆ«å">6.é‡å®šå‘å’Œåˆ«å</h2>
<h4 id="é‡å®šå‘redirect">é‡å®šå‘ï¼ˆredirectï¼‰</h4>
<p>è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/Fruits&#39;,
  name: &#39;Fruits&#39;,
  component: Fruits,
  redirect: &#39;/Fruits/Apple&#39;
  children: [
    {
      path: &#39;Apple&#39;,
      name: &#39;Apple&#39;,
      component: Apple
    },
    {
      path: &#39;Grape&#39;,
      name: &#39;Grape&#39;,
      component: Grape
    },
  ]
}</code></pre>
<p>å½“æˆ‘ä»¬è®¿é—®</p>
<pre><code><code>http://localhost:8080/#/Fruits</code></pre>
<p>çš„æ—¶å€™ï¼Œå¯¹è‡ªåŠ¨è·³è½¬åˆ°</p>
<pre><code><code>http://localhost:8080/#/Fruits/Apple</code></pre>
<h3 id="æ³¨æ„">æ³¨æ„ï¼ï¼ï¼</h3>
<p>ä¸Šé¢æœ‰å†™åˆ°</p>
<pre><code><code>{
  path: &#39;/Fruits&#39;,
  name: &#39;Fruits&#39;,
  component: Fruits,
  children: [
    {
      path:&#39;&#39;,
      component: Strawberry
    },
    {
      path: &#39;Apple&#39;,
      name: &#39;Apple&#39;,
      component: Apple
    },
    {
      path: &#39;Grape&#39;,
      name: &#39;Grape&#39;,
      component: Grape
    }
  ]
},</code></pre>
<p>å…¶ä¸­</p>
<pre><code><code>{
  path:&#39;&#39;,
  component: Strawberry
}
// ä¸ä¼šæ”¹å˜è·¯ç”±ï¼Œåªæ˜¯ä¼šæŠŠ&lt;router-view/&gt;é»˜è®¤æ˜¾ç¤ºåˆ°Strawberryç»„ä»¶

redirect: &#39;/Fruits/Apple&#39;
// ä¼šæ”¹å˜è·¯ç”±åˆ°Apple</code></pre>
<p>æ˜¯ä¸ä¸€æ ·çš„</p>
<p>é‡å®šå‘çš„ç›®æ ‡ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‘½åçš„è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/Fruits&#39;,
  name: &#39;Fruits&#39;,
  component: Fruits,
  redirect: {name: &#39;Apple&#39;},
  children: [
    {
      path: &#39;Apple&#39;,
      name: &#39;Apple&#39;,
      component: Apple
    },
    {
      path: &#39;Grape&#39;,
      name: &#39;Grape&#39;,
      component: Grape
    },
  ]
}</code></pre>
<p>å½“æˆ‘ä»¬è®¿é—®</p>
<pre><code><code>http://localhost:8080/#/Fruits</code></pre>
<p>çš„æ—¶å€™ï¼Œå¯¹è‡ªåŠ¨è·³è½¬åˆ°</p>
<pre><code><code>http://localhost:8080/#/Fruits/Apple</code></pre>
<p>ç”šè‡³æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼ŒåŠ¨æ€è¿”å›é‡å®šå‘ç›®æ ‡</p>
<pre><code><code>{ 
  path: &#39;/Fruits&#39;, 
  redirect: to =&gt; {
  // æ–¹æ³•æ¥æ”¶ ç›®æ ‡è·¯ç”± ä½œä¸ºå‚æ•°
  // return é‡å®šå‘çš„ å­—ç¬¦ä¸²è·¯å¾„/è·¯å¾„å¯¹è±¡
  }
}</code></pre>
<p>è¿™ä¸ªå°±ä¸ç»†è®²äº†ï¼Œ<a href="https://github.com/vuejs/vue-router/blob/dev/examples/redirect/app.js">æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹è¿™é‡Œå‘¦</a></p>
<h4 id="åˆ«åalias">åˆ«åï¼ˆaliasï¼‰</h4>
<blockquote>
<p>/Fruits çš„åˆ«åæ˜¯ /bï¼Œæ„å‘³ç€ï¼Œå½“ç”¨æˆ·è®¿é—® /b æ—¶ï¼ŒURL ä¼šä¿æŒä¸º /bï¼Œä½†æ˜¯è·¯ç”±åŒ¹é…åˆ™ä¸º /Fruitsï¼Œå°±åƒç”¨æˆ·è®¿é—® /Fruits ä¸€æ ·</p>
</blockquote>
<pre><code><code>{
  path: &#39;/Fruits&#39;,
  name: &#39;Fruits&#39;,
  component: Fruits,
  alias: &#39;/b&#39;
}</code></pre>
<p>å½“è®¿é—®</p>
<pre><code><code>http://localhost:8080/#/b</code></pre>
<p>å®é™…ä¸Šæ˜¯è®¿é—®çš„</p>
<pre><code><code>http://localhost:8080/#/Fruits</code></pre>
<p>ä½†åœ°å€æ˜¯ä¸ä¼šå˜æˆ<code>/Fruits</code></p>
<p>å½“ç„¶å®ƒä¹Ÿæœ‰é«˜çº§çš„ç©æ³•ï¼Œ<a href="https://github.com/vuejs/vue-router/blob/dev/examples/route-alias/app.js">æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹è¿™é‡Œå‘¦</a></p>
<h2 id="è·¯ç”±ç»„ä»¶ä¼ å‚">7.è·¯ç”±ç»„ä»¶ä¼ å‚</h2>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ $route ä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ã€‚</p>
<p>ä½¿ç”¨ props å°†ç»„ä»¶å’Œè·¯ç”±è§£è€¦</p>
<p>è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/BookDetails/:book_id&#39;,
  name: &#39;BookDetails&#39;,
  component: BookDetails,
  props: true
}</code></pre>
<p>BookDetailsç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book-details&quot;&gt;
    {{book_id}}
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: [&#39;book_id&#39;],
  data () {
    return {
    }
  }
}
&lt;/script&gt;</code></pre>
<h4 id="å¸ƒå°”æ¨¡å¼">å¸ƒå°”æ¨¡å¼</h4>
<blockquote>
<p>åœ¨è·¯ç”±é…ç½®ä¸­è®¾ç½® props: true æ—¶é»˜è®¤å°† $route.params æ•°æ®ä¼ ç»™ç»„ä»¶ï¼Œç»„ä»¶éœ€è¦é€šè¿‡è‡ªèº«çš„ props å±æ€§å–å‡º params ä¸­çš„å±æ€§</p>
</blockquote>
<h4 id="å¯¹è±¡æ¨¡å¼">å¯¹è±¡æ¨¡å¼</h4>
<blockquote>
<p>å¦‚æœ props æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸‹æ‰€æœ‰å±æ€§å‡ä¼šè¢«ä¼ å…¥ç»„ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å½“ props å¿…é¡»æ˜¯æ˜¯é™æ€çš„</p>
</blockquote>
<p>è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/BookDetails/:book_id&#39;,
  name: &#39;BookDetails&#39;,
  component: BookDetails,
  props: {
    name: &#39;lucky&#39;,
    id: 7
  }
}</code></pre>
<p>BookDetailsç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book-details&quot;&gt;
    {{name + id}}
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: [&#39;name&#39;, &#39;id&#39;],
  data () {
    return {
    }
  }
}
&lt;/script&gt;</code></pre>
<h4 id="å‡½æ•°æ¨¡å¼">å‡½æ•°æ¨¡å¼</h4>
<p>è·¯ç”±</p>
<pre><code><code>{
  path: &#39;/BookDetails&#39;,
  name: &#39;BookDetails&#39;,
  component: BookDetails,
  props: (route) =&gt; ({ book_id: route.query.book_id })
}</code></pre>
<p>çˆ¶ç»„ä»¶</p>
<pre><code><code>&lt;template&gt;
  &lt;div class=&quot;book&quot;&gt;
    &lt;button @click=&quot;goRouter&quot;&gt;å‡½æ•°æ¨¡å¼&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
    }
  },
  methods:{
    goRouter(){
      this.$router.push({path: &#39;BookDetails&#39;, query: {book_id: 999}})
    },
  }
}
&lt;/script&gt;</code></pre>
<p>æ²¡é”™å®ƒä¹Ÿæœ‰é«˜çº§çš„ç©æ³•ï¼Œ<a href="https://github.com/vuejs/vue-router/blob/dev/examples/route-props/app.js">æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹è¿™é‡Œå‘¦</a></p>
<h2 id="html5-history-æ¨¡å¼">8.HTML5 History æ¨¡å¼</h2>
<p><code>vue-router</code> é»˜è®¤ hash æ¨¡å¼ â€”â€” ä½¿ç”¨ URL çš„ hash æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„ URLï¼Œäºæ˜¯å½“ URL æ”¹å˜æ—¶ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åŠ è½½ã€‚å¦‚æœä¸æƒ³è¦å¾ˆä¸‘çš„ hashï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è·¯ç”±çš„ history æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼å……åˆ†åˆ©ç”¨ history.pushState API æ¥å®Œæˆ URL è·³è½¬è€Œæ— é¡»é‡æ–°åŠ è½½é¡µé¢</p>
<p>è·¯ç”±</p>
<pre><code><code>export default new Router({
  mode: &#39;history&#39;,
  routes: [...]
})</code></pre>
<p>æ¥çœ‹ä¸€ä¸‹ç”¨ä¹‹å‰å’Œç”¨ä¹‹åçš„åœ°å€(ï½ï¿£â–½ï¿£)ï½</p>
<pre><code><code>// hash
http://localhost:8080/#/
http://localhost:8080/#/BookDetails/1

// history
http://localhost:8080/
http://localhost:8080/BookDetails/1</code></pre>
<p>emmmmmmmmm <strong>å¥½çœ‹äº†ã€‚ã€‚ã€‚</strong> (âœ¿â—•â€¿â—•âœ¿)</p>
<h4 id="but"><strong>but</strong></h4>
<blockquote>
<p>ä¸è¿‡è¿™ç§æ¨¡å¼è¦ç©å¥½ï¼Œè¿˜éœ€è¦åå°é…ç½®æ”¯æŒã€‚å› ä¸ºæˆ‘ä»¬çš„åº”ç”¨æ˜¯ä¸ªå•é¡µå®¢æˆ·ç«¯åº”ç”¨ï¼Œå¦‚æœåå°æ²¡æœ‰æ­£ç¡®çš„é…ç½®ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ç›´æ¥è®¿é—® <code>http://oursite.com/BookDetails/id</code> å°±ä¼šè¿”å› 404ï¼Œè¿™å°±ä¸å¥½çœ‹äº†</p>
</blockquote>
<p>å•Šå“ˆï¼Œåå°æ€ä¹ˆé…ç½®å‘¢ï¼Ÿ<a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90">è‡ªå·±å»çœ‹å§ï¼Œæˆ‘ä¸çŸ¥é“(ï½ï¿£â–½ï¿£)ï½</a></p>
<p><a href="https://www.cnblogs.com/loveyt/p/10905662.html">vue Routerâ€”â€”è¿›é˜¶ç¯‡</a></p>
<p><a href="https://router.vuejs.org/zh/guide/">Vue Router</a></p>
<p><a href="https://router.vuejs.org/zh/api/#router-link">Vue Router Api</a></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>