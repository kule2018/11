<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修vue父子组件的通信' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>vue父子组件的通信</center></div><div class='banquan'>原文出处:本文由博客园博主个人升级打怪提供。<br/>
原文连接:https://www.cnblogs.com/DreamchaserHe/p/11766170.html</div><br>
    <p><img src="./images/vue父子组件的通信0.png" alt="" /></p>
<p>&nbsp;</p>
<h2>一、父组件向子组件传递数据</h2>
<h3>1、首先形成父子组件关系</h3>
<div class="cnblogs_code">
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="../js/vue.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="app"&gt;

    &lt;/div&gt;

    &lt;template id="cpn"&gt;
        &lt;div&gt;
            &lt;h2&gt;{{cmovies}}&lt;/h2&gt;
            &lt;p&gt;{{cmessage}}&lt;/p&gt;
        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;<span style="color: #000000;">
        const cpn </span>=<span style="color: #000000;"> {
            template: `#cpn`,
            data() {
                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {}
            },
            methods: {}
        }
        let vm </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Vue({
            el: </span>'#app'<span style="color: #000000;">,
            data: () </span>=&gt;<span style="color: #000000;"> ({
                message: </span>'父组件的数据'<span style="color: #000000;">,
                movies: [</span>'战狼1', '流浪地球', '攀登者'<span style="color: #000000;">]
            }),
            components: {
                cpn
            }
        })
    </span>&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</pre>
</div>
<h3>2、在子组件中定义一个props，定义两个变量&nbsp;（messages）&nbsp;（moviess）</h3>
<div class="cnblogs_code">
<pre><code>props: ['messages', 'moviess']</pre>
</div>
<h3>3、使用子组件时，用V-bind绑定两个变量（messages）&nbsp;（moviess），并且把父组件中的数据（message）（movies）传给这两个变量。</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">cpn </span><span style="color: #ff0000;">:messages</span><span style="color: #0000ff;">="message"</span><span style="color: #ff0000;"> :moviess</span><span style="color: #0000ff;">="movies"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">cpn</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 不支持驼峰命名法 大写字母之间用 - 隔开 </span><span style="color: #008000;">--&gt;</span></pre>
</div>
<h2>****完整代码*****</h2>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html </span><span style="color: #ff0000;">lang</span><span style="color: #0000ff;">="en"</span><span style="color: #0000ff;">&gt;</span>

<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">="UTF-8"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>Document<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="../js/vue.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>

<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="app"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">cpn </span><span style="color: #ff0000;">:messages</span><span style="color: #0000ff;">="message"</span><span style="color: #ff0000;"> :moviess</span><span style="color: #0000ff;">="movies"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">cpn</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 不支持驼峰命名法 大写字母之间用 - 隔开 </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 父传子 </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 
        1、建立父子关系
        2、在子组件中定义一个props，定义两个变量 （messages） （moviess）
        3、使用子组件时，用V-bind绑定两个变量，并且把父组件中的数据（message）（movies）传给这两个变量。
        
     </span><span style="color: #008000;">--&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">template </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="cpn"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>{{messages}}<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ul</span><span style="color: #0000ff;">&gt;</span>
                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">li </span><span style="color: #ff0000;">v-for</span><span style="color: #0000ff;">="item in moviess"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
                    {{item}}
                </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">li</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ul</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">template</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">
        const cpn </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> {
            template: `#cpn`,
            </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> props: ['messages', 'moviess'],</span>
<span style="background-color: #f5f5f5; color: #000000;">

            props: {
                </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 1、类型限制</span>
                <span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> messages:Array,</span>
                <span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> moviess:String,</span>

                <span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 提供一些默认值</span>
<span style="background-color: #f5f5f5; color: #000000;">                messages: {
                    type: String,
                    </span><span style="background-color: #f5f5f5; color: #0000ff;">default</span><span style="background-color: #f5f5f5; color: #000000;">: </span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">aaaa</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,
                    required: </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">
                },
                </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 当使用组件的时候，没有绑定props中定义的变量，就会显示定义的默认值</span>
<span style="background-color: #f5f5f5; color: #000000;">                moviess: {
                    </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 类型是对象或数组，默认值必需是一个函数。  </span>
<span style="background-color: #f5f5f5; color: #000000;">                    type: Array,
                    </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> default: []</span>
                    <span style="background-color: #f5f5f5; color: #0000ff;">default</span><span style="background-color: #f5f5f5; color: #000000;">() {
                        </span><span style="background-color: #f5f5f5; color: #0000ff;">return</span><span style="background-color: #f5f5f5; color: #000000;"> []
                    }
                }
            },
            data() {
                </span><span style="background-color: #f5f5f5; color: #0000ff;">return</span><span style="background-color: #f5f5f5; color: #000000;"> {}
            },
            methods: {}

        }
        let vm </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">new</span><span style="background-color: #f5f5f5; color: #000000;"> Vue({
            el: </span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#app</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,
            data: () </span><span style="background-color: #f5f5f5; color: #000000;">=&gt;</span><span style="background-color: #f5f5f5; color: #000000;"> ({
                message: </span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">父组件的数据</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,
                movies: [</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">战狼1</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">流浪地球</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">攀登者</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">],

            }),
            components: {
                cpn
            }
        })
    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>

<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<h2>** props中补充写法</h2>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">props: {
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> 1、类型限制</span>
                <span style="color: #008000;">//</span><span style="color: #008000;"> messages:Array,</span>
                <span style="color: #008000;">//</span><span style="color: #008000;"> moviess:String,</span>

                <span style="color: #008000;">//</span><span style="color: #008000;"> 提供一些默认值</span>
<span style="color: #000000;">                messages: {
                    type: String,
                    </span><span style="color: #0000ff;">default</span>: 'aaaa'<span style="color: #000000;">,
                    required: </span><span style="color: #0000ff;">true</span><span style="color: #000000;">
                },
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> 当使用组件的时候，没有绑定props中定义的变量，就会显示定义的默认值</span>
<span style="color: #000000;">                moviess: {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 类型是对象或数组，默认值必需是一个函数。  </span>
<span style="color: #000000;">                    type: Array,
                    </span><span style="color: #008000;">//</span><span style="color: #008000;"> default: []</span>
                    <span style="color: #0000ff;">default</span><span style="color: #000000;">() {
                        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> []
                    }
                }
            }</span></pre>
</div>
<h2>&nbsp;二、子组件向父组件传数据</h2>
<h3>1、构成父子组件关系</h3>
<h3>&nbsp;2、在子组件中自定义一个事件&nbsp; &nbsp; &nbsp; 作用：发射一个事件给父组件</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">v-for</span><span style="color: #0000ff;">="item in categories"</span><span style="color: #ff0000;"> @click</span><span style="color: #0000ff;">="btnclick(item)"</span><span style="color: #0000ff;">&gt;</span>{{item.name}}<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">            methods: {
                btnclick: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (item) {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 发射事件：自定义事件</span>
                    <span style="color: #0000ff;">this</span>.$emit('itemclick'<span style="color: #000000;">, item)
                }
            }</span></pre>
</div>
<h3>3、在父组件的模板中使用子组件中定义的事件&nbsp;@itemclick="cpnclick"&nbsp; &nbsp;并且在父组件创建一个新的事件&nbsp;cpnclick&nbsp;</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">cpn </span><span style="color: #ff0000;">@itemclick</span><span style="color: #0000ff;">="cpnclick"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">cpn</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">            methods: {
                cpnclick: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (item) {
                    console.log(</span>'cpnclick'<span style="color: #000000;">, item)
                }
            }</span></pre>
</div>
<h2>***完整代码***</h2>
<div class="cnblogs_code">
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="../js/vue.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;!-- 父组件模板 --&gt;
&lt;div id="app"&gt;
    &lt;cpn @itemclick="cpnclick"&gt;&lt;/cpn&gt;
&lt;/div&gt;
&lt;!-- 
    1<span style="color: #000000;">、构成父子组件关系
    </span>2、在子组件定义一个事件，作用是  发射一个事件给父组件。<span style="color: #0000ff;">this</span>.$emit('itemclick'<span style="color: #000000;">)
    </span>3、在父组件的模板中使用子组件中定义的事件 @itemclick="cpnclick"<span style="color: #000000;"> ，并且在父组件创建一个新的事件 cpnclick ，
    这里面可以写传给父组件数据的逻辑以及限制
 </span>--&gt;

&lt;body&gt;
    &lt;!-- 子组件模板 --&gt;
    &lt;template id="cpn"&gt;
        &lt;div&gt;
            &lt;button v-<span style="color: #0000ff;">for</span>="item in categories" @click="btnclick(item)"&gt;{{item.name}}&lt;/button&gt;
        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        <span style="color: #008000;">//</span><span style="color: #008000;"> 子组件</span>
        const cpn =<span style="color: #000000;"> {
            template: `#cpn`,
            data() {
                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
                    categories: [
                        { id: </span>'aa', name: '热门推荐'<span style="color: #000000;"> },
                        { id: </span>'bb', name: '手机数码'<span style="color: #000000;"> },
                        { id: </span>'cc', name: '智能家居'<span style="color: #000000;"> },
                        { id: </span>'dd', name: '美容美发'<span style="color: #000000;"> }
                    ]
                }
            },
            methods: {
                btnclick: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (item) {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 发射事件：自定义事件</span>
                    <span style="color: #0000ff;">this</span>.$emit('itemclick'<span style="color: #000000;">, item)
                }
            }
        }
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 父组件</span>
        let vm = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Vue({
            el: </span>'#app'<span style="color: #000000;">,
            data: () </span>=&gt;<span style="color: #000000;"> ({}),
            components: {
                cpn
            },
            methods: {
                cpnclick: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (item) {
                    console.log(</span>'cpnclick'<span style="color: #000000;">, item)
                }
            }
        })
    </span>&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</pre>
</div>
<p><img id="uploading_image_96661" src="./images/vue父子组件的通信1.png" alt="" /></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>