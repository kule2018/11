<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修下拉菜单的若干种实现方法' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>下拉菜单的若干种实现方法</center></div><div class='banquan'>原文出处:本文由博客园博主王梓瑞提供。<br/>
原文连接:https://www.cnblogs.com/wangzirui98/p/11208397.html</div><br>
    <p>先说比较普遍的就是滑动的下拉菜单，可以通过CSS来做，也可以用JS做</p>
<p>都挺简单的，主要是通过父元素触发，然后在子元素能够保持住父元素的状态。</p>
<p>都是用原生写的。</p>
<p>CSS实现方法：</p>
<pre><code><code>&lt;style&gt;
/* 下拉按钮样式 */
.dropbtn {
    background-color: #4CAF50;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
}

/* 容器 &lt;div&gt; - 需要定位下拉内容 */
.dropdown {
    position: relative;
    display: inline-block;
}

/* 下拉内容 (默认隐藏) */
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}

/* 下拉菜单的链接 */
.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

/* 鼠标移上去后修改下拉菜单链接颜色 */
.dropdown-content a:hover {background-color: #f1f1f1}

/* 在鼠标移上去后显示下拉菜单 */
.dropdown:hover .dropdown-content {
    display: block;
}

/* 当下拉内容显示后修改下拉按钮的背景颜色 */
.dropdown:hover .dropbtn {
    background-color: #3e8e41;
}
&lt;/style&gt;

&lt;div class=&quot;dropdown&quot;&gt;
  &lt;button class=&quot;dropbtn&quot;&gt;下拉菜单&lt;/button&gt;
  &lt;div class=&quot;dropdown-content&quot;&gt;
    &lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;
    &lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;
    &lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>JS实现方法：</p>
<pre class="javascript"><code>    &lt;style&gt;
        /* 下拉按钮样式 */
        .dropbtn {
          background-color: #4CAF50;
          color: white;
          padding: 16px;
          font-size: 16px;
          cursor: pointer;
        }
    
        /* 容器 &lt;div&gt; - 需要定位下拉内容 */
        .dropdown {
          position: relative;
          display: inline-block;
        }
    
        /* 下拉内容 (默认隐藏) */
        .dropdown-content {
          display: none;
          position: absolute;
          background-color: #f9f9f9;
          min-width: 160px;
          box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        }
    
        /* 下拉菜单的链接 */
        .dropdown-content a {
          color: black;
          padding: 12px 16px;
          text-decoration: none;
          display: block;
        }
    
        /* 鼠标移上去后修改下拉菜单链接颜色 */
        .dropdown-content a:hover {
          background-color: #f1f1f1
        }
    
        /* 当下拉内容显示后修改下拉按钮的背景颜色 */
        .dropdown:hover .dropbtn {
          background-color: #3e8e41;
        }
      &lt;/style&gt;
  &lt;div class=&quot;dropdown&quot;&gt;
    &lt;button class=&quot;dropbtn&quot;&gt;下拉菜单&lt;/button&gt;
    &lt;div class=&quot;dropdown-content&quot;&gt;
      &lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;
      &lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;
      &lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;

    document.getElementsByClassName(&#39;dropdown&#39;)[0].onmouseover = function () {
      document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;block&#39;
    }
    document.getElementsByClassName(&#39;dropdown&#39;)[0].onmouseout = function () {
      document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;none&#39;
    }
  &lt;/script&gt;</code></pre>
<p>第二种比较简单，就是点击按钮触发二级菜单，只能通过JS触发。</p>
<pre class="javascript"><code>document.getElementsByClassName(&#39;dropdown&#39;)[0].onclick = function () {
      if (document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display == &#39;block&#39;) {
        document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;none&#39;
      } else {
        document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;block&#39;
      }
    }</code></pre>
<p>这个就是做一个判断，也不难。这个效果是只能来回点击按钮，不方便，加一个点击其他地方也可以取消的方法</p>
<pre class="javascript"><code> document.getElementsByTagName(&#39;body&#39;)[0].onclick = function () {
      document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;none&#39;
    }</code></pre>
<p>这个的意思是无论你点body元素的那里都会去隐藏，但是添加了发现我们没法通过点击按钮来呼出下拉菜单栏了，这是事件捕获的问题，当我们点击按钮的时候，通过冒泡让我们顺带着点击了body元素，所以我们其实是呼出了菜单又关闭了菜单。所以我们要阻止事件冒泡。</p>
<p>在按钮的触发时，带一个事件的参数e，然后通过e.stopPropagation() 来阻止冒泡就可以了</p>
<pre class="javascript"><code>document.getElementsByClassName(&#39;dropdown&#39;)[0].onclick = function (e) {
      e.stopPropagation();
      if (document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display == &#39;block&#39;) {
        document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;none&#39;
      } else {
        document.getElementsByClassName(&#39;dropdown-content&#39;)[0].style.display = &#39;block&#39;
      }
    }</code></pre>
<p>但是当页面复杂的时候，我们也需要点击其他的任意元素来取消。需要判断所点的元素是不是按钮或者下拉菜单的元素，首先通过JQuery的fn来定义一个方法</p>
<pre class="javascript"><code>  jQuery.fn.isChildAndSelfOf = function (b) {
    return (this.closest(b).length &gt; 0) 
  }</code></pre>
<p>这个closest是寻找父元素的，返回被选元素的第一个祖先元素。</p>
<p>详细可以看文档：<a href="https://www.w3cschool.cn/jquery/traversing-closest.html" class="uri">https://www.w3cschool.cn/jquery/traversing-closest.html</a></p>
<p>然后加上判断</p>
<pre class="javascript"><code>    $(document).click(function (event) {
      if (!$(event.target).isChildAndSelfOf(&#39;.dropdown&#39;)) {
        $(&#39;.dropdown-content&#39;).hide();
      }
    });</code></pre>
<p>这样就可以完成除了点菜单那里都现隐藏。不过要注意先引入jquery的js文件。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>