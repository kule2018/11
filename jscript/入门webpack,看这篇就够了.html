<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修入门webpack,看这篇就够了' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>入门webpack,看这篇就够了</center></div><div class='banquan'>原文出处:本文由博客园博主Cynthia-milk提供。<br/>
原文连接:https://www.cnblogs.com/cythia/p/11265727.html</div><br>
    <h2>什么是webpack?</h2>
<p>官网给出的概念是:本质上，webpack&nbsp;是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个&nbsp;bundle。</p>
<h2>为什么要用webpack?</h2>
<p>为什么使用webpack,这应该和前端的发展是有关系的,因为计算机网络的飞速发展,导致前端也在迅猛发展,最初的实践方案已经不能满足我们的需求,加上新的技术和新思想框架的产生，为了节省开发的成本和效率，所以webpack的产生是一个必然的结果</p>
<h2>相比gulp、grunt、Rollup，为什么要使用webpack？</h2>
<p>gulp和grunt的操作都是流式的,但是gulp是基于内存流,grunt是基于文件流,所以相对来说,gulp的性能要高于grunt，而且他们都是需要定义一个个任务，然后自动将一个个任务执行。，而webpack是模块化的组织，模块化的依赖，然后模块化的打包，相对来说，webpack更强调模块化开发，而那些文件合并压缩、预处理等功能，不过是他的附带功能。而且现在相对于前两者，webpack的插件也更为丰富</p>
<p>Rollup是在webpack流行后出现的替代品，Rollup和webpack类似，但是专注于ES6模块打包，相比webpack,Rollup功能和插件都不如webpack完善，不过Rollup在用于打包JavaScript库时比webpack更加有又是，因为其打包的代码更小更快。但也因为功能不完善，很多场景找不到现成的解决方案。</p>
<p>&nbsp;</p>
<h2>安装与使用</h2>
<p>因为现在webpack已经更新到到4.0+了，所以本篇就直接按4.0+的来讲好了</p>
<h3>创建package.json文件</h3>
<p>也叫初始化,可以手动创建，也可以使用命令自动创建，建议是命令创建</p>
<div class="cnblogs_code">
<pre><code>npm init</pre>
</div>
<p>然后自己配置文件名、版本号等信息</p>
<p>如果想要快捷安装的话，使用下面的命令（-y 表示使用默认参数）</p>
<div class="cnblogs_code">
<pre><code>npm init -y</pre>
</div>
<p><span style="background-color: #ffff00;">注意：1.package文件里面的name属性的值如果用驼峰式命名的话，会报警告</span></p>
<p><span style="background-color: #ffff00;">　　　 2. 通过文件名我们就知道package.json文件是json的对象，所以语法肯定是严格按照json的格式，不能添加注释，属性和值只能用双引号不能用单引号，不能多添加逗号</span><span style="background-color: #ffff00;">&nbsp;</span></p>
<h4><strong>package.json文件说明：</strong></h4>
<p><img src="./images/入门webpack,看这篇就够了0.png" alt="" /></p>
<h3>安装</h3>
<p>webpack可以直接使用npm安装，因为我们需要使用webpack这个命令，所以必须要全局安装</p>
<div class="cnblogs_code">
<pre><code>npm i webpack -g</pre>
</div>
<p>然后在项目中安装</p>
<div class="cnblogs_code">
<pre><code>npm i webpack -S</pre>
</div>
<p><span style="background-color: #ffff00;">注意点：webpack 4+以上的，都需要安装webpack-cli，所以还需要安装webpack-cli</span></p>
<div class="cnblogs_code">
<pre><code>npm i webpack-cli -S</pre>
</div>
<p>按着上面的步骤安装好之后，等你配置好webpack.config.js文件在终端输入webpack时你可能会遇到下面这个问题</p>
<p><img src="./images/入门webpack,看这篇就够了1.png" alt="" /></p>
<p><span style="background-color: #ffff00;">解决办法：全局安装一下webpack-cli即可</span></p>
<div class="cnblogs_code">
<pre><code>npm i webpack -g</pre>
</div>
<p>到此安装步骤就已经搞定了，下面教大家如何使用</p>
<h3>使用</h3>
<p>创建src文件夹、public文件夹和webpack.config.js文件</p>
<p><img src="./images/入门webpack,看这篇就够了2.png" alt="" /></p>
<p>index.html</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html </span><span style="color: #ff0000;">lang</span><span style="color: #0000ff;">="en"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">="UTF-8"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="viewport"</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">="width=device-width, initial-scale=1.0"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">http-equiv</span><span style="color: #0000ff;">="X-UA-Compatible"</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">="ie=edge"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>Document<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="app"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="bundle.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<h3><strong>配置webpack.config.js</strong></h3>
<div class="cnblogs_code">
<pre><code>module.exports =<span style="color: #000000;"> {
  mode:</span>'development', <span style="color: #008000;">//</span><span style="color: #008000;"> 当前的开发模式</span>
  entry:  __dirname + "/src/main.js",<span style="color: #008000;">//</span><span style="color: #008000;"> 入口文件</span>
<span style="color: #000000;">  output: {
    path: __dirname </span>+ "/dist",<span style="color: #008000;">//</span><span style="color: #008000;"> 打包后的文件存放的地方</span>
    filename: "bundle.js" <span style="color: #008000;">//</span><span style="color: #008000;"> 打包后输出文件的文件名</span>
<span style="color: #000000;">  }
}</span></pre>
</div>
<p>这些基础配置完之后,我们在项目的终端输入</p>
<div class="cnblogs_code">
<pre><code>webpack</pre>
</div>
<p>就会输出一下信息</p>
<p><img src="./images/入门webpack,看这篇就够了3.png" alt="" /></p>
<p>看到这样的信息的话,那么恭喜你,你的第一个webpack项目完成了</p>
<p>此时你会看到文件夹目录下会多了一个dist文件夹</p>
<p>OK,上面的文件写法我们还可以做一下改进,例如文件的文件路径问题,我们需要写成的是绝对路径,node里面有自带一个path模块,我们可以换成下面的写法</p>
<div class="cnblogs_code">
<pre><code>const path=require('path'<span style="color: #000000;">);
module.exports</span>=<span style="color: #000000;">{
 
    mode:</span>'development'<span style="color: #000000;">,
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 入口文件</span>
    entry:'./src/main.js'<span style="color: #000000;">,
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 出口文件</span>
<span style="color: #000000;">    output:{
        filename:</span>'bundle.js'<span style="color: #000000;">,
        path:path.resolve(__dirname,</span>'public'<span style="color: #000000;">)
    }
}</span></pre>
</div>
<p>上面这个是单个入口文件的写法,有单个入口的话,那肯定是有多个入口的啊,下面这段就是多个入口文件的写法:</p>
<div class="cnblogs_code">
<pre><code>const path=require('path'<span style="color: #000000;">);
module.exports</span>=<span style="color: #000000;">{
    mode:</span>'development'<span style="color: #000000;">,
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 多个入口的话,在这边配置</span>
<span style="color: #000000;">    entry:{
        index:</span>'./src/js/1.js'<span style="color: #000000;">,
        admin:</span>'./src/js/index.js'<span style="color: #000000;">,
    },
    output:{
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 出口的名字就是上面entry定义的名字,上面定义的是index和admin,打包后在dist文件夹里面的js就是index.min.js和admin.min.js</span>
        filename:'[name].js'<span style="color: #000000;">,
        
        path:path.resolve(__dirname,</span>'dist'<span style="color: #000000;">)
    }
}</span></pre>
</div>
<p>在出口文件处的filename中,就不需要写死bundle.js这些了,直接用name变量来接收,打包出来后的文件名字来源于entry中入口文件中的定义的键,如上面的就是index和admin</p>
<h2>资源管理</h2>
<p>webpack本身只能处理javascript,如果要处理其他类型的文件的话,就需要使用loader来进行转换。下面我就列举了我们经常用的几个</p>
<p>css-loader----&gt;引入css文件</p>
<p>我们可以在src文件夹里面新建一个css文件夹，然后在里面新建一个main.css文件。在webpack中，所有的文件都是一个模块，所以要使用这个css文件，就必须要先引入</p>
<p>在main.js文件中引入css文件</p>
<div class="cnblogs_code">
<pre><code>import './css/main.css'</pre>
</div>
<p>然后在终端输入webpack后发现报错啦</p>
<p><img src="./images/入门webpack,看这篇就够了4.png" alt="" /></p>
<p>这个时候呢，安装一下css需要使用到的loader，然后在配置一下在试试</p>
<h3>安装</h3>
<p>处理css需要使用到两个loader，css-loader和style-loader</p>
<div class="cnblogs_code">
<pre><code>npm install --save-dev style-loader css-loader</pre>
</div>
<h3>在webpack.config.js中配置loader</h3>
<div class="cnblogs_code">
<pre><code>module.exports=<span style="color: #000000;">{
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 当前的开发模式 </span>
    <span style="color: #008000;">//</span><span style="color: #008000;"> 开发模式:development,会保留我们开发时的一些必要信息</span>
    <span style="color: #008000;">//</span><span style="color: #008000;"> 生产模式:production会尽力压缩,能压多大就压多大</span>
    <span style="color: #008000;">//</span><span style="color: #008000;"> none:什么也不干,就只是打包</span>
    mode:'development'<span style="color: #000000;">,
    entry:</span>'./src/js/main.js'<span style="color: #000000;">,
    output:{
        filename:</span>'bundle.js'<span style="color: #000000;">,
        path:path.resolve(__dirname,</span>'dist'<span style="color: #000000;">)
    },
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 添加的module里面的rules</span>
<span style="color: #000000;">    module:{
        rules:[
            {
                test:</span>/\.css$/<span style="color: #000000;">,
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> webpack的loader执行顺序是反的,先执行css-loader后执行style-loader</span>
<span style="color: #000000;">                use:[
                    </span>'style-loader'<span style="color: #000000;">,
                    </span>'css-loader'<span style="color: #000000;">
                ]
            }
        ]
    }
}</span></pre>
</div>
<p>说明: loader都是在module里面的<span style="color: #ff6600;">rules</span>中配置的,rules是一个数组配置规则,该规则告诉webpack符合<span style="color: #ff6600;">test</span>的文件，使用use后面的loader处理,所以该规则就是对所有的<span style="color: #ff6600;">.css</span>文件使用<span style="color: #ff6600;">css-loader、style-loader</span></p>
<p><span style="background-color: #ffff00;">注意点：loader的执行顺序是由右向左执行的，先执行css-loader后在执行style-loader</span></p>
<p>在终端输入webpack后，提示下面的信息就是成功啦</p>
<p><img src="./images/入门webpack,看这篇就够了5.png" alt="" /></p>
<h3>&nbsp;常用的loader</h3>
<table style="height: 193px; width: 893px;" border="0">
<tbody>
<tr>
<td style="text-align: center;"><strong>资源</strong></td>
<td style="text-align: center;"><strong>loader名</strong></td>
</tr>
<tr>
<td style="text-align: center;">图片</td>
<td style="text-align: center;">file-loader</td>
</tr>
<tr>
<td style="text-align: center;">sass</td>
<td style="text-align: center;">saa-loader</td>
</tr>
<tr>
<td style="text-align: center;">less</td>
<td style="text-align: center;">less-loader</td>
</tr>
<tr>
<td style="text-align: center;">babel</td>
<td style="text-align: center;">babel-loader</td>
</tr>
<tr>
<td style="text-align: center;">字体</td>
<td style="text-align: center;">file-loader和url-loader</td>
</tr>
</tbody>
</table>
<h3>加载图片</h3>
<h4>安装</h4>
<div class="cnblogs_code">
<pre><code>npm install --save-dev file-loader</pre>
</div>
<h4>配置loader</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;"> rules:[
            {
                test:</span>/\.css$/<span style="color: #000000;">,
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> webpack的loader执行顺序是反的,先执行css-loader后执行style-loader</span>
<span style="color: #000000;">                use:[
                    </span>'style-loader'<span style="color: #000000;">,
                    </span>'css-loader'<span style="color: #000000;">
                ]
            },
</span>+<span style="color: #000000;">            {
</span>+               test: /\.(png|svg|jpg|gif)$/<span style="color: #000000;">,
</span>+<span style="color: #000000;">               use: [
</span>+                   'file-loader'
+<span style="color: #000000;">                    ]
</span>+<span style="color: #000000;">           }
</span>+       ]</pre>
</div>
<h3>加载字体</h3>
<h4>webpack.config.js中配置</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
         test: </span>/\.(woff|woff2|eot|ttf|otf)$/<span style="color: #000000;">,
         use: [
          </span>'file-loader'<span style="color: #000000;">
         ]
}</span></pre>
</div>
<h3>加载less</h3>
<h4>安装</h4>
<div class="cnblogs_code">
<pre><code>npm install --save-dev less-loader less</pre>
</div>
<h4>配置</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
            test: </span>/\.less$/<span style="color: #000000;">,
            use: [{
                loader: </span>"style-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> creates style nodes from JS strings</span>
<span style="color: #000000;">            }, {
                loader: </span>"css-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
<span style="color: #000000;">            }, {
                loader: </span>"less-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Less to CSS</span>
<span style="color: #000000;">            }]
        }</span></pre>
</div>
<h3>加载sass</h3>
<h4>安装</h4>
<div class="cnblogs_code">
<pre><code>npm install sass-loader node-sass --save-dev</pre>
</div>
<h4>配置:</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
            test: </span>/\.scss$/<span style="color: #000000;">,
            use: [
                </span>"style-loader", <span style="color: #008000;">//</span><span style="color: #008000;"> creates style nodes from JS strings</span>
                "css-loader", <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
                "sass-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Sass to CSS, using Node Sass by default</span>
<span style="color: #000000;">            ]
        }]
    }</span></pre>
</div>
<h3>加载ES6及以上版本及jsx文件</h3>
<h4>安装:</h4>
<div class="cnblogs_code">
<pre><code>npm install -D babel-loader @babel/core @babel/preset-env </pre>
</div>
<h4>配置:</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
        test: </span>/\.(js|jsx)$/<span style="color: #000000;">i,
        exclude: </span>/node_modules/<span style="color: #000000;">,
        use: {
          loader: </span>'babel-loader'<span style="color: #000000;">,
          options: {
            presets: [</span>'@babel/preset-env'<span style="color: #000000;">]
          }
        }
      }</span></pre>
</div>
<h4>总的配置集合</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">
    module:{
        rules:[
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载css</span>
<span style="color: #000000;">            {
                test:</span>/\.css$/<span style="color: #000000;">,
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> webpack的loader执行顺序是反的,先执行css-loader后执行style-loader</span>
<span style="color: #000000;">                use:[
                    </span>'style-loader'<span style="color: #000000;">,
                    </span>'css-loader'<span style="color: #000000;">
                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载图片</span>
<span style="color: #000000;">            {
                test: </span>/\.(png|svg|jpg|gif)$/<span style="color: #000000;">,
                use: [
                    </span>'file-loader'<span style="color: #000000;">
                    ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载字体</span>
<span style="color: #000000;">            {
                test: </span>/\.(woff|woff2|eot|ttf|otf)$/<span style="color: #000000;">,
                use: [
                </span>'file-loader'<span style="color: #000000;">
                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载less</span>
<span style="color: #000000;">            {
                test: </span>/\.less$/<span style="color: #000000;">,
                use: [{
                    loader: </span>"style-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> creates style nodes from JS strings</span>
<span style="color: #000000;">                }, {
                    loader: </span>"css-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
<span style="color: #000000;">                }, {
                    loader: </span>"less-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Less to CSS</span>
<span style="color: #000000;">                }]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载sass</span>
<span style="color: #000000;">            {
                test: </span>/\.scss$/<span style="color: #000000;">,
                use: [
                    </span>"style-loader", <span style="color: #008000;">//</span><span style="color: #008000;"> creates style nodes from JS strings</span>
                    "css-loader", <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
                    "sass-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Sass to CSS, using Node Sass by default</span>
<span style="color: #000000;">                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载base64</span>
<span style="color: #000000;">            {
                test: </span>/\.(png|jpg|gif)$/<span style="color: #000000;">i,
                use: [
                  {
                    loader: </span>'url-loader'<span style="color: #000000;">,
                    options: {
                      limit: </span>8192 <span style="color: #008000;">//</span><span style="color: #008000;"> 当图片小于8192K之后转为base64</span>
<span style="color: #000000;">                    }
                  }
                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载数据</span>
<span style="color: #000000;">            {
                test: </span>/\.(csv|tsv)$/<span style="color: #000000;">,
                use: [
                </span>'csv-loader'<span style="color: #000000;">
                ]
            },
            {
                test: </span>/\.xml$/<span style="color: #000000;">,
                use: [
                </span>'xml-loader'<span style="color: #000000;">
                ]
            },<br />　　　　　　　// 加载ES6以上版本
            {
                test: </span>/\.(js|jsx)$/<span style="color: #000000;">i,
                exclude: </span>/node_modules/<span style="color: #000000;">,
                use: {
                  loader: </span>'babel-loader'<span style="color: #000000;">,
                  options: {
                    presets: [</span>'@babel/preset-env'<span style="color: #000000;">]
                  }
                }
              }
        ]
    }
  
  </span></pre>
</div>
<h2>Plugin</h2>
<p>插件(Plugin)是用来扩展webpack功能的,webpack可以实现loader所不能实现完成的复杂功能,使用plugin丰富的自定义API以及生命周期事件,可以控制webpack打包流程的每个环节,实现webpack的自定义功能扩展</p>
<h3>html-webpack-plugin：生成html文件</h3>
<div>
<div><span style="color: #ff6600;"><code>html-webpack-plugin</code></span> 可以根据你设置的模板，在每次运行后生成对应的模板文件，同时所依赖的 CSS/JS 也都会被引入，如果 CSS/JS 中含有 hash 值，则 <span style="color: #ff6600;"><code>html-webpack-plugin</code> </span>生成的模板文件也会引入正确版本的 CSS/JS 文件。</div>
<h4>安装</h4>
</div>
<div>
<div class="cnblogs_code">
<pre><code>npm i html-webpack-plugin -D</pre>
</div>
<h4>修改配置文件</h4>
<div class="cnblogs_code">
<pre><code>const path=require('path'<span style="color: #000000;">);
const HtmlPlugin</span>=require('html-webpack-plugin'<span style="color: #000000;">);
module.exports </span>=<span style="color: #000000;"> {
    entry:  __dirname </span>+ "/src/main.js",<span style="color: #008000;">//</span><span style="color: #008000;">已多次提及的唯一入口文件</span>
<span style="color: #000000;">    output: {
      path:path.resolve(__dirname, </span>'./dist'),<span style="color: #008000;">//</span><span style="color: #008000;">打包后的文件存放的地方</span>
      filename: "bundle.js"<span style="color: #008000;">//</span><span style="color: #008000;">打包后输出文件的文件名</span>
<span style="color: #000000;">    },
    module:{
        rules:[
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载css</span>
<span style="color: #000000;">            {
                test:</span>/\.css$/<span style="color: #000000;">,
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> webpack的loader执行顺序是反的,先执行css-loader后执行style-loader</span>
<span style="color: #000000;">                use:[
                    </span>'style-loader'<span style="color: #000000;">,
                    </span>'css-loader'<span style="color: #000000;">
                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载图片</span>
<span style="color: #000000;">            {
                test: </span>/\.(png|svg|jpg|gif)$/<span style="color: #000000;">,
                use: [
                    </span>'file-loader'<span style="color: #000000;">
                    ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载字体</span>
<span style="color: #000000;">            {
                test: </span>/\.(woff|woff2|eot|ttf|otf)$/<span style="color: #000000;">,
                use: [
                </span>'file-loader'<span style="color: #000000;">
                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载less</span>
<span style="color: #000000;">            {
                test: </span>/\.less$/<span style="color: #000000;">,
                use: [{
                    loader: </span>"style-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> creates style nodes from JS strings</span>
<span style="color: #000000;">                }, {
                    loader: </span>"css-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
<span style="color: #000000;">                }, {
                    loader: </span>"less-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Less to CSS</span>
<span style="color: #000000;">                }]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载sass</span>
<span style="color: #000000;">            {
                test: </span>/\.scss$/<span style="color: #000000;">,
                use: [
                    </span>"style-loader", <span style="color: #008000;">//</span><span style="color: #008000;"> creates style nodes from JS strings</span>
                    "css-loader", <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
                    "sass-loader" <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Sass to CSS, using Node Sass by default</span>
<span style="color: #000000;">                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载base64</span>
<span style="color: #000000;">            {
                test: </span>/\.(png|jpg|gif)$/<span style="color: #000000;">i,
                use: [
                  {
                    loader: </span>'url-loader'<span style="color: #000000;">,
                    options: {
                        outputPath: </span>'images/'<span style="color: #000000;">,
                        limit: </span>8*1024 <span style="color: #008000;">//</span><span style="color: #008000;"> 当图片小于8192K之后转为base64</span>
<span style="color: #000000;">                    }
                  }
                ]
            },
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载数据</span>
<span style="color: #000000;">            {
                test: </span>/\.(csv|tsv)$/<span style="color: #000000;">,
                use: [
                </span>'csv-loader'<span style="color: #000000;">
                ]
            },
            {
                test: </span>/\.xml$/<span style="color: #000000;">,
                use: [
                </span>'xml-loader'<span style="color: #000000;">
                ]
            },
            {
                test: </span>/\.(js|jsx)$/<span style="color: #000000;">i,
                exclude: </span>/node_modules/<span style="color: #000000;">,
                use: {
                  loader: </span>'babel-loader'<span style="color: #000000;">,
                  options: {
                    presets: [</span>'@babel/preset-env'<span style="color: #000000;">]
                  }
                }
              }
        ]
    },
    plugins: [
        </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> HtmlPlugin(),
      ]
  }
  </span></pre>
</div>
<p>配置完之后,你会看到在dist文件夹下面会多了一个index.html文件</p>
<p>如果你想打包一个固定的模板的话,你可以在实例化插件的时候添加参数配置</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">plugins: [
        </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> HtmlPlugin({</span>
            template: './public/index.html' <span style="color: #008000;">//</span><span style="color: #008000;"> 模板的地址</span>
<span style="color: #000000;">        }),
      ]</span></pre>
</div>
<h3>分离css文件--MiniCssExtractPlugin</h3>
<p>在webpack中,默认css文件是一起打包进js文件里面去的,如果你希望打包后css在单独的文件中的话,name你就需要<span style="color: #ff6600;">MiniCssExtractPlugin</span>（<span style="color: #ff6600;">ExtractTextPlugin</span>在webpack4+版本中已经废弃掉了，如果使用4以下的版本的话，可以自行官网查api，也是类似的写法的）这个plugin了</p>
<h4>安装</h4>
<div class="cnblogs_code">
<pre><code>npm i mini-css-extract-plugin -D</pre>
</div>
<h4>在webpack.config.js中的配置</h4>
<div class="cnblogs_code">
<pre><code>const path=require('path'<span style="color: #000000;">);
const HtmlPlugin</span>=require('html-webpack-plugin'<span style="color: #000000;">);
const MiniCssExtractPlugin</span>=require('mini-css-extract-plugin'<span style="color: #000000;">);
module.exports </span>=<span style="color: #000000;"> {
    entry:  __dirname </span>+ "/src/main.js",<span style="color: #008000;">//</span><span style="color: #008000;">已多次提及的唯一入口文件</span>
<span style="color: #000000;">    output: {
      path:path.resolve(__dirname, </span>'./dist'),<span style="color: #008000;">//</span><span style="color: #008000;">打包后的文件存放的地方</span>
      filename: "bundle.js"<span style="color: #008000;">//</span><span style="color: #008000;">打包后输出文件的文件名</span>
<span style="color: #000000;">    },
    module:{
        rules:[
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 加载css</span>
<span style="color: #000000;">            {
                test:</span>/\.css$/<span style="color: #000000;">,
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> webpack的loader执行顺序是反的,先执行css-loader后执行style-loader</span>
<span style="color: #000000;">                use:[ {
                    loader: MiniCssExtractPlugin.loader,
                  }, 
                    </span>'css-loader'<span style="color: #000000;">
                ]
            },
        ]
    },
    plugins: [
        </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> HtmlPlugin({
            title:</span>'webpack test'<span style="color: #000000;">,
            template:path.join(__dirname, </span>'./public/index.html'<span style="color: #000000;">)
        }),
        </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> MiniCssExtractPlugin({
            filename:</span>'[name].css'<span style="color: #000000;">,
            chunkFilename:</span>'[id].css'<span style="color: #000000;">
        })
      ]
  }
  </span></pre>
</div>
<p>配置完成后在终端输入webpack,你会发现dist文件夹里面会多了一个main.css文件(前面已经在src目录下的css文件夹中新建了main.css,并导入到了main.js中),到这,css就已经抽离出来啦</p>
<h2>构建运行环境</h2>
<p>我们平时开发的时候,例如gulp都会区分开发环境还是生产环境,这两个环境下所要配置的一些参数肯定是要不一样的,而且我们在开发环境下,并不需要打包。在这种情况下，我们要这么去区分运行环境呢？webpack提供了一个webpack-dev-server工具给我们搭建本地运行环境。有了这个插件之后，我们可以配置命令脚本快捷运行</p>
<h4>安装webpack-dev-server</h4>
<div class="cnblogs_code">
<pre><code>npm i webpack-dev-server -D</pre>
</div>
<h4>然后在package.json配置中的script里面脚本命令</h4>
<div class="cnblogs_code">
<pre><code>"scripts"<span style="color: #000000;">: {
    </span>"test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<span style="color: #000000;">,
    </span>"start": "webpack-dev-server "<span style="color: #000000;">,
    </span>"dev": "webpack-dev-server "<span style="color: #000000;">,
    </span>"build": "webpack"<span style="color: #000000;">

  }</span></pre>
</div>
<p>通过上面的代码，我们可以知道，在看法环境下才要运行项目环境，如果打包的时候就用build的那个命令来充当生产环境</p>
<h4>开发环境命令使用</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">npm run start
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 或</span>
npm run dev</pre>
</div>
<h4>生产环境命令使用</h4>
<p>生产环境下的话，我们需要做的是打包的工作</p>
</div>
<div class="cnblogs_code">
<pre><code>npm run build</pre>
</div>
<p>&nbsp;</p>
<p>了解npm 命令的话，我们应该知道，在npm的命令脚本中，我们是可以添加参数的，我们可以通过添加参数来设置一下在开发环境下自动在默认浏览器中打开项目</p>
<p><img src="./images/入门webpack,看这篇就够了6.png" alt="" /></p>
<p>默认的端口是8080端口</p>
<p><span style="color: #000000;"><strong>修改默认端口</strong></span></p>
<p>嗯，有些时候我们的端口可能被其他项目占用着，所以为了项目得以运行，肯定是要改一下端口的啊。我们可以在配置命令脚本的时候添加参数<span style="color: #ff6600;">--port</span> 端口号&nbsp;</p>
<div class="cnblogs_code">
<pre><code>"scripts"<span style="color: #000000;">: {
    </span>"test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<span style="color: #000000;">,
    </span>"start": "webpack-dev-server --open --port 3000"<span style="color: #000000;">,
    </span>"dev": "webpack-dev-server "<span style="color: #000000;">,
    </span>"build": "webpack"<span style="color: #000000;">
  },</span></pre>
</div>
<p><img src="./images/入门webpack,看这篇就够了7.png" alt="" /></p>
<p>此时的端口就已经改为了3000端口了</p>
<h4>自动热更新</h4>
<p>我们每次修改完都要重启一下运行环境，这样的操作效率太低了，而且很浪费时间，我们要怎么做到每次修改完他都会自动更新呢，当然是有解决方法的啊，添加<span style="color: #ff6600;">--hot</span>参数即可</p>
<div class="cnblogs_code">
<pre><code>"scripts"<span style="color: #000000;">: {
    </span>"test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<span style="color: #000000;">,
    </span>"start": "webpack-dev-server --open --port 3000 --hot"<span style="color: #000000;">,
    </span>"dev": "webpack-dev-server "<span style="color: #000000;">,
    </span>"build": "webpack"<span style="color: #000000;">
  }</span></pre>
</div>
<p>开发的时候区分环境更项目配置的，可以查看我的上一篇的使用webpack构建简易的vue-cli框架的笔记（<a href="https://www.cnblogs.com/cythia/p/10672042.html">https://www.cnblogs.com/cythia/p/10672042.html</a>）</p>
<h4><strong>&nbsp;统计编译的时间</strong></h4>
<p>有时候我们在开发的时候需要做性能优化的时候,就肯定想要知道在编译过程中哪些步骤耗时最长。这个时候我们可以使用<span style="color: #ff9900;">--profile</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #800000;">"</span><span style="color: #800000;">scripts</span><span style="color: #800000;">"</span><span style="color: #000000;">: {
    </span><span style="color: #800000;">"</span><span style="color: #800000;">test</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">echo \"Error: no test specified\" &amp;&amp; exit 1</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">start</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">webpack-dev-server --open --port 3000 --hot --profile</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">dev</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">webpack-dev-server </span><span style="color: #800000;">"</span><span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">build</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">webpack</span><span style="color: #800000;">"</span><span style="color: #000000;">
  }</span></pre>
</div>
<p><img src="./images/入门webpack,看这篇就够了8.png" alt="" /></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>