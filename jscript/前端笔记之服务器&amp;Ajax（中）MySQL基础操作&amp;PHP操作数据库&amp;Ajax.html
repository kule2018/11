<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax</center></div><div class='banquan'>原文出处:本文由博客园博主RopeHuo提供。<br/>
原文连接:https://www.cnblogs.com/rope/p/10696993.html</div><br>
    <h1><strong>一、数据库基础</strong></h1>
<h2><strong>1.1<span style="font-family: 宋体;">什么是数据库？</span></strong></h2>
<p>什么是数据库？</p>
<p><span style="font-family: 宋体;">答：就是一个很大的一个文件，只不过这个文件可以通过一些</span>&lsquo;命令&rsquo;操作数据；</p>
<p>&nbsp;&nbsp;<span style="color: #ff0000;">&nbsp;&nbsp;增、删、改、查数据</span>；</p>
<p>&nbsp;</p>
<p>数据库等于持久数据和数据操作的一个统称。</p>
<p>数据库是按照数据结构来组织、存储及管理数据的仓库。</p>
<p><span style="font-family: 宋体;">数据库有哪些？</span> MySQL<span style="font-family: 宋体;">、</span><span style="font-family: 'Times New Roman';">SQL server</span><span style="font-family: 宋体;">、</span><span style="font-family: 'Times New Roman';">Oracle </span><span style="font-family: 宋体;">都是关系型数据管理系统（</span><span style="font-family: 'Times New Roman';">RDBMS</span><span style="font-family: 宋体;">）。</span></p>
<p>SQL<span style="font-family: 宋体;">存储数据相对较小，最为常用的数据库就是</span><span style="font-family: 'Times New Roman';">MySQL</span><span style="font-family: 宋体;">（开源、免费）</span></p>
<p>Orecal<span style="font-family: 宋体;">大型数据库（不开源、收钱）</span></p>
<p>NOSQL</p>
<p>Mongodb</p>
<p>操作数据库也有自己的语言，这个语言叫结构化查询语言。<span style="font-family: 宋体;">结构化查询语言</span>(Structured Query Language)<span style="font-family: 宋体;">简称</span><span style="font-family: Arial;">SQL</span><span style="font-family: 宋体;">。用于存取数据以及查询、更新和管理关系数据库系统；同时也是数据库脚本文件的扩展名。</span></p>
<hr />
<p>&nbsp;</p>
<h2><strong>1.2 MySQL <span style="font-family: 宋体;">的操作</span></strong></h2>
<p><span style="font-family: 宋体;">因为安装了</span>PHPnow<span style="font-family: 宋体;">。所以每一个同学的计算机中都有数据库。</span></p>
<p><span style="font-family: 宋体;">想操作数据库可以通过</span>php<span style="font-family: 宋体;">操作，也可以通过可视化的数据库管理软件操作。</span></p>
<p><span style="font-family: 宋体;">我们用的可视化的数据库管理软件是</span>Sqlyog<span style="font-family: 宋体;">。</span></p>
<p>SQLyog <span style="font-family: 宋体;">是一个快速而简洁的图形化管理</span><span style="font-family: Arial;">MYSQL</span><span style="font-family: 宋体;">数据库的工具，它能够在任何地点有效地管理你的数据库，由业界著名的</span><span style="font-family: Arial;">Webyog</span><span style="font-family: 宋体;">公司出品。</span></p>
<p>数据库的结构层次组成：<span style="color: #ff0000;"><span style="font-family: 宋体;">数据库</span> &gt; <span style="font-family: 宋体;">表 </span><span style="font-family: 'Times New Roman';">&gt; </span><span style="font-family: 宋体;">字段（条目），每个数据库的表中必须有一个主键。</span></span></p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax0.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>1、连接数据库，输入用户名和密码</p>
<p>用户的密码就是你安装<span style="font-family: 'Times New Roman';">PHPNOW</span><span style="font-family: 宋体;">的时候，也安装</span><span style="font-family: 'Times New Roman';">mySQL</span><span style="font-family: 宋体;">，密码</span><span style="font-family: 'Times New Roman';">123456</span></p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax1.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>2<span style="font-family: 宋体;">、认识</span><span style="font-family: 'Times New Roman';">sqlYog</span><span style="font-family: 宋体;">的图形界面</span></p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax2.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>3<span style="font-family: 宋体;">、建立自己的数据库</span></p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax3.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>4<span style="font-family: 宋体;">、创建数据库名字和设置字符集</span></p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax4.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>5<span style="font-family: 宋体;">、</span>点击数据库的&ldquo;<span style="font-family: 'Times New Roman';">+</span><span style="font-family: 宋体;">&rdquo;，你会发现数据库当中有表，</span>在数据库中创建表。</p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax5.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>6<span style="font-family: 宋体;">、需要设置表名字（</span><span style="font-family: 'Times New Roman';">gz0920</span><span style="font-family: 宋体;">）；设置字符集（</span><span style="font-family: 'Times New Roman';">UTF8</span><span style="font-family: 宋体;">）</span></p>
<p>其余的设置都为默认</p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax6.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>给（<span style="font-family: 'Times New Roman';">gz0920</span><span style="font-family: 宋体;">）表添加字段；</span></p>
<p>注意：①<span style="font-family: 'Times New Roman';">int</span><span style="font-family: 宋体;">代表的是整数 &nbsp;</span><span style="font-family: 'Times New Roman';">varchar</span><span style="font-family: 宋体;">字符串</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;②一个表当中主键只能有一个非空自增</p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax7.png" alt="" /></p>
<p>&nbsp;</p>
</td>
<td valign="top" width="347">
<p>数据库表的字段</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<hr />
<h2><strong>1.3 SQL<span style="font-family: 宋体;">语言操作数据库</span></strong></h2>
<p><span style="font-family: 宋体;">数据库增删改查操作（</span>CRUD<span style="font-family: 宋体;">）</span></p>
<p>C <span style="font-family: 宋体;">增加（</span><span style="font-family: 'Times New Roman';">create</span><span style="font-family: 宋体;">）</span></p>
<p>R <span style="font-family: 宋体;">查找（</span><span style="font-family: 'Times New Roman';">read</span><span style="font-family: 宋体;">）</span></p>
<p>U <span style="font-family: 宋体;">更改（</span><span style="font-family: 'Times New Roman';">update</span><span style="font-family: 宋体;">）</span></p>
<p>D <span style="font-family: 宋体;">删除（</span><span style="font-family: 'Times New Roman';">delete</span><span style="font-family: 宋体;">）</span></p>
<p>sql<span style="font-family: 宋体;">可以通过后台语言（</span><span style="font-family: 'Times New Roman';">PHP</span><span style="font-family: 宋体;">、</span><span style="font-family: 'Times New Roman';">JSP</span><span style="font-family: 宋体;">、</span><span style="font-family: 'Times New Roman';">aps.net</span><span style="font-family: 宋体;">）执行操作数据库。</span><span style="font-family: 'Times New Roman';">SQL </span><span style="font-family: 宋体;">语句对大小写不敏感</span></p>
<p>sql<span style="font-family: 宋体;">语句手册：</span><span style="text-decoration: underline;"><a href="http://www.w3school.com.cn/sql/sql_and_or.asp">http://www.w3school.com.cn/sql/sql_and_or.asp</a></span></p>
<hr />
<p>&nbsp;</p>
<h3><strong>●查询</strong></h3>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;SELECT 字段&nbsp;FROM 表名</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;SELECT * FROM&nbsp;<span style="font-family: 宋体; font-size: 10.5pt;">banji0922</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax8.png" alt="" /></p>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="15">&nbsp;SELECT * FROM&nbsp;<span style="font-family: 宋体; font-size: 10.5pt;">banji0922</span>&nbsp;WHERE sex="<span style="font-family: 宋体;">男</span><span style="font-family: Consolas;">"</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax9.png" alt="" /></p>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="15">&nbsp;SELECT * FROM banji0922 WHERE xingbie = "<span style="font-family: 宋体;">男</span><span style="font-family: Consolas;">" AND nianling &gt; 60 ;</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax10.png" alt="" /></p>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="15">&nbsp;SELECT * FROM banji0922 WHERE xingbie = "<span style="font-family: 宋体;">男</span><span style="font-family: Consolas;">" ORDER BY nianling <span style="color: #ff0000;">DESC</span>;</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>DESC是降序；ASC <span style="font-family: 宋体;">是升序</span></p>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax11.png" alt="" /></p>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p>SELECT &nbsp;<span style="font-family: 宋体;">字段 </span><span style="font-family: Consolas;">FROM &nbsp;</span><span style="font-family: 宋体;">表名</span></p>
<p class="15">SELECT xingming FROM gz1125&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">提示：查询与语句</span>SELECT&nbsp;&nbsp;* &nbsp;FROM gz1125 <span style="font-family: 宋体;">单词一般都是大写，后面添加的是表名称，因为表中才有数据。</span></p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h3><strong>●增加</strong></h3>
<p>INSERT INTO语句插入条目：</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;INSERT INTO <span style="font-family: 宋体;">表名称 </span><span style="font-family: Consolas;">VALUES (</span><span style="font-family: 宋体;">值</span><span style="font-family: Consolas;">1, </span><span style="font-family: 宋体;">值</span><span style="font-family: Consolas;">2,....)</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>我们也可以指定所要插入数据的列：</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;INSERT INTO table_name (<span style="font-family: 宋体;">列</span><span style="font-family: Consolas;">1, </span><span style="font-family: 宋体;">列</span><span style="font-family: Consolas;">2,...) VALUES (</span><span style="font-family: 宋体;">值</span><span style="font-family: Consolas;">1, </span><span style="font-family: 宋体;">值</span><span style="font-family: Consolas;">2,....)</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;INSERT INTO &nbsp;banji0922 VALUE(11,"<span style="font-family: 宋体;">王安石</span><span style="font-family: Consolas;">",99,"</span><span style="font-family: 宋体;">男</span><span style="font-family: Consolas;">","6543432534");</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax12.png" alt="" /></p>
<p>&nbsp;</p>
<p>不想插入所有的条目，必须罗列响应的字段：</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;INSERT INTO banji0922&nbsp;<span style="color: #ff0000;">(xingming,qqhao)</span>&nbsp;VALUE ("<span style="font-family: 宋体;">李大钊</span><span style="font-family: Consolas;">","3465342")</span>;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax13.png" alt="" /></p>
<p>&nbsp;</p>
<p>下面的是错误演示：</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;INSERT INTO banji0922 &nbsp;VALUE ("<span style="font-family: 宋体;">李大钊</span><span style="font-family: Consolas;">","3465342");</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax14.png" alt="" /></p>
<hr />
<h3>&nbsp;</h3>
<h3><strong>●更改</strong></h3>
<p>语法：</p>
<p>SET &nbsp;&nbsp;<span style="font-family: 宋体;">表示设置</span></p>
<p>WHERE 表示条件</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;UPDATE <span style="font-family: 宋体;">表名称 </span><span style="font-family: Consolas;">SET </span><span style="font-family: 宋体;">列名称 </span><span style="font-family: Consolas;">= </span><span style="font-family: 宋体;">新值 </span><span style="font-family: Consolas;">WHERE </span><span style="font-family: 宋体;">列名称 </span><span style="font-family: Consolas;">= </span><span style="font-family: 宋体;">某值</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>更改多个条目，用逗号隔开：</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;UPDATE <span style="font-family: 宋体;">表名称 </span><span style="color: #ff0000;">SET <span style="font-family: 宋体;">列名称 </span><span style="font-family: Consolas;">= </span><span style="font-family: 宋体;">新值</span>,列名称 <span style="font-family: Consolas;">= </span><span style="font-family: 宋体;">新值</span></span>&nbsp;WHERE <span style="font-family: 宋体;">列名称 </span><span style="font-family: Consolas;">= </span><span style="font-family: 宋体;">某值</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;UPDATE banji0922 SET nianling = 200 WHERE xingming = "<span style="font-family: 宋体;">李大钊</span><span style="font-family: Consolas;">";</span></p>
</td>
</tr>
</tbody>
</table>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax15.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;UPDATE banji0922 SET xingbie = "<span style="font-family: 宋体;">男</span><span style="font-family: Consolas;">" WHERE nianling &gt; 20;</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax16.png" alt="" /></p>
<hr />
<h3>&nbsp;</h3>
<h3><strong>●删除</strong></h3>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">DELETE FROM <span style="font-family: 宋体;">表名称 </span><span style="font-family: Consolas;">WHERE </span><span style="font-family: 宋体;">列名称 </span><span style="font-family: Consolas;">= </span><span style="font-family: 宋体;">值</span></p>
<p>DELETE FROM banji0922 WHERE xingming = "<span style="font-family: 宋体;">李大钊</span><span style="font-family: Consolas;">";</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>删除整个表：</p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;DELETE FROM banji0922;</p>
</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 1.17em;">&nbsp;</span></p>
<hr />
<h3><strong><br />●</strong><strong>WHERE</strong><strong>条件</strong></h3>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax17.png" alt="" /></p>
<h3><strong>●备份数据库</strong></h3>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax18.png" alt="" /></p>
<p>恢复数据：将我们生产的sql<span style="font-family: 宋体;">文件拖拽到数据库中，点击执行多条</span><span style="font-family: 'Times New Roman';">sql</span><span style="font-family: 宋体;">语句按钮，再刷新数据库列表。</span></p>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="694">
<p class="16">&nbsp;SELECT * FROM banji0922</p>
<p class="16">&nbsp;SELECT * FROM banji0922 WHERE xingbie = "<span style="font-family: 宋体;">女</span><span style="font-family: Consolas;">"</span></p>
<p class="16">&nbsp;INSERT INTO banji0922 ( xingming,nianling)VALUE ("<span style="font-family: 宋体;">王羲之</span><span style="font-family: Consolas;">",300)</span></p>
<p class="16">&nbsp;UPDATE banji0922 SET nianling = 30 &nbsp;WHERE &nbsp;xingming = "<span style="font-family: 宋体;">王羲之</span><span style="font-family: Consolas;">"</span></p>
<p class="16">&nbsp;DELETE FROM banji0922 WHERE xingming = "<span style="font-family: 宋体;">王羲之</span><span style="font-family: Consolas;">";</span></p>









</td>









</tr>









</tbody>









</table>
<p>&nbsp;</p>
<hr />
<h1>二、<strong>PHP<span style="font-family: 宋体;">操作数据库</span></strong></h1>
<p><span style="font-family: 宋体;">概述：对于后台而已，经常做的一件事情就是保存数据，操作数据库，</span>PHP<span style="font-family: 宋体;">属于后端语言，因此也有操作数据库的方法。</span></p>
<div class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 连接数据库 参数  ： 地址 、 用户名 、 密码</span>
    <span style="color: #008080;">mysql_connect</span>("localhost","root",123456<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 选择操作哪个数据库</span>
    <span style="color: #008080;">mysql_select_db</span>("student"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 设置编码</span>
    <span style="color: #008080;">mysql_query</span>("SET NAMES UTF8"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 写执行的sql语句，快捷键  ctrl+k+u</span>
    <span style="color: #800080;">$sql</span> = "INSERT INTO banji0922 VALUE (13,'海子',20,'男','123465454')"<span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 执行sql语句</span>
    <span style="color: #008080;">mysql_query</span>(<span style="color: #800080;">$sql</span><span style="color: #000000;">);
</span>?&gt;</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;要从数据库中所有的条目显示到页面上：</p>
<div class="cnblogs_code">
<pre><code>&lt;meta charset="UTF-8" /&gt;
&lt;?<span style="color: #000000;">php
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 连接数据库 参数  ： 地址 、 用户名 、 密码</span>
    <span style="color: #008080;">mysql_connect</span>("localhost","root",123456<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 选择哪个数据库</span>
    <span style="color: #008080;">mysql_select_db</span>("student"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 识别中文字符</span>
    <span style="color: #008080;">mysql_query</span>("SET NAMES UTF8"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 写执行的sql语句
    // 快捷键  ctrl+k+u</span>
    <span style="color: #800080;">$sql</span> = "SELECT * FROM banji0922"<span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 执行sql</span>
    <span style="color: #800080;">$result</span> = <span style="color: #008080;">mysql_query</span>(<span style="color: #800080;">$sql</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 把$result类数组对象变成数组</span>
    <span style="color: #ff0000;">$row = mysql_fetch_array($result);
    // 输出
    print_r($row);
</span>?&gt;</pre>
</div>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Consolas; mso-hansi-font-family: Consolas; mso-bidi-font-family: Consolas; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">Array ( [0] =&gt; 1 [id] =&gt; 1 [1] =&gt; <span style="font-family: 宋体;">诸葛亮 </span><span style="font-family: Consolas;">[xingming] =&gt; </span><span style="font-family: 宋体;">诸葛亮 </span><span style="font-family: Consolas;">[2] =&gt; 80 [nianling] =&gt; 80 [3] =&gt; </span><span style="font-family: 宋体;">男 </span><span style="font-family: Consolas;">[xingbie] =&gt; </span><span style="font-family: 宋体;">男 </span><span style="font-family: Consolas;">[4] =&gt; 23456789 [qqhao] =&gt; 23456789 )</span></span></p>
<p><span style="color: #ff0000;"><strong>print_r<span style="font-family: 宋体;">后只显示数据库中第一条信息</span></strong><strong>。</strong></span></p>
<p>&nbsp;</p>
<p><strong><span style="font-family: 宋体; color: #ff0000; font-size: 10.5pt;">查询数据库：</span></strong></p>
<div class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">//</span><span style="color: #008000;">连接数据库，参数：数据库地址、用户名、密码</span>
<span style="color: #008080;">mysql_connect</span>("localhost","root",123456<span style="color: #000000;">);
</span><span style="color: #008000;">//</span><span style="color: #008000;">选择要操作的数据库</span>
<span style="color: #008080;">mysql_select_db</span>("student"<span style="color: #000000;">);
</span><span style="color: #008000;">//</span><span style="color: #008000;">设置编码</span>
<span style="color: #008080;">mysql_query</span>("SET NAMES UTF8"<span style="color: #000000;">);
</span><span style="color: #008000;">//</span><span style="color: #008000;">写执行的sql语句，保存数据</span>
<span style="color: #800080;">$sql</span> = "SELECT * FROM banji0922"<span style="color: #000000;">;
</span><span style="color: #008000;">//</span><span style="color: #008000;">执行sql语句</span>
<span style="color: #800080;">$result</span> = <span style="color: #008080;">mysql_query</span>(<span style="color: #800080;">$sql</span><span style="color: #000000;">);

</span><span style="color: #800080;">$arr</span> = <span style="color: #0000ff;">array</span>(); <span style="color: #008000;">//</span><span style="color: #008000;">空数组
//循环把$resultl类数组对象变为数组</span>
<span style="color: #0000ff;">while</span>(<span style="color: #800080;">$row</span> = <span style="color: #008080;">mysql_fetch_array</span>(<span style="color: #800080;">$result</span><span style="color: #000000;">)) {
</span><span style="color: #008080;">array_push</span>(<span style="color: #800080;">$arr</span>,<span style="color: #800080;">$row</span><span style="color: #000000;">);
};
</span><span style="color: #800080;">$result</span> = <span style="color: #0000ff;">array</span>("result"=&gt;<span style="color: #800080;">$arr</span><span style="color: #000000;">);
</span><span style="color: #008000;">//</span><span style="color: #008000;">变为JSON形式</span>
<span style="color: #800080;">$resultJson</span>= json_encode(<span style="color: #800080;">$result</span><span style="color: #000000;">);
</span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$resultJson</span><span style="color: #000000;">;
</span>?&gt;</pre>
</div>
<p>&nbsp;</p>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax19.png" alt="" /></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
   </span><span style="color: #008080;">mysql_connect</span>("localhost","root",123456<span style="color: #000000;">);
   </span><span style="color: #008080;">mysql_select_db</span>("student"<span style="color: #000000;">);
   </span><span style="color: #008080;">mysql_query</span>("SET NAMES UTF8"<span style="color: #000000;">);
   </span><span style="color: #008000;">//</span><span style="color: #008000;">数据库返回的数据(对象)</span>
   <span style="color: #800080;">$result</span> = <span style="color: #008080;">mysql_query</span>("SELECT * FROM gz0920"<span style="color: #000000;">);
   </span><span style="color: #008000;">//</span><span style="color: #008000;">将结果转换为数组</span>
   <span style="color: #0000ff;">while</span> (<span style="color: #800080;">$array</span> = <span style="color: #008080;">mysql_fetch_array</span>(<span style="color: #800080;">$result</span><span style="color: #000000;">)) {
       </span><span style="color: #008080;">print_r</span>(<span style="color: #800080;">$array</span>["xingming"<span style="color: #000000;">]);
       </span><span style="color: #0000ff;">echo</span> "&lt;br/&gt;"<span style="color: #000000;">;
   }
</span>?&gt;</pre>
</div>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax20.png" alt="" /><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax21.png" alt="" /></p>
<p>提示：</p>
<p>①数据库返回的结果是一个对象，因此需要用<span style="font-family: 'Times New Roman';">mysql_fetch_array($result)</span><span style="font-family: 宋体;">变为数组；</span></p>
<p>②遍历数据取到你想要的数据</p>
<hr />
<p>&nbsp;</p>
<h1><strong>三、复习</strong></h1>
<h2><strong><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax22.png" alt="" /></strong></h2>
<p><span style="font-family: 宋体;">概述：对于客户端而言，当在地址栏输入网址回车的时候，会向服务器发起一个上行请求（</span>GET<span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">POST</span><span style="font-family: 宋体;">），网页中几乎</span><span style="font-family: Consolas;">90%</span><span style="font-family: 宋体;">都是</span><span style="font-family: Consolas;">GET</span><span style="font-family: 宋体;">请求，登录、注册</span><span style="font-family: Consolas;">...</span><span style="font-family: 宋体;">可以用</span><span style="font-family: Consolas;">POST</span><span style="font-family: 宋体;">，它两者不同的地址：</span></p>
<p><span style="color: #ff0000;">l&nbsp;<strong>GET<span style="font-family: 宋体;">请求是以伪装</span><span style="font-family: Consolas;">URL</span><span style="font-family: 宋体;">的形式（</span><span style="font-family: Consolas;">?k=v&amp;k=v</span><span style="font-family: 宋体;">）向服务器传递一些额外数据；</span></strong></span></p>
<p><span style="color: #ff0000;">l&nbsp;<strong>POST<span style="font-family: 宋体;">请求是以报文体的形式向服务器传递数据</span></strong></span></p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">报文：报文头（客户端的浏览器的信息）</span>+ <span style="font-family: 宋体;">报文体（一般为空）</span></p>
<p>&nbsp;</p>
<p>get<span style="font-family: 宋体;">：一般用于信息的获取使用</span><span style="font-family: Consolas;">url</span><span style="font-family: 宋体;">传递参数。对所送的数据有字节数限制。（本质上：以少换多）。</span><span style="font-family: Consolas;">Get</span><span style="font-family: 宋体;">请求是向服务器获取消息。</span></p>
<p>post<span style="font-family: 宋体;">：一般用于存储或修改服务器上的额资源的。对所发送的数据没有字节限制。</span><span style="font-family: Consolas;">Post</span><span style="font-family: 宋体;">请求所有都是通过</span><span style="font-family: Consolas;">form</span><span style="font-family: 宋体;">表单形式提交的。</span><span style="font-family: Consolas;">Post</span><span style="font-family: 宋体;">请求可以看成向服务器推送消息。（信息量大，换回来的少）</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">一个完整的</span>URL<span style="font-family: 宋体;">包括哪些部分：</span></p>
<p class="17"><a href="http://www.baidu.com:8080/news/2017-12-09/index.php?newsid=344532&amp;pagenum="><span style="text-decoration: underline;">http://www.baidu.com:8080/news/2017-12-09/index.php?newsid=344532&amp;pagenum=</span></a>12#name</p>
<p>l&nbsp;http:// <span style="font-family: 宋体;">协议部分</span></p>
<p>l&nbsp;<a href="http://www.baidu.com"><span style="text-decoration: underline;">www.baidu.com</span></a>&nbsp; 域名</p>
<p>l&nbsp;<span style="text-decoration: underline;">:8080</span>&nbsp;&nbsp; 端口</p>
<p>l&nbsp;<span style="text-decoration: underline;">/news/2017-12-09/</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">虚拟目录，从域名的第一个</span>&ldquo;<span style="font-family: 'Times New Roman';">/</span><span style="font-family: 宋体;">&rdquo;到最后一个&ldquo;</span><span style="font-family: 'Times New Roman';">/</span><span style="font-family: 宋体;">&rdquo;</span></p>
<p>l&nbsp;<span style="text-decoration: underline;">index.php</span>&nbsp;&nbsp;&nbsp; 文件名</p>
<p>l&nbsp;<span style="text-decoration: underline;">?newsid=344532&amp;pagenum=12</span>&nbsp;&nbsp;<span style="font-family: 宋体;">参数部分</span> <span style="font-family: 宋体;">从？开始到</span>&ldquo;<span style="font-family: 'Times New Roman';">#</span><span style="font-family: 宋体;">&rdquo;之前结束</span></p>
<p>l&nbsp;#name &nbsp;<span style="font-family: 宋体;">从</span><span style="font-family: Consolas;">#</span><span style="font-family: 宋体;">开始到最后，</span><span style="font-family: Consolas;">hash</span></p>
<hr />
<h1><strong>四、</strong><strong>Ajax<span style="font-family: 宋体;">开发</span></strong></h1>
<h2><strong>4.1 Ajax<span style="font-family: 宋体;">介绍</span></strong></h2>
<p>Ajax <span style="font-family: 宋体;">即</span><span style="font-family: Consolas;">&ldquo;</span><span style="color: #ff0000;"><strong>A</strong></span>synchronous&nbsp;<span style="color: #ff0000;"><strong>J</strong></span>avascript&nbsp;<span style="color: #ff0000;"><strong>A</strong></span>nd&nbsp;<span style="color: #ff0000;"><strong>X</strong></span>ML&rdquo;<span style="font-family: 宋体;">（异步 </span><span style="font-family: Consolas;">JavaScript </span><span style="font-family: 宋体;">和 </span><span style="font-family: Consolas;">XML</span><span style="font-family: 宋体;">），是指一种创建交互式</span><a href="https://baike.baidu.com/item/%E7%BD%91%E9%A1%B5"><span style="font-family: 宋体;">网页</span></a><span style="font-family: 宋体;">应用的网页开发技术。</span></p>
<p>&nbsp;Ajax = <span style="font-family: 宋体;">异步</span><span style="font-family: Consolas;">&nbsp;</span><a href="https://baike.baidu.com/item/JavaScript">JavaScript</a>&nbsp;<span style="font-family: 宋体;">和</span><span style="font-family: Consolas;">&nbsp;</span><a href="https://baike.baidu.com/item/XML">XML</a><span style="font-family: 宋体;">（</span><a href="https://baike.baidu.com/item/%E6%A0%87%E5%87%86%E9%80%9A%E7%94%A8%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80"><span style="font-family: 宋体;">标准通用标记语言</span></a><span style="font-family: 宋体;">的子集）。</span></p>
<p>&nbsp;Ajax <span style="font-family: 宋体;">是一种用于创建快速动态网页的技术。</span></p>
<p>&nbsp;Ajax <span style="font-family: 宋体;">是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。</span></p>
<p><span style="font-family: 宋体;">通过在后台与服务器进行少量数据交换，</span>Ajax <span style="font-family: 宋体;">可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</span></p>
<p><span style="font-family: 宋体;">传统的网页（不使用</span> Ajax<span style="font-family: 宋体;">）如果需要更新内容，必须重载整个网页页面。</span></p>
<p>&nbsp;</p>
<p>&nbsp;<strong><span style="font-family: 宋体;">到底什么是</span>Ajax<span style="font-family: 宋体;">？</span></strong></p>
<p><span style="font-family: 新宋体;">它不是一个技术（多门技术的集合），它可以</span>&ldquo;<span style="font-family: 新宋体;">悄悄的</span><span style="font-family: Consolas;">&rdquo;</span><span style="font-family: 新宋体;">向服务器</span>请求<span style="font-family: 新宋体;">数据，服务器也可以</span>&ldquo;<span style="font-family: 新宋体;">悄悄的</span><span style="font-family: Consolas;">&rdquo;</span><span style="font-family: 新宋体;">向客户端响应返回数据，最终实现整个页面没有重新加载，而实现页面中局部刷新数据。</span></p>
<p>2005 <span style="font-family: 新宋体;">年初，许多事件使得 </span><span style="font-family: Consolas;">Ajax </span><span style="font-family: 新宋体;">被大众所接受。</span><span style="font-family: Consolas;">Google </span><span style="font-family: 新宋体;">在它著名的交互应用程序中使用了异步通讯，如</span><span style="font-family: Consolas;">Google</span><span style="font-family: 新宋体;">、</span><span style="font-family: Consolas;">Google </span><span style="font-family: 新宋体;">地图、</span><span style="font-family: Consolas;">Google</span><span style="font-family: 新宋体;">搜索应用</span><span style="font-family: 新宋体;">了</span>Ajax<span style="font-family: 新宋体;">技术</span><span style="font-family: 新宋体;">。</span></p>
<p>&nbsp;</p>
<hr />
<h2><strong>4.2 Ajax<span style="font-family: 宋体;">效果</span></strong></h2>
<p><span style="font-family: 宋体;">概述：对现在的开发人员而言，</span>&ldquo;遍地&rdquo;都是<span style="font-family: Consolas;">Ajax</span></p>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax23.png" alt="" /></p>
<p><span style="font-family: 宋体;">例如</span>163<span style="font-family: 宋体;">邮箱的注册，当你在邮箱地址文本输入框当中输入完手机号之后，客户端会向服务器</span><span style="font-family: Consolas;">&ldquo;</span><span style="font-family: 宋体;">悄悄</span><span style="font-family: Consolas;">&rdquo;</span><span style="font-family: 宋体;">的传递数据，服务器也会</span><span style="font-family: Consolas;">&lsquo;</span><span style="font-family: 宋体;">悄悄的</span><span style="font-family: Consolas;">&rsquo;</span><span style="font-family: 宋体;">响应，给你返回数据；整体的网页没有更新的情况下，实现局部刷新数据；例如微博的点赞等</span><span style="font-family: Consolas;">......</span></p>
<p>&nbsp;</p>
<hr />
<h2><strong>4.3 Asynchronous<span style="font-family: 宋体;">和</span><span style="font-family: 华文中宋;">synchronous</span></strong></h2>
<p><span style="font-family: 宋体;">概述：耗时间相对长一些的语句，我们称之为</span>&ldquo;异步语句&rdquo;：<span style="font-family: Consolas;">Ajax</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">setInterval()</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">setTimeout()</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">animate()</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">Nodejs</span><span style="font-family: 宋体;">都是异步语句。异步语句耗时都比较长，所以会先执行后面同步的语句（如果先执行异步语句，程序就被阻塞了）。</span></p>
<p><span style="color: #ff0000;"><strong>经验：只要有回调函数的都是异步语句。</strong></span></p>
<p>&nbsp;</p>
<p>遇到异步语句，会先放一边，执行后面同步的语句，回头再执行自己</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> f = 0<span style="color: #000000;">;
setInterval(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){
   f</span>++<span style="color: #000000;">
   console.log(f);
},</span>1000<span style="color: #000000;">)
console.log(</span>"哈哈");</pre>
</div>
<p>&nbsp;</p>
<p>同步语句一般耗时不长，依次从上往下的顺序执行</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> i = 0; i &lt; 10; i++<span style="color: #000000;">){
   console.log(i)
}
console.log(</span>"哈哈");</pre>
</div>
<hr />
<h2><strong>4.4<span style="font-family: 宋体;">进程和线程</span></strong></h2>
<p>概述：什么是进程，一个应用就是一个进程。</p>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax24.png" alt="" /></p>
<p><span style="font-family: 宋体;">什么是线程？线程就是进程的基本单位，也就说，进程是由多个线程组成的（主线程），</span>JS<span style="font-family: 宋体;">是单线程。</span></p>
<hr />
<h2><strong>4.5 jQuery<span style="font-family: 宋体;">的</span><span style="font-family: 华文中宋;">Ajax</span></strong></h2>
<p>jQuery<span style="font-family: 宋体;">的</span><span style="font-family: Consolas;">get</span><span style="font-family: 宋体;">请求语法：</span></p>
<div class="cnblogs_code">
<pre><code>$.get(url, [data], [callback], [type])</pre>
</div>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Consolas; mso-hansi-font-family: Consolas; mso-bidi-font-family: 'Times New Roman'; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">案例：当单击按钮的时候，将服务器中的数据显示到标签中，并且不刷新页面：</span></p>
<div class="cnblogs_code">
<pre><code>$("button").click(<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
    </span><span style="color: #008000;">//</span><span style="color: #008000;">发起一个GET请求</span>
    $.get("data/result.txt", <span style="color: #0000ff;">function</span><span style="color: #000000;">(data){
        $(</span>"p"<span style="color: #000000;">).html(data)
    })
});
</span><span style="color: #008000;">//</span><span style="color: #008000;">用定时器证明这个页面没有重新加载</span>
<span style="color: #0000ff;">var</span> i = 0<span style="color: #000000;">;
setInterval(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){
    i</span>++<span style="color: #000000;">;
    $(</span>"h1"<span style="color: #000000;">).html(i)
},</span>100)</pre>
</div>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax25.png" alt="" /></p>
<p>注意：</p>
<p>&nbsp;所有的文件都必须在服务器中。</p>
<p>&nbsp;<span style="font-family: 宋体;">必须是</span>http<span style="font-family: 宋体;">请求过来的。</span></p>
<p><span style="font-family: 宋体;">请求的页面若不是通过</span>http<span style="font-family: 宋体;">打开的，会报错，这个报错就是著名的跨域报错。</span></p>
<p>&nbsp;<img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax26.png" alt="" /></p>
<p>&nbsp;jQuery<span style="font-family: 宋体;">中的</span><span style="font-family: Consolas;">$.get</span><span style="font-family: 宋体;">，帮我们做了什么事情？</span></p>
<p><span style="font-family: 宋体;">发送了</span>http<span style="font-family: 宋体;">请求，请求接口中的数据。然后服务器收到</span><span style="font-family: Consolas;">http</span><span style="font-family: 宋体;">请求，开始执行</span><span style="font-family: Consolas;">http</span><span style="font-family: 宋体;">响应，</span><span style="font-family: Consolas;">txt</span><span style="font-family: 宋体;">中的内容在</span><span style="font-family: Consolas;">http</span><span style="font-family: 宋体;">的报文体中携带到浏览器中。被</span><span style="font-family: Consolas;">$.get</span><span style="font-family: 宋体;">的回调函数接收。回调函数的</span><span style="font-family: Consolas;">data</span><span style="font-family: 宋体;">就是</span><span style="font-family: Consolas;">http</span><span style="font-family: 宋体;">响应的报文体中的参数。</span></p>
<hr />
<h3><strong>4.5.1 Ajax<span style="font-family: 宋体;">实现注册功能</span></strong></h3>
<p>注册业务：客户端会向服务器传递一些数据，服务器会保存这个数据，如果用户名已经被注册了，提示该用户名已经被注册。</p>
<p><span style="color: #ff0000;"><strong>注意：别忘记创建数据库</strong></span></p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">前端</span>html：<span style="font-family: 宋体;"><br /></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span>账户：<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="user"</span> <span style="color: #0000ff;">/&gt;&lt;</span><span style="color: #800000;">b </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="info"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">b</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span>密码：<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="password"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="pwd"</span> <span style="color: #0000ff;">/&gt;&lt;/</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span>注册<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #ff0000;"> src</span><span style="color: #0000ff;">="js/jquery-2.2.4.min.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">
    $(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">button</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">).click(</span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(){
        $.post(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">php/reg.php</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">, {
            </span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">name</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">: $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#user</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).val(),
            </span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">password</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">: $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#pwd</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).val()
        }, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(data){
            </span><span style="background-color: #f5f5f5; color: #0000ff;">if</span><span style="background-color: #f5f5f5; color: #000000;">(data </span><span style="background-color: #f5f5f5; color: #000000;">==</span> <span style="background-color: #f5f5f5; color: #000000;">1</span><span style="background-color: #f5f5f5; color: #000000;">){
                alert(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">注册成功</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
            }</span><span style="background-color: #f5f5f5; color: #0000ff;">else</span><span style="background-color: #f5f5f5; color: #000000;">{
                alert(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">注册失败</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
            }
        })
    });

    </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;">文本框输入内容时，实时查询用户名是否存在</span>
<span style="background-color: #f5f5f5; color: #000000;">    $(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#user</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">).on(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">input</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(){
        $.get(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">php/search.php?name=</span><span style="background-color: #f5f5f5; color: #000000;">"</span> <span style="background-color: #f5f5f5; color: #000000;">+</span><span style="background-color: #f5f5f5; color: #000000;"> $(</span><span style="background-color: #f5f5f5; color: #0000ff;">this</span><span style="background-color: #f5f5f5; color: #000000;">).val(), </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(data){
            </span><span style="background-color: #f5f5f5; color: #0000ff;">if</span><span style="background-color: #f5f5f5; color: #000000;">(data </span><span style="background-color: #f5f5f5; color: #000000;">==</span> <span style="background-color: #f5f5f5; color: #000000;">1</span><span style="background-color: #f5f5f5; color: #000000;">){
                $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">.info</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).css(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">color</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">green</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).html(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">恭喜你可以注册</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
            }</span><span style="background-color: #f5f5f5; color: #0000ff;">else</span><span style="background-color: #f5f5f5; color: #000000;">{
                $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">.info</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).css(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">color</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">red</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).html(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">用户名已被注册</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
            }
        })
    })

    </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;">失去焦点隐藏info</span>
<span style="background-color: #f5f5f5; color: #000000;">    $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#user</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).blur(</span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(){
        $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">.info</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).hide()
    })
</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>&nbsp;</p>
<p>reg.php<span style="font-family: 宋体;">注册：</span></p>
<div class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取前端传过来的数据</span>
    <span style="color: #800080;">$name</span> = <span style="color: #800080;">$_POST</span>["name"<span style="color: #000000;">];
    </span><span style="color: #800080;">$password</span> = <span style="color: #800080;">$_POST</span>["password"<span style="color: #000000;">];

    </span><span style="color: #008000;">//</span><span style="color: #008000;">连接数据库，参数：数据库地址、用户名、密码</span>
    <span style="color: #008080;">mysql_connect</span>('localhost', 'root', '123456'<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">选择要操作的数据库</span>
    <span style="color: #008080;">mysql_select_db</span>("student"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设置编码</span>
    <span style="color: #008080;">mysql_query</span>("SET NAMES utf8"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">写执行插入的SQL语句，保存到数据库的表中</span>
    <span style="color: #800080;">$sql</span> = "INSERT INTO stuuser (name, password) VALUES ('<span style="color: #800080;">$name</span>','<span style="color: #800080;">$password</span>')"<span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">执行SQL语句，会返回成功插入的结果（条数）</span>
    <span style="color: #800080;">$result</span> = <span style="color: #008080;">mysql_query</span>(<span style="color: #800080;">$sql</span><span style="color: #000000;">);

    </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$result</span><span style="color: #000000;">){
        </span><span style="color: #0000ff;">echo</span> 1; <span style="color: #008000;">//</span><span style="color: #008000;">插入成功返回1给前端</span>
    }<span style="color: #0000ff;">else</span><span style="color: #000000;">{
        </span><span style="color: #0000ff;">echo</span> 0; <span style="color: #008000;">//</span><span style="color: #008000;">插入失败返回0给前端</span>
<span style="color: #000000;">    }

</span>?&gt;</pre>
</div>
<p>&nbsp;</p>
<p>search.php<span style="font-family: 宋体;">查询数据库：</span></p>
<div class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取前端传过来的数据</span>
    <span style="color: #800080;">$name</span> = <span style="color: #800080;">$_GET</span>["name"<span style="color: #000000;">];

    </span><span style="color: #008000;">//</span><span style="color: #008000;">连接数据库，参数：数据库地址、用户名、密码</span>
    <span style="color: #008080;">mysql_connect</span>('localhost', 'root', '123456'<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">选择要操作的数据库</span>
    <span style="color: #008080;">mysql_select_db</span>("student"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设置编码</span>
    <span style="color: #008080;">mysql_query</span>("SET NAMES utf8"<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">写执行插入的SQL语句，保存到数据库的表中</span>
    <span style="color: #800080;">$sql</span> = "SELECT * FROM stuuser WHERE name='<span style="color: #800080;">$name</span>'"<span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">执行SQL语句，会返回成功查询的结果</span>
    <span style="color: #800080;">$result</span> = <span style="color: #008080;">mysql_query</span>(<span style="color: #800080;">$sql</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">查询数据库条目的个数，并返回</span>
    <span style="color: #800080;">$count</span> = <span style="color: #008080;">mysql_num_rows</span>(<span style="color: #800080;">$result</span><span style="color: #000000;">);

    </span><span style="color: #008000;">//</span><span style="color: #008000;">给前端返回一个结果：能不能注册</span>
    <span style="color: #0000ff;">if</span>(<span style="color: #800080;">$count</span> == 0<span style="color: #000000;">){
        </span><span style="color: #0000ff;">echo</span> 1; <span style="color: #008000;">//</span><span style="color: #008000;">如果数据库不存在，返回1给客户端验证</span>
    }<span style="color: #0000ff;">else</span><span style="color: #000000;">{
        </span><span style="color: #0000ff;">echo</span> 0<span style="color: #000000;">;
    }
</span>?&gt;</pre>
</div>
<hr />
<h3><strong>4.5.2 jQuery<span style="font-family: 宋体;">的</span><span style="font-family: Consolas;">get</span><span style="font-family: 宋体;">请求方法</span></strong></h3>
<p>语法：</p>
<div class="cnblogs_code">
<pre><code>$.get(url, [data], [callback], [type])</pre>
</div>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax27.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<strong>jQuery<span style="font-family: 宋体;">的</span><span style="font-family: Consolas;">get</span><span style="font-family: 宋体;">请求语法：有两种方法传递数据，但最终参数都是以</span><span style="font-family: Consolas;">query string</span><span style="font-family: 宋体;">的方式传递给服务端</span></strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">示例1：
$.get(</span>"接口地址?k=v&amp;k=v",<span style="color: #0000ff;">function</span><span style="color: #000000;">(data){

});
示例2：
$.get(</span>"接口地址",{k:v, k:v},<span style="color: #0000ff;">function</span><span style="color: #000000;">(data){

});</span></pre>
</div>
<hr />
<h3><span style="font-size: 14pt;"><strong><span style="font-family: 宋体;">4.5.3jQuery<span>的</span><span style="font-family: Consolas;">post</span><span>请求方法</span></span></strong></span></h3>
<h3>&nbsp;</h3>
<p class="MsoNormal" style="margin-left: 21.0000pt; mso-para-margin-left: 0.0000gd; text-indent: -21.0000pt; mso-char-indent-count: 0.0000; mso-list: l0 level1 lfo1;"><!--[if !supportLists]--><strong><span style="font-family: 宋体; font-size: 10.5pt;">jQuery<span style="font-family: 宋体;">的 </span><span style="font-family: Consolas;">post</span><span style="font-family: 宋体;">请求的语法：参数依然是以报文体的形式传递到服务器中</span></span></strong></p>
<div class="cnblogs_code">
<pre><code>$.post(url, [data], [callback], [type])</pre>
</div>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax28.png" alt="" /></p>
<hr />
<h3><span style="font-size: 14pt;"><strong>4.5.4 $.ajax()<span style="font-family: 宋体;">方法</span></strong></span></h3>
<p><strong>$.ajax()<span style="font-family: 宋体;">方法有以下常用参数：</span></strong></p>
<p>&nbsp;url<span style="font-family: 宋体;">： 要求为</span><span style="font-family: Consolas;">string</span><span style="font-family: 宋体;">类型的参数，（默认为当前页面地址）发送请求地址。</span></p>
<p>&nbsp;type<span style="font-family: 宋体;">：要求为</span><span style="font-family: Consolas;">string</span><span style="font-family: 宋体;">类型的参数，请求方式（</span><span style="font-family: Consolas;">get</span><span style="font-family: 宋体;">或</span><span style="font-family: Consolas;">post</span><span style="font-family: 宋体;">），默认为</span><span style="font-family: Consolas;">get</span><span style="font-family: 宋体;">。</span></p>
<p>&nbsp;data<span style="font-family: 宋体;">：要求为</span><span style="font-family: Consolas;">object</span><span style="font-family: 宋体;">或</span><span style="font-family: Consolas;">string</span><span style="font-family: 宋体;">类型的参数，发送到服务端的数据</span></p>
<p>&nbsp;success<span style="font-family: 宋体;">：请求成功的回调函数</span></p>
<p>&nbsp;dataType<span style="font-family: 宋体;">：服务器返回数据的类型，例如：</span><span style="font-family: Consolas;">xml</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">string</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">html</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">json</span><span style="font-family: 宋体;">等</span></p>
<p>&nbsp;error<span style="font-family: 宋体;">：请求失败后的回调函数</span></p>
<p>&nbsp;complete<span style="font-family: 宋体;">：请求成功或失败的都会执行的回调函数</span></p>
<hr />
<h1>五、<strong><span style="font-family: 宋体;">原生</span>JavaScript<span style="font-family: 宋体;">的</span><span style="font-family: Consolas;">Ajax</span></strong></h1>
<h2><strong>5.1<span style="font-family: 宋体;">原生</span><span style="font-family: 华文中宋;">Ajax</span><span style="font-family: 宋体;">发起</span><span style="font-family: 华文中宋;">HTTP</span><span style="font-family: 宋体;">请求</span></strong></h2>
<p>XMLHttpRequest()<span style="font-family: 宋体;">对象手册：</span></p>
<p><a href="http://www.w3school.com.cn/xmldom/dom_http.asp"><span style="text-decoration: underline;">http://www.w3school.com.cn/xmldom/dom_http.asp</span></a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest"><span style="text-decoration: underline;">https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest</span></a></p>
<p><span style="font-family: 宋体;">概述：原生</span>Ajax<span style="font-family: 宋体;">要使用</span><span style="font-family: Consolas;">JavaScript</span><span style="font-family: 宋体;">的内置构造函数。</span></p>
<p><span style="font-family: 宋体;">所有现代浏览器（</span>IE7+<span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">Firefox</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">Chrome</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">Safari</span><span style="font-family: 宋体;">、</span><span style="font-family: Consolas;">Opera</span><span style="font-family: 宋体;">）都支持</span><span style="font-family: Consolas;">XMLHttpRequest()</span><span style="font-family: 宋体;">对象。</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span> XMLHttpRequest();</pre>
</div>
<p><span style="font-family: 宋体;">字面上意思：即</span>&ldquo;<span style="font-family: Consolas;">XML</span><span style="font-family: 宋体;">&rdquo;通过</span><span style="font-family: Consolas;">HTTP</span><span style="font-family: 宋体;">发送请求，这个函数的实例有能力发送异步的</span><span style="font-family: Consolas;">HTTP</span><span style="font-family: 宋体;">请求。</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">老版本的</span>IE5<span style="font-family: 宋体;">和</span><span style="font-family: Consolas;">IE6</span><span style="font-family: 宋体;">不支持</span><span style="font-family: Consolas;">XMLHttpRequest()</span><span style="font-family: 宋体;">，要使用 </span><span style="font-family: Consolas;">ActiveXObject()</span><span style="font-family: 宋体;">对象：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> xhr = ActiveXObject("msxml2.0.XMLHTTP");</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> h1 = document.getElementsByTagName('h1')[0<span style="color: #000000;">];
</span><span style="color: #0000ff;">var</span> btn = document.getElementsByTagName('button')[0<span style="color: #000000;">];
btn.onclick </span>= <span style="color: #0000ff;">function</span><span style="color: #000000;">(){
   </span><span style="color: #008000;">//</span><span style="color: #008000;">进行能力检测，初始化xhr对象</span>
   <span style="color: #0000ff;">if</span><span style="color: #000000;">(window.XMLHttpRequest){
       </span><span style="color: #008000;">//</span><span style="color: #008000;">高级浏览器版本的写法</span>
       <span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> XMLHttpRequest();
   }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
       </span><span style="color: #008000;">//</span><span style="color: #008000;">低版本IE兼容写法</span>
       <span style="color: #0000ff;">var</span> xhr = ActiveXObject("msxml2.0.XMLHTTP"<span style="color: #000000;">);
   }
   </span><span style="color: #008000;">//</span><span style="color: #008000;">参数1：请求方式</span>
   <span style="color: #008000;">//</span><span style="color: #008000;">参数2：请求地址</span>
   <span style="color: #008000;">//</span><span style="color: #008000;">参数3：是否异步，true异步，false同步</span>
   <span style="color: #008000;">//</span><span style="color: #008000;">但是，请求没有真正的发送，仅仅只是配置了打开的发送&ldquo;窗口&rdquo;。</span>
   xhr.open("get", "data/result.txt", <span style="color: #0000ff;">true</span><span style="color: #000000;">);
   </span><span style="color: #008000;">//</span><span style="color: #008000;">因为原生Ajax不是jQuery，jQuery中ajax有回调函数能获取数据，但原生没有回调函数</span>
   <span style="color: #008000;">//</span><span style="color: #008000;">只能监听事件（监听服务端返回的数据）</span>
   xhr.onreadystatechange = <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
       console.log(xhr)
       </span><span style="color: #008000;">//</span><span style="color: #008000;">判断就绪状态(0~4)是否等于4，如果是HTTP响应以及完全接收</span>
       <span style="color: #0000ff;">if</span>(xhr.readyState == 4 &amp;&amp; xhr.status == 200 ||  xhr.status == 304<span style="color: #000000;">){
           h1.innerHTML </span>= xhr.responseText; <span style="color: #008000;">//</span><span style="color: #008000;">接收服务端返回的数据</span>
<span style="color: #000000;">       }
   }
   </span><span style="color: #008000;">//</span><span style="color: #008000;">最后发送请求</span>
   xhr.send(<span style="color: #0000ff;">null</span>); <span style="color: #008000;">//</span><span style="color: #008000;">报文体：get请求伪装url地址报文体为空，如果是post请求就需要传参数</span>
}</pre>
</div>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="347">
<p>属性</p>
</td>
<td valign="top" width="347">
<p><span style="color: #ff0000;">readyState(<span style="font-family: 宋体;">就绪状态</span><span style="font-family: Consolas;">) </span></span></p>
<p>status(<span style="font-family: 宋体;">状态码</span><span style="font-family: Consolas;">)</span></p>
<p>responseText<span style="font-family: 宋体;">（数据）</span></p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>方法</p>
</td>
<td valign="top" width="347">
<p>open(method,url,asyn) &nbsp;</p>
<p>send()</p>
</td>
</tr>
<tr>
<td valign="top" width="347">
<p>监听事件</p>
</td>
<td valign="top" width="347">
<p>onreadystatechange</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>配置发送请求：</p>
<div class="cnblogs_code">
<pre><code>xhr.open("get","data/result.txt", <span style="color: #0000ff;">true</span>);</pre>
</div>
<p><span style="font-family: 宋体;">参数</span>1<span style="font-family: 宋体;">：请求方式</span></p>
<p><span style="font-family: 宋体;">参数</span>2<span style="font-family: 宋体;">：访问数据的接口地址</span></p>
<p><span style="font-family: 宋体;">参数</span>3<span style="font-family: 宋体;">：是否异步，</span><span style="font-family: Consolas;">true</span><span style="font-family: 宋体;">异步，</span><span style="font-family: Consolas;">false</span><span style="font-family: 宋体;">同步</span></p>
<p><span style="font-family: 宋体;">但是，请求没有真正的发送，仅仅只是配置了打开的发送</span>&ldquo;窗口&rdquo;。</p>
<p><span style="font-family: 宋体;">此时</span>xhr.send()<span style="font-family: 宋体;">方法发出请求，</span><span style="font-family: Consolas;">send</span><span style="font-family: 宋体;">的参数是请求的报文体，</span><span style="font-family: Consolas;">get</span><span style="font-family: 宋体;">请求不需要报文体，所以就是空。</span></p>
<p>post<span style="font-family: 宋体;">请求中有参数就在</span><span style="font-family: Consolas;">send()</span><span style="font-family: 宋体;">中传递。</span></p>
<p>&nbsp;</p>
<p>JS<span style="font-family: 宋体;">原生</span><span style="font-family: Consolas;">Ajax</span><span style="font-family: 宋体;">没有提供回调函数，表示服务器的数据回来没有，此时需要一个监听事件，是就绪状态改变事件：</span></p>
<p><span style="font-family: 宋体;">当就绪状态发生变化时触发，</span>onreadystatechange<span style="font-family: 宋体;">事件：</span></p>
<div class="cnblogs_code">
<pre><code>xhr.onreadystatechange = <span style="color: #0000ff;">function</span><span style="color: #000000;">(){
      console.log(xhr.readyState)
}</span></pre>
</div>
<p>&nbsp;</p>
<p>就绪状态的变化：</p>
<p>0<span style="font-family: 宋体;">：请求未初始化（还没调用</span><span style="font-family: Consolas;">opend()</span><span style="font-family: 宋体;">方法）</span></p>
<p>1<span style="font-family: 宋体;">：请求参数已经准备，尚未发送请求（调用</span><span style="font-family: Consolas;">open</span><span style="font-family: 宋体;">，还没调用</span><span style="font-family: Consolas;">send</span><span style="font-family: 宋体;">）</span></p>
<p>2<span style="font-family: 宋体;">：请求已发送，尚未接收响应，正在处理中（调用</span><span style="font-family: Consolas;">open</span><span style="font-family: 宋体;">，和</span><span style="font-family: Consolas;">send</span><span style="font-family: 宋体;">方法，通常现在可以从响应获取报文头）</span></p>
<p>3<span style="font-family: 宋体;">：正在解析响应内容，数据已经回来一部分（不是完整的）现在可以从响应中获取报文头和一部分报文体</span></p>
<p>4<span style="font-family: 宋体;">：响应内容解析</span><span style="color: #ff0000;"><strong>完成</strong></span>，数据全部回来了，可以在客户端使用了</p>
<hr />
<h2>&nbsp;</h2>
<h2><strong>5.2<span style="font-family: 宋体;">处理原生</span><span style="font-family: 华文中宋;">Ajax</span><span style="font-family: 宋体;">兼容方法</span></strong></h2>
<p class="15">处理兼容有两种方法：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">处理兼容有两种方法：
</span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ...else判断
</span><span style="color: #0000ff;">try</span>...<span style="color: #0000ff;">catch</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">if</span><span style="color: #000000;">(window.XMLHttpRequest){
    </span><span style="color: #008000;">//</span><span style="color: #008000;">高级浏览器版本的写法</span>
    <span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> XMLHttpRequest();
}</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">低版本IE兼容写法</span>
    <span style="color: #0000ff;">var</span> xhr = ActiveXObject("msxml2.0.XMLHTTP"<span style="color: #000000;">);
}</span></pre>
</div>
<p><span style="font-family: 宋体;">当</span><span style="font-family: Consolas;">try</span><span style="font-family: 宋体;">里面</span>的代码没有错误就<span style="font-family: 宋体;">执行</span>try，try<span style="font-family: 宋体;">里面</span>有错误就<span style="font-family: 宋体;">执行</span>catch</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
    </span><span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> XMLHttpRequest();
}
</span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(err) {
    </span><span style="color: #0000ff;">var</span> xhr = ActiveXObject("msxml2.0.XMLHTTP"<span style="color: #000000;">);
}</span></pre>
</div>
<hr />
<h2><strong>5.3 </strong><strong>HTTP Status Code</strong></h2>
<p><span style="font-family: 宋体;">参考：</span></p>
<p><a href="http://blog.csdn.net/dufufd/article/details/53112184"><span style="text-decoration: underline;">http://blog.csdn.net/dufufd/article/details/53112184</span></a></p>
<p><a href="http://www.runoob.com/http/http-status-codes.html"><span style="text-decoration: underline;">http://www.runoob.com/http/http-status-codes.html</span></a></p>
<p><span style="text-decoration: underline;"><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax29.png" alt="" /></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">常见的状态码:
HTTP: Status </span>200<span style="color: #000000;"> &ndash; 服务器成功返回网页
HTTP: Status </span>304 -<span style="color: #000000;"> 所请求的资源未修改，服务器返回此状态码时，不会返回任何资源
HTTP: Status </span>404<span style="color: #000000;"> &ndash; 请求的网页不存在
HTTP: Status </span>503<span style="color: #000000;"> &ndash; 服务不可用
HTTP: Status 1xx (临时响应)</span>-&gt;<span style="color: #000000;">表示临时响应并需要请求者继续执行操作的状态代码。
HTTP Status 2xx (成功)</span>-&gt;<span style="color: #000000;">表示成功处理了请求的状态代码;
HTTP Status 4xx (请求错误)</span>-&gt;<span style="color: #000000;">这些状态代码表示请求可能出错，妨碍了服务器的处理。
HTTP Status 5xx （服务器错误）</span>-&gt;这些状态代码表示服务器在尝试处理请求时发生内部错误。这些错误可能是服务器本身的错误，而不是请求出错</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">if</span>(xhr.readyState == 4 &amp;&amp; xhr.status == 200 ||  xhr.status == 304<span style="color: #000000;">){

}</span></pre>
</div>
<hr />
<h2><strong>5.4 Ajax<span style="font-family: 宋体;">缓存问题</span></strong></h2>
<p>概述：浏览器是有缓存机制的，你会发现访问过一些网页，再次访问的时候会快很多，因为它有一些资源被缓存到本地，它会在本次查询，如果没有才会去服务器中请求信的数据。</p>
<p>如何防止缓存，此时可以通过每次访问的时候带一个不同的随机参数即可：</p>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax30.png" alt="" /></p>
<div class="cnblogs_code">
<pre><code>xhr.open("get","result/info.txt?time="+Math.random(),<span style="color: #0000ff;">true</span><span style="color: #000000;">);
xhr.open(</span>"get","result/info.txt?time="+(<span style="color: #0000ff;">new</span> Date()-0),<span style="color: #0000ff;">true</span>);</pre>
</div>
<hr />
<h2>&nbsp;</h2>
<h2><strong>5.5 URI<span style="font-family: 宋体;">方法</span></strong></h2>
<p>encodeURIComponent<span style="font-family: 宋体;">和</span><span style="font-family: Consolas;">decodeURIComponent</span><span style="font-family: 宋体;">都是浏览器内置的方法，兼容性很好。</span></p>
<p><span style="font-family: 宋体;">在电脑术语中，统一资源标识符（</span>Uniform Resource Identifier<span style="font-family: 宋体;">，或</span><span style="font-family: Consolas;">URI)</span><span style="font-family: 宋体;">是一个用于标识某一互联网资源名称的字符串。&nbsp;</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>http:<span style="color: #008000;">//</span><span style="color: #008000;">127.0.0.1/09-Ajax%E9%98%B2%E6%AD%A2%E7%BC%93%E5%AD%98.html</span></pre>
</div>
<p>概述：虽然在地址栏中你看到了汉字，但是会发现，浏览器已经帮我们进行转码，所以赋值之后就看见以上结果了，虽然浏览器已经帮我们做了这件事，我还是要讲一下转码和解码的问题，因为浏览器的底层就是用这两个方法实现转码和解码的。</p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">将汉字转码为</span>URI<span style="font-family: 宋体;">：</span></p>
<div class="cnblogs_code">
<pre><code>encodeURIComponent("习大大")</pre>
</div>
<p>&nbsp;</p>
<p>将转码的汉字解码：</p>
<div class="cnblogs_code">
<pre><code>decodeURIComponent("%E4%B9%A0%E5%A4%A7%E5%A4%A7")</pre>
</div>
<p>在线工具：<span style="text-decoration: underline;"><a href="https://www.bejson.com/">https://www.bejson.com/</a></span></p>
<hr />
<p>&nbsp;</p>
<h2><strong>5.6<span style="font-family: 宋体;">原生</span><span style="font-family: 华文中宋;">Ajax</span><span style="font-family: 宋体;">的</span><span style="font-family: 华文中宋;">POST</span><span style="font-family: 宋体;">请求</span><span style="font-family: 华文中宋;">-</span><span style="font-family: 宋体;">注册功能</span></strong></h2>
<p><span style="font-family: 宋体;">表单数据编码格式有一个正式的</span>MIME<span style="font-family: 宋体;">类型：</span><span style="font-family: Consolas;">application/x-www-form-urlencoded</span></p>
<p><span style="font-family: 宋体;">当使用</span>post<span style="font-family: 宋体;">请求提交这种顺序表单时，必须设置</span><span style="font-family: Consolas;">Content-type</span><span style="font-family: 宋体;">请求头为这个值模仿表单数据的提交。</span></p>
<div class="cnblogs_code">
<pre><code>&lt;body&gt;
    &lt;p&gt;&lt;input type="text" id="user"&gt;&lt;b id="info"&gt;&lt;/b&gt;&lt;/p&gt;
    &lt;p&gt;&lt;input type="text" id="pwd"&gt;&lt;/p&gt;
    &lt;button id="btn"&gt;注册&lt;/button&gt;
&lt;/body&gt;
&lt;script type="text/javascript"&gt;
     <span style="color: #0000ff;">var</span> btn = document.getElementById('btn'<span style="color: #000000;">);
     </span><span style="color: #0000ff;">var</span> user = document.getElementById('user'<span style="color: #000000;">);
     </span><span style="color: #0000ff;">var</span> pwd = document.getElementById('pwd'<span style="color: #000000;">);

     </span><span style="color: #008000;">//</span><span style="color: #008000;">实时查询是否可以注册</span>
     user.oninput = <span style="color: #0000ff;">function</span><span style="color: #000000;">(){
        </span><span style="color: #008000;">//</span><span style="color: #008000;">进行能力检测，初始化xhr对象</span>
        <span style="color: #0000ff;">if</span><span style="color: #000000;">(window.XMLHttpRequest){
            </span><span style="color: #008000;">//</span><span style="color: #008000;">高级浏览器版本的写法</span>
            <span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> XMLHttpRequest();
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #008000;">//</span><span style="color: #008000;">低版本IE兼容写法</span>
            <span style="color: #0000ff;">var</span> xhr = ActiveXObject("msxml2.0.XMLHTTP"<span style="color: #000000;">);
        }

        <span style="color: #ff0000;">xhr.open(</span></span><span style="color: #ff0000;">"get", "php/search.php?name=" + user.value, true);

        </span><span style="color: #008000;">//</span><span style="color: #008000;">只能监听事件（监听服务端返回的数据）</span>
        xhr.onreadystatechange = <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
            </span><span style="color: #008000;">//</span><span style="color: #008000;">判断就绪状态(0~4)是否等于4，如果是HTTP响应以及完全接收</span>
            <span style="color: #0000ff;">if</span>(xhr.readyState == 4 &amp;&amp; xhr.status == 200 ||  xhr.status == 304<span style="color: #000000;">){
               </span><span style="color: #0000ff;">if</span>(xhr.responseText == 1<span style="color: #000000;">){
                    info.style.color </span>= "green"<span style="color: #000000;">;
                    info.innerHTML </span>= "恭喜你可以注册"<span style="color: #000000;">;
               }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
                    info.style.color </span>= "red"<span style="color: #000000;">;
                    info.innerHTML </span>= "用户名已被注册"<span style="color: #000000;">;
               }
            }
        }
        </span><span style="color: #008000;">//</span><span style="color: #008000;">最后发送请求</span>
        xhr.send(<span style="color: #0000ff;">null</span>); <span style="color: #008000;">//</span><span style="color: #008000;">报文体：get请求伪装url地址报文体为空，如果是post请求就需要传参数</span>
<span style="color: #000000;">     }


     </span><span style="color: #008000;">//</span><span style="color: #008000;">注册账号，保存数据库中</span>
     btn.onclick = <span style="color: #0000ff;">function</span><span style="color: #000000;">(){
        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(window.XMLHttpRequest){
            </span><span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> XMLHttpRequest();
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">var</span> xhr = ActiveXObject("msxml2.0.XMLHTTP"<span style="color: #000000;">);
        }

       <span style="color: #ff0000;"> xhr.open(</span></span><span style="color: #ff0000;">"post", "php/reg.php", true);
        xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")
        </span><span style="color: #008000;">//</span><span style="color: #008000;">监听服务端返回的数据</span>
        xhr.onreadystatechange = <span style="color: #0000ff;">function</span><span style="color: #000000;"> (){
            </span><span style="color: #0000ff;">if</span>(xhr.readyState == 4 &amp;&amp; xhr.status == 200 || xhr.status == 304<span style="color: #000000;">){
                </span><span style="color: #0000ff;">if</span>(xhr.responseText == 1<span style="color: #000000;">){
                    alert(</span>"注册成功"<span style="color: #000000;">);
                }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
                    alert(</span>"注册失败"<span style="color: #000000;">);
                }
            }
        }       
        </span><span style="color: #008000;">//</span><span style="color: #008000;">最后发送请求：get请求伪装url地址报文体为空，如果是post请求就需要传参数</span>
       <span style="color: #ff0000;"> xhr.send("name="+user.value +"&amp;password="+</span><span style="color: #000000;"><span style="color: #ff0000;">pwd.value);</span>
     }
</span>&lt;/script&gt;</pre>
</div>
<p>&nbsp;</p>
<p><img src="./images/前端笔记之服务器&amp;Ajax（中）MySQL基础操作&amp;PHP操作数据库&amp;Ajax31.png" alt="" /></p>
<hr />
<h2><strong>5.7<span style="font-family: 宋体;">封装</span><span style="font-family: 华文中宋;">QueryString</span><span style="font-family: 宋体;">函数</span></strong></h2>
<p><span style="font-family: 宋体;">因为原生的</span>Ajax<span style="font-family: 宋体;">发起请求需要拼接字符串，</span>所以<span style="font-family: 宋体;">为了方便原生</span>Ajax<span style="font-family: 宋体;">向服务器传数据</span>，<span style="font-family: 宋体;">封装</span>QueryString<span style="font-family: 宋体;">函数</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">JSON形式的数据：</span>
<span style="color: #0000ff;">var</span> obj =<span style="color: #000000;"> {
   name: </span>"哈哈"<span style="color: #000000;">,
   password:</span>456<span style="color: #000000;">
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">需要通过下面的方法拼接成get参数字符串：</span>
<span style="color: #0000ff;">function</span><span style="color: #000000;"> queryString(data){
   </span><span style="color: #0000ff;">var</span> arr = []; <span style="color: #008000;">//</span><span style="color: #008000;">用数组存储k=v</span>
   <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> k <span style="color: #0000ff;">in</span><span style="color: #000000;"> data){
       arr.push(k </span>+ "=" + data[k]); <span style="color: #008000;">//</span><span style="color: #008000;">循环遍历存储到数组中</span>
       <span style="color: #008000;">//</span><span style="color: #008000;"> arr.push(k + "=" + encodeURIComponent(obj[k]));</span>
<span style="color: #000000;">   }
   </span><span style="color: #0000ff;">return</span> arr.join("&amp;"); <span style="color: #008000;">//</span><span style="color: #008000;">用&amp;符号分割字符串</span>
<span style="color: #000000;">}
console.log(queryString(obj))</span></pre>
</div>
<p><span style="font-family: 宋体;">封装好方法后，可以在</span>get<span style="font-family: 宋体;">和</span>post<span style="font-family: 宋体;">请求中</span>直接使用JSON<span style="font-family: 宋体;">传</span>参数：</p>
<p>GET<span style="font-family: 宋体;">使用方式：</span></p>
<div class="cnblogs_code">
<pre><code>xhr.open("get", "php/search.php?" +<span style="color: #ff0000;"> queryString({name:user.value})</span>, <span style="color: #0000ff;">true</span>);</pre>
</div>
<p>&nbsp;</p>
<p>POST<span style="font-family: 宋体;">使用方式：</span></p>
<div class="cnblogs_code">
<pre><code>xhr.send(<span style="color: #ff0000;">queryString({name:user.value, password:pwd.value})</span>);</pre>
</div>
<p>注意：</p>
<p>&nbsp;<span style="font-family: 宋体;">原生</span>POST<span style="font-family: 宋体;">请求，向服务器传递数据，不能在地址的后面拼接字符串；</span></p>
<p>&nbsp;<span style="font-family: 宋体;">需要在</span>send()<span style="font-family: 宋体;">传递数据，因为</span><span style="font-family: Consolas;">send</span><span style="font-family: 宋体;">方法相当于是报文体</span></p>
<p>&nbsp;POST<span style="font-family: 宋体;">要设置请求头</span><span style="font-family: Consolas;">setRequestHeader('content-type','application/x-www-form-urlencoded')</span></p>
<p>&nbsp;<span style="color: #ff0000;"><span style="font-family: 宋体;">请求头的设置只能在</span>open<span style="font-family: 宋体;">函数与</span><span style="font-family: Consolas;">send</span><span style="font-family: 宋体;">函数之间</span></span><span style="font-family: Consolas;">,</span>其余的地方不可以，会报错；</p>
<p><span style="color: #ff0000;"><span style="font-family: 宋体;">原生</span>Ajax<span style="font-family: 宋体;">在开发中不会使用，但是面试的时候经常会问到就绪状态（</span><span style="font-family: Consolas;">0-4</span><span style="font-family: 宋体;">）</span></span></p>
<hr />
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>