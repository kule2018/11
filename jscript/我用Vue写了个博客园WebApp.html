<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修我用Vue写了个博客园WebApp' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>我用Vue写了个博客园WebApp</center></div><div class='banquan'>原文出处:本文由博客园博主HANS许提供。<br/>
原文连接:https://www.cnblogs.com/xuhuale/p/10924576.html</div><br>
    <div style="color: #2f2f2f; font-family: 'Helvetica Neue' , Helvetica , Tahoma , Arial , 'Hiragino Sans GB' , STHeiti , 'Microsoft YaHei' , '微软雅黑' , 'WenQuanYi Micro Hei' , STXihei , '华文细黑' , Heiti , '黑体' , SimSun , '宋体' , Song , sans-serif; font-size: 16px; line-height: 1.33; font-weight: 100; word-wrap: break-word; letter-spacing: 0; word-spacing: .25em;">
<div class="preview html_preview xsj_public">
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">最近我们公司用vue搞事情，我们就用了Node和Vue写了个博客园的移动端WebApp，想拿出来与大家分享下，也谈谈我遇到的坑。由于时间问题，目前还剩&ldquo;闪存&rdquo;，&ldquo;博问&rdquo;这两块还没做完。先分享下截图吧。</p>
<center class="half"><img style="vertical-align: middle; height: auto; max-width: 100%; border: 0;" src="./images/我用Vue写了个博客园WebApp0.png" alt="" width="180" /> <img style="vertical-align: middle; height: auto; max-width: 100%; border: 0;" src="./images/我用Vue写了个博客园WebApp1.png" alt="" width="180" /> <img style="vertical-align: middle; height: auto; max-width: 100%; border: 0;" src="./images/我用Vue写了个博客园WebApp2.png" alt="" width="180" /> <img style="vertical-align: middle; height: auto; max-width: 100%; border: 0;" src="./images/我用Vue写了个博客园WebApp3.png" alt="" width="180" /></center><br /><br />
<blockquote style="padding-top: 15px; padding-right: 20px; padding-bottom: 15px; padding-left: 20px; margin-top: 0; margin-right: 0; margin-bottom: 20px; margin-left: 0; border-left: 10px solid rgba(153 , 153 , 153 , .3); background: rgba(204 , 204 , 204 , .4);">
<p class="xsj_paragraph xsj_paragraph_level_1" style="line-height: 25px; font-size: 16px; font-weight: 300; margin: 0;">我呢，就从技术，部署，以及遇到的坑来讲吧，当然啦,首先要感谢博客园官方提供接口，以及客服人员对于我的&ldquo;邮箱轰炸&rdquo;，还回复我的问题。致以大大的感谢。</p>







</blockquote>
<div class="xiaoshujiang_element xsj_anchor">
  <a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="e8afb4e8afb4e68891e4bdbfe794a8e79a84e68a80e69cafe590a7_1" target="_blank"></a><a id="e8afb4e8afb4e68891e4bdbfe794a8e79a84e68a80e69cafe590a7_1" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a><a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="说说我使用的技术吧" target="_blank"></a><a id="说说我使用的技术吧" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a>
</div>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" style="margin-top: 1em; margin-right: 0; margin-bottom: .6em; margin-left: 0; font-family: inherit; font-weight: 500; line-height: 2.35rem; color: inherit; text-rendering: optimizelegibility; font-size: 1.9rem;"><span class="xsj_heading_content">说说我使用的技术吧</span></h5>
<ul style="margin-top: 0; margin-right: 0; margin-bottom: 10px; margin-left: 35px; padding: 0;">
<li>开发工具：vs code</li>
<li>前端：vue，vue-cli3.0 vant(ui框架)，webpack，less</li>
<li>后端：博客园官方api</li>
<li>部署：nginx，云服务器</li>







</ul>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">技术就是这么简单，开发工具就不讲了，前端采用脚手架构建而成，就不用自己累死累活去配置，这个时代真好。然后再使用vant的UI框架构建样式界面，webpack打包嘛，less专注样式咯，后端就完全是博客园的api了，拿来即用，不过接口要申请下权限。前后端的请求，我采用的是&ldquo;axios&rdquo;,使用它的拦截器做了不少事。然后部署的话，我呢，就生成静态了，然后用nginx部署在阿里云服务器上了。</p>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">技术想讲的就这些，vue是基础，若是vue不懂，可以去我之前的文章看看，不过呢，我更建议去官方文档上去学习，其他的也是，我只是比较喜欢写写文章。由这些技术，我就构建了一个webapp。</p>
<div class="xiaoshujiang_element xsj_anchor">
  <a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="e68891e98187e588b0e79a84e5a4a7e59d91_2" target="_blank"></a><a id="e68891e98187e588b0e79a84e5a4a7e59d91_2" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a><a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="我遇到的大坑" target="_blank"></a><a id="我遇到的大坑" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a>
</div>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" style="margin-top: 1em; margin-right: 0; margin-bottom: .6em; margin-left: 0; font-family: inherit; font-weight: 500; line-height: 2.35rem; color: inherit; text-rendering: optimizelegibility; font-size: 1.9rem;"><span class="xsj_heading_content">我遇到的大坑</span></h5>
<ol style="margin-top: 0; margin-right: 0; margin-bottom: 10px; margin-left: 35px; padding: 0;">
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">token问题<br />
博客园的接口采用的是OAuth2的形式，所以授权玩会附带一个token给我们，那遇到的token是啥问题呢，我们都知道token是<br />
时效性的，所以一般来说拿到就要保存下来，保存没问题，可以保存到cookie来，但是你再次访问，怎么知道token过期呢，还有进行重新获取呢。</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">为啥说这个是大坑呢，因为以前都是jQuery的ajax，没有用过axios，不知道拦截器这种东西，我们使用拦截器，进行拦截"401"的转态码，因为它代表着未授权，拦截到后我们重新请求token，保存，并重新请求刚才的http。附上代码。</p>
<div class="xiaoshujiang_code_container" style="margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; position: relative; padding-bottom: 2em;">
<div class="xiaoshujiang_pre" style="word-wrap: break-word; tab-size: 4; white-space: pre-wrap; font-family: monospace; line-height: initial !important;">
<div class="language-javascript hljs code_linenums xiaoshujiang_code" style="overflow: visible !important; word-spacing: initial; border: 0; border-radius: 4px; font-size: 90%; position: relative; display: block; overflow-x: auto; background: #23241f; color: #f8f8f2; padding: 0.5em;"><ol class="ol_linenums" style="counter-reset: lines 0; margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 2em; overflow: visible !important; word-spacing: initial; border-left: 1px solid #e0e0e0; padding: 0;" start="1">
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">instance.interceptors.request.use(&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        <span class="hljs-function" style="overflow: visible !important; word-spacing: initial;"><span class="hljs-params" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">config</span> =&gt;</span> {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">let</span> token = <span class="hljs-built_in" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">window</span>.$cookies.get(_apiTokenKey) || <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span>;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            config.headers.Authorization = <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">`Bearer  <span class="hljs-subst" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">${token}</span>`</span>;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">return</span> config;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        },&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        error =&gt; {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">return</span> <span class="hljs-built_in" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">Promise</span>.reject(error);&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">);&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">instance.interceptors.response.use(&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        <span class="hljs-function" style="overflow: visible !important; word-spacing: initial;"><span class="hljs-params" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">response</span> =&gt;</span> {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">return</span> response.data;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        },&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        error =&gt; {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">let</span> response = error.response;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">let</span> config = error.config;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">if</span> (response.status === <span class="hljs-number" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">401</span>) {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                getApiToken().then(<span class="hljs-function" style="overflow: visible !important; word-spacing: initial;"><span class="hljs-params" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">res</span> =&gt;</span> {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                     config.baseURL = <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">''</span>;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                    instance(config)&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                }).catch(<span class="hljs-function" style="overflow: visible !important; word-spacing: initial;"><span class="hljs-params" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">res</span>=&gt;</span>{&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                    <span class="hljs-built_in" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">window</span>.$vm.$toast({&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                        <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">message</span>: error.message&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                    });&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                });&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            }<span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">else</span>{&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                <span class="hljs-built_in" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">window</span>.$vm.$toast({&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                    <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">message</span>: error.message&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                });&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">return</span> <span class="hljs-built_in" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">Promise</span>.reject(error);&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">);&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>






</ol></div>






</div>






</div>







</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">跨域问题</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">对于博客园的接口地址，我们属于不同域的情况，可能你用POSTMAN来进行接口调试的情况，可以正常获取到数据，但实际在项目内我们却会遇到跨域问题。这也是很多作为前后端分离项目，优先考虑的问题。在这分为开发环境以及线上环境，线上环境会在下面讲到，我们先讲下开发环境底下的跨域问题。</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">因为开发环境是在Node.js底下嘛，所以我采用的是webpack的跨域插件"http-proxy-middleware"来进行跨域的，因为vue-cli3.0，它集成在"vue.config.js"底下,配置如下：</p>
<div class="xiaoshujiang_code_container" style="margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; position: relative; padding-bottom: 2em;">
<div class="xiaoshujiang_pre" style="word-wrap: break-word; tab-size: 4; white-space: pre-wrap; font-family: monospace; line-height: initial !important;">
<div class="language-javascript hljs code_linenums xiaoshujiang_code" style="overflow: visible !important; word-spacing: initial; border: 0; border-radius: 4px; font-size: 90%; position: relative; display: block; overflow-x: auto; background: #23241f; color: #f8f8f2; padding: 0.5em;"><ol class="ol_linenums" style="counter-reset: lines 0; margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 2em; overflow: visible !important; word-spacing: initial; border-left: 1px solid #e0e0e0; padding: 0;" start="1">
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"> devServer: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">host</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"192.168.123.22"</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">port</span>: <span class="hljs-number" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">8080</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">proxy</span>: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"/credentials"</span>: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">target</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"https://api.cnblogs.com"</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">changeOrigin</span>: <span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">true</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">secure</span>: <span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">true</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">pathRewrite</span>: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"^/credentials"</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span> <span class="hljs-comment" style="overflow: visible !important; word-spacing: initial; color: #75715e;">//这里理解成用&lsquo;/api&rsquo;代替target里面的地址，后面组件中我们掉接口时直接用api代替 比如我要调用'http://40.00.100.100:3002/user/add'，直接写&lsquo;/api/user/add&rsquo;即可</span>&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        },&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"/api"</span>: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">target</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"https://api.cnblogs.com/api"</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">changeOrigin</span>: <span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">true</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">secure</span>: <span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">true</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">pathRewrite</span>: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"^/api"</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span> <span class="hljs-comment" style="overflow: visible !important; word-spacing: initial; color: #75715e;">//这里理解成用&lsquo;/api&rsquo;代替target里面的地址，后面组件中我们掉接口时直接用api代替 比如我要调用'http://40.00.100.100:3002/user/add'，直接写&lsquo;/api/user/add&rsquo;即可</span>&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        },&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"/oauth"</span>: {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">target</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"https://oauth.cnblogs.com"</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">changeOrigin</span>: <span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">true</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">secure</span>: <span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">false</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">pathRewrite</span>:{&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">                <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"^/oauth"</span>:<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span>&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">            }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">}&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>






</ol></div>






</div>






</div>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">具体作用嘛，大家看官方文档咯，<a class="xsj_link xsj_auto_link" style="color: #08c; text-decoration: none;" href="https://webpack.docschina.org/configuration/dev-server/#devserver-proxy" target="_blank">https://webpack.docschina.org/configuration/dev-server/#devserver-proxy</a></p>







</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">登录问题</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">接下来就是登录问题，刚才我们讲过了博客园是采用OAuth2的授权，这边博客园还分为两种。不涉及用户操作的授权采用的是"授权码模式"，而有关用户操作的授权采用的是"密码模式",两者区分大家可以看这篇<a class="xsj_link xsj_manu_link" style="color: #08c; text-decoration: none;" href="https://baijiahao.baidu.com/s?id=1620083471706505859&amp;wfr=spider&amp;for=pc" target="_blank">文章</a>。那意味着我们在WebApp管理两个token。管理两个token不是大坑，无非就是两个token嘛，大坑指的是我们获取用户操作的token是需要先用户进行登录操作，然后回调一个授权码的。我们来分析下。</p>
<ol style="margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 35px; padding: 0;">
<li>接口问题<br />
<span class="story_inline_image" style="display: inline-block;"><img style="vertical-align: bottom; height: auto; max-width: 100%; border: 0;" title="enter description here" src="./images/我用Vue写了个博客园WebApp4.png" alt="enter description here" name="" data-src="./images/我用Vue写了个博客园WebApp4.png" /></span></li>







</ol>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">从上图的接口描述我们可以得知，我们要先或许授权码code，但是code是有回调地址redirect_uri参数传过来的，这边是默认博客园的地址的，安卓或者ios的开发，可以根据webView的监听来获取，但是Web这边就存在跨域的问题了，我尝试了很多方式，有iframe等等，但是最根本的问题，页面在人家手上，你碰不着，这也就是大坑了，然后我就联系管理员，官方把回调地址改成我这边设置好的域名。真的很感谢管理员及其博客园的开发。</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">但在这之前，我就想着说，如果改不成，那就换成引导式的方法来引导用户进行自己讲授权码复制回来，然后粘贴到我们设置到的授权页面，也就有下图的界面，所以即使回调地址不是咱们这边的，也可以进行登录授权。可以点击"获取授权码"来跳转页面，获取授权码，然后回到这个页面登录。<br />
<span class="story_inline_image" style="display: inline-block;"><img style="vertical-align: bottom; height: auto; max-width: 100%; border: 0;" title="enter description here" src="./images/我用Vue写了个博客园WebApp5.png" alt="enter description here" name="" data-src="./images/我用Vue写了个博客园WebApp5.png" /></span></p>
<ol style="margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 35px; padding: 0;" start="2">
<li>vue路由问题<br />
一般来说，单页面开发使用的路由都是hash形式的路由，但是回调地址返回的参数是附带在#后面的，我们hash路由自带#，两者起冲突了，没办法，我们改成history形式的路由。</li>







</ol>
<div class="xiaoshujiang_code_container" style="margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; position: relative; padding-bottom: 2em;">
<div class="xiaoshujiang_pre" style="word-wrap: break-word; tab-size: 4; white-space: pre-wrap; font-family: monospace; line-height: initial !important;">
<div class="language-javascript hljs code_linenums xiaoshujiang_code" style="overflow: visible !important; word-spacing: initial; border: 0; border-radius: 4px; font-size: 90%; position: relative; display: block; overflow-x: auto; background: #23241f; color: #f8f8f2; padding: 0.5em;"><ol class="ol_linenums" style="counter-reset: lines 0; margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 2em; overflow: visible !important; word-spacing: initial; border-left: 1px solid #e0e0e0; padding: 0;" start="1">
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"> <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">let</span> routers = <span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">new</span> Router({&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"> <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">mode</span>: <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">'history'</span>,&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"> <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">routes</span>: config&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"> });&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>






</ol></div>






</div>






</div>







</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">图片防盗链<br />
最后剩下一个坑，也就是图片防盗链吧，正常博客园的博问内容有些地址是image.cnblogs的地址，所以我们附在了我们自己的域名底下就会出现防盗链的结果，那如何处理防盗链呢，这边有2种做法，第一种是在head加上<code>&lt;meta name="referrer" content="no-referrer"&gt;</code>来标识，第一种是使用vue的过滤器，然后用第三方代理去请求图片。这样子就可以了，不过代理的地址是cdn，所以可能找不到图片。</p>
<div class="xiaoshujiang_code_container" style="margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; position: relative; padding-bottom: 2em;">
<div class="xiaoshujiang_pre" style="word-wrap: break-word; tab-size: 4; white-space: pre-wrap; font-family: monospace; line-height: initial !important;">
<div class="language-javascript hljs code_linenums xiaoshujiang_code" style="overflow: visible !important; word-spacing: initial; border: 0; border-radius: 4px; font-size: 90%; position: relative; display: block; overflow-x: auto; background: #23241f; color: #f8f8f2; padding: 0.5em;"><ol class="ol_linenums" style="counter-reset: lines 0; margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 2em; overflow: visible !important; word-spacing: initial; border-left: 1px solid #e0e0e0; padding: 0;" start="1">
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"><span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">const</span> imgConvert = <span class="hljs-function" style="overflow: visible !important; word-spacing: initial;"><span class="hljs-params" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">url</span> =&gt;</span> {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"><span class="hljs-comment" style="overflow: visible !important; word-spacing: initial; color: #75715e;">//没有在nginx做反向代理，直接用别人的反向代理访问,</span>&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"><span class="hljs-comment" style="overflow: visible !important; word-spacing: initial; color: #75715e;">//该地址是cdn缓存图片存在，可能找不到图片</span>&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"><span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">if</span>(url==<span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">undefined</span>||url==<span class="hljs-literal" style="overflow: visible !important; word-spacing: initial; color: #ae81ff;">null</span>){&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    url=<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span>;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">}&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">url = url&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    .replace(<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"http://"</span>, <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span>)&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    .replace(<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"https://"</span>, <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span>)&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">    .replace(<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"https:"</span>, <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">""</span>);&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"><span class="hljs-keyword" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">return</span> <span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">`https://images.weserv.nl/?url=<span class="hljs-subst" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">${url}</span>`</span>;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">};&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>






</ol></div>






</div>






</div>
<div class="xiaoshujiang_code_container" style="margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; position: relative; padding-bottom: 2em;">
<div class="xiaoshujiang_pre" style="word-wrap: break-word; tab-size: 4; white-space: pre-wrap; font-family: monospace; line-height: initial !important;">
<div class="language-html hljs xml code_linenums xiaoshujiang_code" style="overflow: visible !important; word-spacing: initial; border: 0; border-radius: 4px; font-size: 90%; position: relative; display: block; overflow-x: auto; background: #23241f; color: #f8f8f2; padding: 0.5em;"><ol class="ol_linenums" style="counter-reset: lines 0; margin-bottom: 0; margin-top: 0; margin-right: 0; margin-left: 2em; overflow: visible !important; word-spacing: initial; border-left: 1px solid #e0e0e0; padding: 0;" start="1">
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;"><span class="hljs-tag" style="overflow: visible !important; word-spacing: initial; color: #f8f8f2;">&lt;<span class="hljs-name" style="overflow: visible !important; word-spacing: initial; font-weight: bold; color: #f92672;">img</span> <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">class</span>=<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"blog-item_faceImg"</span> <span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">:src</span>=<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"item.Avatar | imgConvert"</span> @<span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">error</span>=<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"errorFace"</span> @<span class="hljs-attr" style="overflow: visible !important; word-spacing: initial; color: #f92672;">click</span>=<span class="hljs-string" style="overflow: visible !important; word-spacing: initial; color: #e6db74;">"gotoZone"</span>&gt;</span>&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>






</ol></div>






</div>






</div>







</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">总结下吧<br />
整体来说，整个项目挺好做的，思路也很清晰，唯一就是跨域问题比较有点，但最终也是解决了。还不错吧。</p>







</li>







</ol>
<div class="xiaoshujiang_element xsj_anchor">
  <a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="e6808ee4b988e58ebbe983a8e7bdb2e591a2_3" target="_blank"></a><a id="e6808ee4b988e58ebbe983a8e7bdb2e591a2_3" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a><a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="怎么去部署呢" target="_blank"></a><a id="怎么去部署呢" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a>
</div>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" style="margin-top: 1em; margin-right: 0; margin-bottom: .6em; margin-left: 0; font-family: inherit; font-weight: 500; line-height: 2.35rem; color: inherit; text-rendering: optimizelegibility; font-size: 1.9rem;"><span class="xsj_heading_content">怎么去部署呢</span></h5>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">在前面说到，我部署是使用云服务器+nginx，至于怎么安装nginx不懂可以私信我，或者百度嘛，我这边分享下我nginx的配置节点就可以了。当然如果还想要部署在外网环境，可以的话云服务器来一台，或者做个内网穿透，frp，ngrok之类的就可以，废话不多说，附上节点代码：</p>
<div class="xiaoshujiang_code_container" style="margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; position: relative; padding-bottom: 2em;">
<div class="xiaoshujiang_pre" style="word-wrap: break-word; tab-size: 4; white-space: pre-wrap; font-family: monospace; line-height: initial !important;">
<div class="nohighlight hljs code_linenums xiaoshujiang_code" style="overflow: visible !important; word-spacing: initial; border: 0; border-radius: 4px; font-size: 90%; position: relative; display: block; overflow-x: auto; background: #23241f; color: #f8f8f2; padding: 0.5em;"><ol class="ol_linenums" style="counter-reset: lines 0; margin-top: 0; margin-right: 0; margin-bottom: 0; margin-left: 2em; overflow: visible !important; word-spacing: initial; border-left: 1px solid #e0e0e0; padding: 0;" start="1">
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">server{&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     listen  80;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     server_name cnblog.xuhuale.cn;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     root /ftpfiles/cnblog/dist;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     index index.html index.htm index.php;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     location / {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        try_files $uri $uri/ @router;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        index index.html;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        # error_page 405 =200 http://$host$request_uri;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     location @router{&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        rewrite ^.*$ /index.html last;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        }	&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     location /api {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        error_log logs/rewrite.log notice;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        # rewrite ^/api/(.*) /$1 break;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">	proxy_pass https://api.cnblogs.com;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">	 }  &nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">     location /credentials {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        error_log logs/rewrite.log notice;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        rewrite ^/credentials/(.*) /$1 break;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        proxy_pass https://api.cnblogs.com;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">	}    &nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">      location /oauth {&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        error_log logs/rewrite.log notice;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        rewrite ^/oauth/(.*) /$1 break;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        proxy_pass https://oauth.cnblogs.com;&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">        }&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>
<li class="li_linenum  li_list_style" style="overflow: visible !important; word-spacing: initial; position: relative; padding-left: .5em; list-style: inherit; counter-increment: lines 1; margin-left: 5px;">	}&nbsp;<hr class="code_line_break_hack" style="border: 0; border-top: 0; border-bottom: 0; overflow: visible !important; word-spacing: initial; display: none; visibility: collapse !important; height: 0 !important; margin: 0;" /></li>






</ol></div>






</div>






</div>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">我们可以看到配置节点有"proxy_pass"这个就是nginx做的反向代理了，可以解决掉跨域问题。</p>
<div class="xiaoshujiang_element xsj_anchor">
  <a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="e680bbe7bb93e4b88be590a7_4" target="_blank"></a><a id="e680bbe7bb93e4b88be590a7_4" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a><a class="blank_anchor_name" style="color: #08c; text-decoration: none;" name="总结下吧" target="_blank"></a><a id="总结下吧" class="blank_anchor_id" style="color: #08c; text-decoration: none; float: right; width: 1px; visibility: hidden;" target="_blank"></a>
</div>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" style="margin-top: 1em; margin-right: 0; margin-bottom: .6em; margin-left: 0; font-family: inherit; font-weight: 500; line-height: 2.35rem; color: inherit; text-rendering: optimizelegibility; font-size: 1.9rem;"><span class="xsj_heading_content">总结下吧</span></h5>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">我平时喜欢逛逛博客园的文章，但是移动端直接访问网页没有适配，手机端还是需要下载软件，所以我就想着做个webapp版的，想要嵌入Android，ios也可以，挂在公众号也可以，直接访问也可以，爱咋咋地。然后发现了api，又最近在练手vue，所以就做了一个出来，但是内容还没完善，后面可以会完善起来，大家要是有在移动端设备看博客的习惯，可以收藏网址一波，或者大家进去捧捧场咯。最后附上源码地址，网站地址，还有网站二维码，以便手机扫嘛。</p>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">1.源码地址：<a class="xsj_link xsj_auto_link" style="color: #08c; text-decoration: none;" href="https://github.com/xhl592576605/cnblog_vue" target="_blank">https://github.com/xhl592576605/cnblog_vue</a><br />
2.网站地址：<a class="xsj_link xsj_auto_link" style="color: #08c; text-decoration: none;" href="http://cnblog.xuhuale.cn" target="_blank">http://cnblog.xuhuale.cn</a>(建议使用移动端的模式访问，观感更加)<br />
3.二维码:</p>
<p class="xsj_paragraph xsj_paragraph_level_0" style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">&nbsp;</p>
<div class="story_image_container story_block_image" style="text-align: center;">
<div class="story_image" style="display: inline-block; position: relative; max-width: 100%;"><img style="vertical-align: middle; height: auto; max-width: 100%; border: 0; border-radius: .3125em; box-shadow: 0 2px 4px 0 rgba(34 , 36 , 38 , .12) , 0 2px 10px 0 rgba(34 , 36 , 38 , .08);" title="HANS许博客园" src="./images/我用Vue写了个博客园WebApp6.png" alt="HANS许博客园" name="" data-src="./images/我用Vue写了个博客园WebApp6.png" /><br />
<div class="story_image_caption " style="border-bottom: 1px solid #d9d9d9; display: inline-block; color: #999; padding: 10px;">HANS许博客园</div>






</div>






</div>
<p style="line-height: 1.6; margin-top: 0; margin-right: 0; margin-bottom: 1.1em; margin-left: 0;">&nbsp;</p>







</div>







</div>
<p><audio controls="controls" style="display: none;"></audio></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>