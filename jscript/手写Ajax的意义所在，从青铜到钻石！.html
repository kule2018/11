<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修手写Ajax的意义所在，从青铜到钻石！' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>手写Ajax的意义所在，从青铜到钻石！</center></div><div class='banquan'>原文出处:本文由博客园博主钢之炼金术师提供。<br/>
原文连接:https://www.cnblogs.com/lishixiang-007/p/11274777.html</div><br>
    <p>话说菩提祖师打了孙猴子三板子&nbsp;&nbsp;<span style="font-family: 宋体;">然后悟空学会</span>72<span style="font-family: 宋体;">般变化以及一身神通 对待这个问题作为面试者要思考更加深层次的意义 才更能获得认可</span></p>
<p><span style="font-family: 宋体;"><img src="./images/手写Ajax的意义所在，从青铜到钻石！0.png" alt="" /></span></p>
<p>&nbsp;</p>
<p>实际上写的ajax <span style="font-family: 宋体;">很能看出一个的水平 贴几段代码就可以看出水平的高低</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">代码</span>1:<span style="font-family: 宋体;">青铜水平</span></p>
<p>var req = new XMLHttpRequest();<br />req.open("get", "mockData/usersinfo.json", true);<br />req.send();<br />req.onreadystatechange = function () {<br />&nbsp;&nbsp;&nbsp;&nbsp;if (req.readyState == 4 &amp;&amp; req.status == 200) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var result= req.responseText;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</p>
<p><span style="font-family: 宋体;">特别普通的一段原生</span>ajax &nbsp;<span style="font-family: 宋体;">功能也是特别的简单的功能 获取一个模拟的数据 这段代码能反应啥 &nbsp;&nbsp;你可以写出来 &nbsp;也能记住对吧</span></p>
<p>&nbsp;</p>
<p class="pre"><span style="font-family: 宋体;">代码</span>2:白银水平</p>
<p class="pre">&nbsp;function ajax(type, url, success) {<br />&nbsp;&nbsp;&nbsp;&nbsp;var req = new XMLHttpRequest();<br />&nbsp;&nbsp;&nbsp;&nbsp;req.open(type, url, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;req.send();<br />&nbsp;&nbsp;&nbsp;&nbsp;req.onreadystatechange = function () {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (req.readyState == 4 &amp;&amp; req.status == 200) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var result = req.responseText;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success(result);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</p>
<p class="pre">ajax("get", "http://localhost:8055/listcount.php?search=a", function (result) {<br />&nbsp;&nbsp;&nbsp;&nbsp;alert(result);<br />});</p>
<p class="pre"><span style="font-family: 宋体;">上面的代码</span> &nbsp;<span style="font-family: 宋体;">跟代码</span>1<span style="font-family: 宋体;">的功能可以说是一样 &nbsp;但是代码的复用性 就变得完全不一样</span></p>
<p class="pre">是真的</p>
<p class="pre"><img src="./images/手写Ajax的意义所在，从青铜到钻石！1.png" alt="" /></p>
<p class="pre"><span style="font-family: 宋体;">因为可以哪里调用就哪里调用</span></p>
<p class="pre">&nbsp;</p>
<p class="pre"><span style="font-family: 宋体;">代码</span>3:黄金水平</p>
<p>function ajax(json) {<br />&nbsp;&nbsp;&nbsp;&nbsp;var req = new XMLHttpRequest();<br />&nbsp;&nbsp;&nbsp;&nbsp;var type = json["type"];<br />&nbsp;&nbsp;&nbsp;&nbsp;var url = json["url"];<br />&nbsp;&nbsp;&nbsp;&nbsp;if (json["data"]) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var html = "?";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (var i in json["data"]) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html += i + "=" + json["data"][i] + "&amp;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html = html.substring(0, html.length - 1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url += html;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;var success = json["success"];<br />&nbsp;&nbsp;&nbsp;&nbsp;req.open(type, url, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;req.send();<br />&nbsp;&nbsp;&nbsp;&nbsp;req.onreadystatechange = function () {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (req.readyState == 4 &amp;&amp; req.status == 200) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var result = req.responseText;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (json["dataType"] == "json") {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = JSON.parse(result);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success(result);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br />ajax({<br />&nbsp;&nbsp;&nbsp;&nbsp;type: "get",<br />&nbsp;&nbsp;&nbsp;&nbsp;url: "http://localhost:8055/listcount.php",<br />&nbsp;&nbsp;&nbsp;&nbsp;data: {search: "l"},<br />&nbsp;&nbsp;&nbsp;&nbsp;dataType: "json",<br />&nbsp;&nbsp;&nbsp;&nbsp;success: function (result) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(result["count"]);</p>
<p class="pre">&nbsp;}<br />});</p>
<p class="pre"><span style="font-family: 宋体;">以上代码功能也是一样</span> <span style="font-family: 宋体;">但是感觉更好了</span> <span style="font-family: 宋体;">是不是有一点所谓</span>jq中使用ajax的感觉了 此刻可以啦啦啦的 跳个舞了 千万不要满足</p>
<p class="pre"><img src="./images/手写Ajax的意义所在，从青铜到钻石！2.png" alt="" /></p>
<p>&nbsp;</p>
<p class="pre">代码4:钻石水平</p>
<p>var $ = {<br />&nbsp;&nbsp;&nbsp;&nbsp;ajax: function (json) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var req = new XMLHttpRequest();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var type = json["type"];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var url = json["url"];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (json["data"]) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var html = "?";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (var i in json["data"]) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html += i + "=" + json["data"][i] + "&amp;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html = html.substring(0, html.length - 1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url += html;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var success = json["success"];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.open(type, url, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.send();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;req.onreadystatechange = function () {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (req.readyState == 4 &amp;&amp; req.status == 200) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var result = req.responseText;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (json["dataType"] == "json") {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = JSON.parse(result);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success(result);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</p>
<p class="pre">$.ajax({<br />&nbsp;&nbsp;&nbsp;&nbsp;type: "get",<br />&nbsp;&nbsp;&nbsp;&nbsp;url: "http://localhost:8055/listcount.php",<br />&nbsp;&nbsp;&nbsp;&nbsp;data: {search: "l"},<br />&nbsp;&nbsp;&nbsp;&nbsp;dataType: "json",<br />&nbsp;&nbsp;&nbsp;&nbsp;success: function (result) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(result["count"]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />});</p>
<p class="pre">怎么样 虽然写的是原生ajax &nbsp;但是写出了jq底层代码的味道 &nbsp;&nbsp;跟jq中使用方式一模一样 参数 回调 封装 &nbsp;面面俱到 &nbsp;水平高低 &nbsp;一看就知道了 自己都会写 工作肯定也就会用 这才是钻石水平 &nbsp;&nbsp;&nbsp;还有更高级的星耀 就可以融入Promise 请求头配置等等</p>
<p class="pre"><span style="font-family: 宋体;">不要小看任意一道面试题</span> &nbsp;<span style="font-family: 宋体;">可能其中另有深意</span> &nbsp;<span style="font-family: 宋体;">体验自己的价值才能拿到更快拿到</span>offer&nbsp;</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>