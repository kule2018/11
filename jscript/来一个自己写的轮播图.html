<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修来一个自己写的轮播图' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>来一个自己写的轮播图</center></div><div class='banquan'>原文出处:本文由博客园博主e沐风尘提供。<br/>
原文连接:https://www.cnblogs.com/zhangchunjie/p/10922202.html</div><br>
    <p><strong>话不多说，上干货，注意外部js文件，别引用错了，外部js文件在下面会给出</strong></p>
<p>&lt;!DOCTYPE html&gt;<br />&lt;html lang="en"&gt;<br />&lt;head&gt;<br />    &lt;meta charset="UTF-8"&gt;<br />    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br />    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;<br />    &lt;title&gt;轮播图&lt;/title&gt;<br />    &lt;style&gt;<br />      *{<br />          padding:0px;<br />          margin: 0px;<br />          list-style:none;<br />      }<br />      .start{<br />          position:relative;<br />          height: 250px;<br />          width: 400px;<br />          margin:100px auto 0px;<br />          border:2px solid black;<br />          overflow: hidden;<br />      }<br />      .start .start1{<br />             height:250px;<br />             width:2000px;<br />             position: absolute;<br />             left:0px;<br />             top:0px;<br />      }<br />      .start .start1 li{<br />          float:left;<br />          height:250px;<br />          width:400px;<br />      } <br />      .start .start1 li img{<br />          width:100%;<br />          height: 100%;  <br />      }<br />      .start .btn {<br />            position: absolute;<br />            top: 50%;<br />            margin-top: -20px;<br />            width: 40px;<br />            height: 40px;<br />            color: #fff;<br />            background-color: #000;<br />            text-align: center;<br />            line-height: 40px;<br />            opacity: 0.1;<br />            cursor: pointer;<br />        }<br />        .start:hover .btn {<br />            opacity: 0.7;<br />        }</p>
<p>        .start .leftbtn {<br />            left: 15px;<br />        }</p>
<p>        .start .rightbtn {<br />            right: 15px;<br />        }<br />        .start .end {<br />            position: absolute;<br />            width: 100%;<br />            bottom: 15px;<br />            text-align: center;<br />        }<br />        .start .end span {<br />            display: inline-block;<br />            width: 15px;<br />            height: 6px;<br />            background-color: #ccc;<br />            margin-right: 10px;<br />            cursor: pointer;<br />        }</p>
<p>        .start .end .active {<br />            background-color: #f40;<br />        }<br />    &lt;/style&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />    &lt;div class="start"&gt;<br />       &lt;ul class="start1"&gt;<br />         &lt;li&gt;<br />             &lt;img src="./cat1.jpg"/&gt;<br />         &lt;/li&gt;<br />         &lt;li&gt;<br />            &lt;img src="./cat2.jpg"/&gt;<br />         &lt;/li&gt;<br />         &lt;li&gt;<br />            &lt;img src="./cat3.jpg"/&gt;<br />         &lt;/li&gt;<br />         &lt;li&gt;<br />            &lt;img src="./cat4.jpg"/&gt;                  **图片的话自己可以修改哈，还有位置。**<br />         &lt;/li&gt;<br />         &lt;li&gt;<br />             &lt;img src="./cat1.jpg"/&gt;<br />        &lt;/li&gt;<br />       &lt;/ul&gt;<br />    &lt;div class="btn leftbtn"&gt;&amp;lt;&lt;/div&gt;<br />    &lt;div class="btn rightbtn"&gt;&amp;gt;&lt;/div&gt;<br />    &lt;div class="end"&gt;<br />        &lt;span class="active"&gt;&lt;/span&gt;<br />        &lt;span&gt;&lt;/span&gt;<br />        &lt;span&gt;&lt;/span&gt;<br />        &lt;span&gt;&lt;/span&gt;<br />    &lt;/div&gt;<br /> &lt;/div&gt;<br /> **这个外部引用的js文件下面会给出**<br /> &lt;script src='./move.js'&gt;&lt;/script&gt;<br /> &lt;script&gt;<br />      var timer = null;<br />        var sliderPage = document.getElementsByClassName('start1')[0];<br />        var moveWidth = sliderPage.children[0].offsetWidth;<br />        var num = sliderPage.children.length - 1;<br />        var leftBtn = document.getElementsByClassName('leftbtn')[0];<br />        var rightBtn = document.getElementsByClassName('rightbtn')[0];<br />        var oSpanArray = document.getElementsByClassName('end')[0].getElementsByTagName('span');<br />        var lock = true;<br />        var index = 0;</p>
<p>        leftBtn.onclick = function () {<br />            autoMove('right-&gt;left');<br />        }</p>
<p>        rightBtn.onclick = function () {<br />            autoMove('left-&gt;right');<br />        }<br />         **这个部分是按钮**</p>
<p>        for (var i = 0; i &lt; oSpanArray.length; i++) {<br />            (function (myIndex) {<br />                oSpanArray[i].onclick = function () {<br />                   lock = false;<br />                   clearTimeout(timer);<br />                   index = myIndex;<br />                   startMove(sliderPage, {left: - index * moveWidth}, function () {     <br />                       lock = true;<br />                       timer = setTimeout(autoMove, 1500);<br />                       changeIndex(index);<br />                   })<br />                 <br />                }<br />            })(i) <br />        }<br />        **上面这部分是让索引可以点击跳转图片**<br />        function autoMove (direction) {<br />           **加lock是为了让你点击按钮快速的时候不出错**<br />            if (lock) {            <br />                lock = false;      </p>
<p>                clearTimeout(timer);<br />                **默认方向为向左**<br />                if (!direction || direction == 'left-&gt;right') {<br />                    index++;<br />                    **startMove（）是一个外部的js文件的函数下面会给大家**<br />                    startMove(sliderPage, {left: sliderPage.offsetLeft - moveWidth}, function () {<br />                        if (sliderPage.offsetLeft == - num * moveWidth) {<br />                            index = 0;<br />                            sliderPage.style.left = '0px';<br />                        }<br />                        timer = setTimeout(autoMove, 1500);<br />                        lock = true;<br />                        changeIndex(index);<br />                    });<br />                }else if (direction == 'right-&gt;left') {<br />                    if (sliderPage.offsetLeft == 0) {<br />                        sliderPage.style.left = - num * moveWidth + 'px';<br />                        index = num;<br />                    }<br />                    index--;<br />                    startMove(sliderPage, {left: sliderPage.offsetLeft + moveWidth}, function () {<br />                        timer = setTimeout(autoMove, 1500);<br />                        lock = true;<br />                        changeIndex(index);<br />                    })<br />                }<br />            }<br />        }<br />**这个是让索引按第几个图片动**<br />        function changeIndex (_index) {<br />            for (var i = 0; i &lt; oSpanArray.length; i++) {<br />                oSpanArray[i].className = '';<br />            }<br />            oSpanArray[_index].className = 'active';<br />        }<br />        timer = setTimeout(autoMove, 1500);  <br /> &lt;/script&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;</p>
<p><br />**这个是外部的js文件，是一个让图片运动的文件**<br />function getStyle (obj, attr) {<br />    if (obj.currentStyle) {<br />        return obj.currentStyle[attr];<br />    }else {<br />        return window.getComputedStyle(obj, false)[attr];<br />    }<br />}<br />    // object是dom（元素），data是对象，function是函数传方法   <br />function startMove (obj, data, func) {         <br />    clearInterval(obj.timer);<br />    var iSpeed;<br />    var iCur;<br />    var name;            <br />    startTimer = obj.timer = setInterval(function () {<br />        var bStop = true;<br />        for (var attr in data) {<br />            if (attr === 'opacity') {<br />                name = attr;<br />                iCur = parseFloat(getStyle(obj, attr)) * 100;<br />            }else {<br />                iCur = parseInt(getStyle(obj, attr));<br />            }<br />            iSpeed = ( data[attr] - iCur) / 8;</p>
<p>            if (iSpeed &gt; 0) {<br />                iSpeed = Math.ceil(iSpeed);<br />            }else {<br />                iSpeed = Math.floor(iSpeed);<br />            }</p>
<p>            if (attr === 'opacity') {<br />                obj.style.opacity = ( iCur + iSpeed ) / 100; <br />            }else {<br />                obj.style[attr] = iCur + iSpeed + 'px';<br />            }<br />            if ( Math.floor(Math.abs(data[attr] - iCur)) != 0 ) {<br />                bStop = false;<br />            }<br />        }<br />        if (bStop) {					<br />            clearInterval(obj.timer);<br />            if (name === 'opacity') {<br />                obj.style.opacity = data[name] / 100;<br />            }<br />            func();<br />        }<br />    },30);<br />}  </p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>