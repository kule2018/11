<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修浏览器获取手机经纬度位置' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>浏览器获取手机经纬度位置</center></div><div class='banquan'>原文出处:本文由博客园博主张宏伟同学提供。<br/>
原文连接:https://www.cnblogs.com/hongwei918/p/11420502.html</div><br>
    <div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">function</span><span style="color: #000000;"> getAddr() {
    window.navigator.geolocation.getCurrentPosition(
        </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (position) {
            </span><span style="color: #0000ff;">var</span> longitude =<span style="color: #000000;"> position.coords.longitude;
            </span><span style="color: #0000ff;">var</span> latitude =<span style="color: #000000;"> position.coords.latitude;
            alert(longitude)</span><span style="color: #000000;">;
            alert(latitude);</span><span style="color: #000000;">
        },
        </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> onError(error) {
            </span><span style="color: #008000;">//</span><span style="color: #008000;">alert(error.message);</span>
            <span style="color: #0000ff;">switch</span><span style="color: #000000;"> (error.code) {
                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> error.PERMISSION_DENIED:
                    alert(</span>"您拒绝对获取地理位置的请求"<span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> error.POSITION_UNAVAILABLE:
                    alert(</span>"位置信息是不可用的"<span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> error.TIMEOUT:
                    alert(</span>"请求您的地理位置超时"<span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> error.UNKNOWN_ERROR:
                    alert(</span>"未知错误"<span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
        }
    );
};</span></pre>
</div>
<p>&nbsp;</p>
<h4><span style="font-family: 'Microsoft YaHei';"><strong><span style="font-size: 18px;">经纬度位置无法获取的情况：</span></strong></span></h4>
<h4><span style="font-family: 'Microsoft YaHei';"><strong><span style="font-size: 18px;">1. 网址必须为域名，不能用ip直接访问，否则手机浏览器直接拒绝改请求。</span></strong></span></h4>
<h4><span style="font-family: 'Microsoft YaHei';"><strong><span style="font-size: 18px;">2. iphone的浏览器（包括微信扫码进入网站） ，亲测调用 http 的网站是不能获取到经纬度的，是苹果手机安全的考虑，如果使用https网站的话，证书也必须是有效证书（无效证书的时候浏览器访问会提示该网站不安全是否继续访问，即使&ldquo;继续访问&rdquo;也不能获取经纬度）。</span></strong></span></h4>
<h4><span style="font-family: 'Microsoft YaHei';"><strong><span style="font-size: 18px;">3. 获取经纬度会询问用户是否同意获取，用户拒绝的话自然也不能获取到。</span></strong></span></h4>
<h4><span style="font-family: 'Microsoft YaHei';"><strong><span style="font-size: 18px;">4. 电脑浏览器不能获取经纬度，虽然会有弹窗请求。</span></strong></span></h4>
<h3><span style="font-family: 仿宋; font-size: 18px;">&nbsp;</span></h3>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>