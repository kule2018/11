<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='ç”µè„‘,ç”µè„‘è®²è§£,ç”µè„‘æŠ€æœ¯,ç¼–ç¨‹,ç”µè„‘æ•…éšœç»´ä¿®ç®€å•ä¸‰æ­¥ï¼Œè®©ä½ ç©è½¬å¾®ä¿¡è‡ªåŠ¨é‚€è¯·åŠ ç¾¤ï¼ï¼ï¼' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>é¦–é¡µ</a></li>
</div><div onclick='hidden1()' >åˆ†äº«</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>ç®€å•ä¸‰æ­¥ï¼Œè®©ä½ ç©è½¬å¾®ä¿¡è‡ªåŠ¨é‚€è¯·åŠ ç¾¤ï¼ï¼ï¼</center></div><div class='banquan'>åŸæ–‡å‡ºå¤„:æœ¬æ–‡ç”±åšå®¢å›­åšä¸»lieoneæä¾›ã€‚<br/>
åŸæ–‡è¿æ¥:https://www.cnblogs.com/lieone/p/11675655.html</div><br>
    <p><img src="./images/ç®€å•ä¸‰æ­¥ï¼Œè®©ä½ ç©è½¬å¾®ä¿¡è‡ªåŠ¨é‚€è¯·åŠ ç¾¤ï¼ï¼ï¼0.png" /></p>
<h2 id="éœ€æ±‚åœºæ™¯">1ã€éœ€æ±‚åœºæ™¯</h2>
<p>å¾ˆå¤šç®¡ç†å¤§é‡å¾®ä¿¡ç¤¾ç¾¤çš„å°ä¼™ä¼´éƒ½æœ‰è¿™æ ·çš„åœºæ™¯ï¼Œå½“å¾®ä¿¡ç¾¤çš„äººæ•°è¾¾åˆ°100äººä¹‹åï¼Œå°†ä¸èƒ½åœ¨é€šè¿‡åˆ†äº«çš„ç¾¤äºŒç»´ç åŠ å…¥ç¾¤é‡Œï¼Œå¿…é¡»è‡ªä¸»æ·»åŠ å¥½å‹åï¼Œæ‰‹åŠ¨å»é‚€è¯·æ‰èƒ½åŠ ç”¨æˆ·æ‹‰å…¥ç¾¤ä¼—ï¼Œå¦‚æœæœ‰å¤§é‡çš„ç”¨æˆ·åŠ ç¾¤ï¼Œå°±åªèƒ½ä¸€ä¸ªä¸€ä¸ªæ‰‹åŠ¨çš„æ‹‰ï¼Œæƒ³æƒ³å¿ƒæƒ…å°±å¾ˆç¾ä¸½ï¼Œæ‰‹åŠ¨å“­æ³£ã€‚ã€‚ã€‚ã€‚</p>
<h2 id="å‡†å¤‡å·¥ä½œ">2ã€å‡†å¤‡å·¥ä½œ</h2>
<p>1ã€ä¸€å°ä¸å…³æœºçš„ç”µè„‘ OR ä¸€å°æœåŠ¡å™¨</p>
<p>2ã€ å®‰è£…ä»¥ä¸‹ç›¸å…³ä¾èµ–ï¼ˆæœ‰çš„ä¸éœ€è¦ï¼‰</p>
<pre><code><code>#coding=utf8
import requests
from requests import exceptions
from urllib.request import urlopen
from bs4 import BeautifulSoup
from urllib.parse import urlencode
from threading import Timer
import re
from wxpy import *
import  schedule
import  time
import http
import  json 
import datetime
import random
import os
import ctypes</code></pre>
<p>3ã€ä¸€ä¸ªèƒ½å¤Ÿåœ¨ç½‘é¡µç‰ˆå¾®ä¿¡ç™»å½•çš„è´¦å·ï¼ˆé‡è¦ï¼‰</p>
<p>4ã€è¯¥å¾®ä¿¡åˆ›å»ºç¾¤èŠï¼Œå¹¶ä¿å­˜é€šè®¯å½•ä¸­ï¼ˆé‡è¦ï¼‰</p>
<h2 id="ä»£ç éƒ¨åˆ†">3ã€ä»£ç éƒ¨åˆ†</h2>
<h3 id="æ³¨å†Œæœºå™¨äºº">3.1ã€æ³¨å†Œæœºå™¨äºº</h3>
<pre><code><code>bot = Bot(cache_path=True,console_qr = 2)
bot.enable_puid(&#39;wxpy_puid.pkl&#39;)
rebot = bot.groups().search(&#39;Goodog&#39;) // éœ€è¦åŠ å…¥çš„ç¾¤</code></pre>
<h3 id="è‡ªåŠ¨é€šè¿‡å¥½å‹åå‘é€çš„åŠ ç¾¤æç¤º">3.2ã€è‡ªåŠ¨é€šè¿‡å¥½å‹åå‘é€çš„åŠ ç¾¤æç¤º</h3>
<pre><code><code>allText = &#39;å›å¤å…³é”®è¯åŠ ç¾¤ï¼š \n\n1ã€ç¾Šæ¯›ï¼ˆåŠ å…¥ç¾Šæ¯›ä¼˜æƒ ç¾¤ï¼‰\n2ã€pyï¼ˆåŠ å…¥æœºå™¨äººä½“éªŒç¾¤ï¼‰\n3ã€äº’ç²‰ï¼ˆåŠ å…¥å…¬ä¼—å·äº’ç²‰ç¾¤ï¼‰\n4ã€æ›´å¤šç¾¤æ•¬è¯·æœŸå¾…\n\n -PS: å¦‚æœå›å¤å…³é”®å­—æ— æ•ˆï¼Œè¯·è€å¿ƒç­‰å¾…æ‰‹å·¥æ‹‰å…¥ã€‚&#39;</code></pre>
<h3 id="è‡ªåŠ¨é€šè¿‡å¥½å‹è¯·æ±‚">3.3ã€è‡ªåŠ¨é€šè¿‡å¥½å‹è¯·æ±‚</h3>
<pre><code><code>@bot.register(msg_types=FRIENDS)
def auto_audit_msg(msg):
    new_friend = bot.accept_friend(msg.card)
    new_friend.send(&#39;æˆ‘æ˜¯Goodogå°åŠ©æ‰‹ï¼Œå¦‚æœä½ ä¹Ÿæƒ³æ‹¥æœ‰ä¸€ä¸ªè·Ÿæˆ‘ä¸€æ ·åŠŸèƒ½çš„æœºå™¨äººè¯·æ·»åŠ å…¬ä¼—å·ã€å°å¤­åŒå­¦ã€‘ç•™è¨€è·å–ï¼&#39;)
    new_friend.send_raw_msg(
        raw_type=42,
        raw_content=&#39;&lt;msg username=&quot;infopush&quot; nickname=&quot;å°å¤­åŒå­¦&quot;/&gt;&#39;
    ) 
    new_friend.send(allText)</code></pre>
<h3 id="å…³é”®å­—å›å¤å‘é€åŠ ç¾¤é‚€è¯·é“¾æ¥">3.4ã€å…³é”®å­—å›å¤å‘é€åŠ ç¾¤é‚€è¯·é“¾æ¥</h3>
<pre><code><code>@bot.register(Friend, msg_types=TEXT)
def auto_add_msg(msg):
    if &#39;py&#39; in msg.text.lower():
        rebot[0].add_members(msg.sender, use_invitation=True)
        msg.sender.send(&#39;å¦‚æœåŠ å…¥pyç¾¤å¤±è´¥ï¼Œè¯·ç­‰å¾…äººå·¥é‚€è¯·åŠ å…¥ï¼ï¼&#39;)</code></pre>
<h3 id="é‚€è¯·ç”¨æˆ·å…¥ç¾¤åå‘é€ç¾¤å…¬å‘Š">3.5ã€é‚€è¯·ç”¨æˆ·å…¥ç¾¤åå‘é€ç¾¤å…¬å‘Š</h3>
<pre><code><code>invite_compile = re.compile(r&#39;é‚€è¯·&quot;(.*?)&quot;åŠ å…¥äº†ç¾¤èŠ\s*$&#39;) // åˆ¤æ–­æ˜¯å¦ä¸ºæ–°ç”¨æˆ·å…¥ç¾¤</code></pre>
<h4 id="æ–°ç”¨æˆ·å…¥ç¾¤å‘é€çš„å…¬å‘Š">3.5.1ã€æ–°ç”¨æˆ·å…¥ç¾¤å‘é€çš„å…¬å‘Š</h4>
<pre><code><code>rebot_msg = &#39;&#39;&#39;@{atname}\u2005\u2005\u2005ğŸŒ¹ğŸŒ¹ğŸŒ¹æ¬¢è¿åŠ å…¥ç¾¤ğŸŒ¹ğŸŒ¹ğŸŒ¹\n
âš¡âš¡âš¡âš¡ æ­¤ç¾¤ç¦æ­¢å‘å¹¿å‘Šï¼Œä¸ç„¶è¸¢ï¼ï¼ï¼\n
ğŸ’£ğŸ’£ğŸ’£ æ— æ³•ç™»å½•ç½‘é¡µå¾®ä¿¡çš„é—®é¢˜ï¼Œæ— æœ‰æ•ˆè§£å†³åŠæ³•ã€‚\n
ğŸ™‹ğŸ™‹ğŸ™‹ æ€æ ·æé—®ï¼š\n
1. ä¸è¦é—®æ— æ„ä¹‰çš„é—®é¢˜ ğŸŒ¡ 
2. é—®é—®é¢˜å‰æœ€å¥½è´´å‡ºæˆªå›¾ã€‚ğŸ§¸ 
3. æè¿°æ¸…æ™°ï¼Œä¿¡æ¯å……è¶³ã€‚ğŸ’
4. å¦‚æœæƒ³è¦æºç è¯·å…³æ³¨ğŸ’¡ ã€å°å¤­åŒå­¦ã€‘ğŸ’¡ å›å¤ã€å¸®åŠ©ã€‘è·å–&#39;&#39;&#39;</code></pre>
<h4 id="ä¸ºåŠ å…¥çš„ç¾¤è¿›è¡Œæ³¨å†Œä»¥ç”¨æ¥æŠ“å–ç¾¤æ¶ˆæ¯">3.5.2ã€ä¸ºåŠ å…¥çš„ç¾¤è¿›è¡Œæ³¨å†Œï¼Œä»¥ç”¨æ¥æŠ“å–ç¾¤æ¶ˆæ¯</h4>
<pre><code><code>@bot.register(rebot, NOTE)  // NOTE ä¸ºç³»ç»Ÿé€šçŸ¥
def invite_group(msg):
    &quot;&quot;&quot; ç¾¤é€šçŸ¥å¤„ç† &quot;&quot;&quot;
    text = msg.text # é€šçŸ¥çš„å†…å®¹
    member = msg.member.name # æ¶ˆæ¯å‘é€è€…æ˜µç§°
    invite_names = invite_compile.findall(text)  # åˆ¤æ–­æ˜¯å¦æ˜¯åŠ å…¥äº†æ–°ç”¨æˆ·
    if invite_names:  # ç”¨äºé‚€è¯·
        invite_name = invite_names[0]  # åŠ å…¥è€…çš„æ˜µç§°
        if rebot_msg:
            note = rebot_msg.format(atname=invite_name)
            msg.sender.send(note)  # å‘ç¾¤é‡Œå‘é€æ¬¢è¿è¯­å¥
        return</code></pre>
<h2 id="è¿è¡Œæœºå™¨äºº">4ã€è¿è¡Œæœºå™¨äºº</h2>
<pre><code><code>while True:
    schedule.run_pending()
    time.sleep(1)</code></pre>
<h2 id="git">5ã€Git</h2>
<blockquote>
<p>ä»£ç å·²ä¸Šä¼  <a href="https://github.com/jiaopianjun/wepython/blob/master/invite.py">Github</a></p>
</blockquote>
<h2 id="å¦‚æœ‰æƒ³ä½“éªŒæœºå™¨äººå¯ä»¥æ·»åŠ å¾®ä¿¡wex_5201314æˆ–ç›´æ¥æ‰«æä¸‹é¢äºŒç»´ç ">6ã€å¦‚æœ‰æƒ³ä½“éªŒæœºå™¨äººå¯ä»¥æ·»åŠ å¾®ä¿¡ã€wex_5201314ã€‘æˆ–ç›´æ¥æ‰«æä¸‹é¢äºŒç»´ç </h2>
<p><img src="./images/ç®€å•ä¸‰æ­¥ï¼Œè®©ä½ ç©è½¬å¾®ä¿¡è‡ªåŠ¨é‚€è¯·åŠ ç¾¤ï¼ï¼ï¼1.png" alt="WechatIMG303.jpeg" /></p>
<h2 id="æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·å°å¤­åŒå­¦">7ã€æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€å°å¤­åŒå­¦ã€‘</h2>
<p><img src="./images/ç®€å•ä¸‰æ­¥ï¼Œè®©ä½ ç©è½¬å¾®ä¿¡è‡ªåŠ¨é‚€è¯·åŠ ç¾¤ï¼ï¼ï¼2.png" alt="qrcode_for_gh_06f1f85b0c04_258 1.jpg" /></p>
<h3 id="å…³æ³¨å…¬ä¼—å·-å°å¤­åŒå­¦">å…³æ³¨å…¬ä¼—å· ã€å°å¤­åŒå­¦ã€‘</h3>
<p><img src="./images/ç®€å•ä¸‰æ­¥ï¼Œè®©ä½ ç©è½¬å¾®ä¿¡è‡ªåŠ¨é‚€è¯·åŠ ç¾¤ï¼ï¼ï¼3.png" alt="å…¬ä¼—å·å°å¤­åŒå­¦" /></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>