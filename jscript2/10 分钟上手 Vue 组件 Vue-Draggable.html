<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修10 分钟上手 Vue 组件 Vue-Draggable' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>10 分钟上手 Vue 组件 Vue-Draggable</center></div><div class='banquan'>原文出处:本文由博客园博主实验楼提供。<br/>
原文连接:https://www.cnblogs.com/shiyanlou/p/11601608.html</div><br>
    <p>Vue 综合了 Angualr 和 React 的优点，因其易上手，轻量级，受到了广泛应用。成为了是时下火热的前端框架，吸引着越来越多的前端开发者！</p>
<p>本文将通过一个最简单的拖拽例子带领大家快速上手 Vue 组件 Vue-Draggable。</p>
<p>首先，需要在工作环境中配置好 Vue-cli，创建一个 vue 项目。</p>
<pre><code><code>vue create test_1</code></pre>
<p>创建项目时会有很多安装步骤，按下面的说明选择配置：</p>
<p>1.pick a preset 选择 Manually select features</p>
<p><img src="./images/10 分钟上手 Vue 组件 Vue-Draggable0.png" alt="image" /></p>
<p>2.Check the features needed for your project 选择 Babel 和 CSS Pre-processors 两项（使用空格键来选中或取消）</p>
<p><img src="./images/10 分钟上手 Vue 组件 Vue-Draggable1.png" alt="image" /></p>
<p>3.Pick a CSS pre-processor 选择 Sass/SCSS(with node-sass)</p>
<p><img src="./images/10 分钟上手 Vue 组件 Vue-Draggable2.png" alt="image" /></p>
<p>4.Where do you prefer placing config 选择 In dedicated config files</p>
<p><img src="./images/10 分钟上手 Vue 组件 Vue-Draggable3.png" alt="image" /></p>
<p>5.Save this as a preset for future projects？ 选 yes ，并填写一个名字，以后的 Vue 项目就可以继续使用这个配置</p>
<p><img src="./images/10 分钟上手 Vue 组件 Vue-Draggable4.png" alt="image" /></p>
<p>6. Pick the package manager to use when installing dependencies 选择 Use NPM（有些同学安装可能不会遇到这步）</p>
<p><img src="./images/10 分钟上手 Vue 组件 Vue-Draggable5.png" alt="image" /></p>
<p>OK，准备工作做好，下面我们可以进入 Vue-Draggable 的内容。</p>
<p>首先， <code>cd test_1</code> 进入项目目录，配置一下 Vue-Draggable。</p>
<pre><code><code>npm i vuedraggable -S</code></pre>
<p>接着,在 <code>src/components</code> 目录下新建 <code>Draggable.vue</code>。</p>
<p>在 <code>&lt;script&gt;</code> 中引入并且注册 <code>vuedraggable</code> 组件,再写一点数据后面验证用：</p>
<pre><code><code>&lt;script&gt;
import Draggable from &quot;vuedraggable&quot;

const message = [
  &quot;vue.draggable&quot;,
  &quot;draggable&quot;,
  &quot;component&quot;,
  &quot;for&quot;,
  &quot;vue.js 2.0&quot;,
  &quot;based&quot;,
  &quot;on&quot;,
  &quot;Sortablejs&quot;
]

export default {
  components: {
    Draggable
  },
  data () {
    return {
      list: message.map((name, index) =&gt; {
        return { name, order: index + 1 };
      })
    }
  }
}
&lt;/script&gt;</code></pre>
<p>然后我们就可以在 <code>&lt;template&gt;</code> 中愉快的使用 draggable。</p>
<pre><code><code>&lt;template&gt;
      &lt;draggable
        class=&quot;list-group&quot;
        tag=&quot;ul&quot;
        v-model=&quot;list&quot;
        v-bind=&quot;{
          animation: 200,
          group: &#39;description&#39;,
          disabled: false,
          ghostClass: &#39;ghost&#39;
        }&quot;
      &gt;
          &lt;li
            class=&quot;list-group-item&quot;
            v-for=&quot;element in list&quot;
            :key=&quot;element.order&quot;
          &gt;
            {{ element.name }}
          &lt;/li&gt;
      &lt;/draggable&gt;
&lt;/template&gt;
</code></pre>
<p>注意，draggable 标签中，tag = 'ul' 用来指定 draggable 组件渲染出来的 html 标签。v-model 绑定列表可拖动的元素，也就是 data() 中的 list，通常与 draggable 中的内部元素 v-for 的引用一致。</p>
<p>v-bind 绑定 draggable 组件的配置项，可以看看具体讲解：</p>
<ul>
<li>group：string or object</li>
<li>string：命名，用处是为了设置可以拖放容器时使用</li>
<li>object: {name, pull, put}</li>
<li>name: 同 string 的方法</li>
<li>pull：pull 用来定义从这个列表容器移动出去的设置，true/false/'clone'/function</li>
<li>true:列表容器内的列表元素可以被移出；</li>
<li>false：列表容器内的列表元素不可以被移出；</li>
<li>clone：列表元素移出，移动的为该元素的副本；</li>
<li>function：用来进行 pull 的函数判断，可以进行复杂逻辑，在函数中 return false/true 来判断是否移出；</li>
<li>put：put 用来定义往这个列表容器放置列表元素的的设置，true/false/['foo','bar']/function</li>
<li>true:列表容器可以从其他列表容器内放入列表元素；</li>
<li>false：与 true 相反；</li>
<li>['foo','bar']：这个可以是一个字符串或者是字符串的数组，代表的是 group 配置项里定义的 name 值；</li>
<li>function：用来进行 put 的函数判断，可以进行复杂逻辑，在函数中 return false/true 来判断是否放入</li>
<li>animation: number 单位：ms，定义动画的时间；</li>
<li>disabled: boolean 定义此 sortable 对象是否可用，为 true 时 sortable 对象不能拖放排序等功能，为 false 时为可以进行排序，相当于一个开关；</li>
<li>ghostClass：selector 格式为简单 css 选择器的字符串，当拖动列表元素时会生成一个副本作为影子元素来模拟被拖动元素排序的情况，此配置项就是来给这个影子元素添加一个 class，我们可以通过这种方式来给影子元素进行编辑样式；</li>
<li>sort: boolean 定义是否列表元素是否可以在列表容器内进行拖拽排序；</li>
<li>delay: number 定义鼠标选中列表元素可以开始拖动的延迟时间；</li>
<li>handle: selector 格式为简单 css 选择器的字符串，使列表元素中符合选择器的元素成为拖动的手柄，只有按住拖动手柄才能使列表元素进行拖动；</li>
<li>filter: selector 格式为简单 css 选择器的字符串，定义哪些列表元素不能进行拖放，可设置为多个选择器，中间用“,”分隔</li>
<li>draggable：selector 格式为简单 css 选择器的字符串，定义哪些列表元素可以进行拖放</li>
<li>chosenClass：selector 格式为简单 css 选择器的字符串，当选中列表元素时会给该元素增加一个 class；</li>
<li>forceFallback：boolean 如果设置为 true 时，将不使用原生的 html5 的拖放，可以修改一些拖放中元素的样式等；</li>
<li>fallbackClass：string 当 forceFallback 设置为 true 时，拖放过程中鼠标附着元素的样式；</li>
<li>scroll：boolean 默认为 true，当排序的容器是个可滚动的区域，拖放可以引起区域滚动。</li>
</ul>
<p>再配置一下对应 class 样式：</p>
<pre><code><code>&lt;style lang=&quot;scss&quot;&gt;
.ghost {
  opacity: 0.5;
  background: #c8ebfb;
}
.list-group {
  min-height: 20px;
  list-style: none;
}
.list-group-item {
  cursor: move;
  height: 30px;
  line-height: 30px;
  border: 1px solid #ccc;
}

&lt;/style&gt;</code></pre>
<p>最后，修改一下 App.vue 注册组件:</p>
<pre><code><code>&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;draggable&gt;&lt;/draggable&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Draggable from &#39;./components/Draggable&#39;

export default {
  name: &#39;app&#39;,
  components: {
    Draggable
  }
}
&lt;/script&gt;</code></pre>
<p>启动项目，在浏览器中查看一下效果！</p>
<pre><code><code>npm run server</code></pre>
<p>很简单对吧，10 分钟快速食用完毕！</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>