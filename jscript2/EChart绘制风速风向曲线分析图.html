<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修EChart绘制风速风向曲线分析图' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>EChart绘制风速风向曲线分析图</center></div><div class='banquan'>原文出处:本文由博客园博主在 水 一 方提供。<br/>
原文连接:https://www.cnblogs.com/w2011/p/11277147.html</div><br>
    <h4>1、获取ECharts</h4>
<p>&nbsp; &nbsp; &nbsp; 在 ECharts 的&nbsp;<a href="https://github.com/ecomfe/echarts" target="_blank">GitHub</a>&nbsp;上下载最新的&nbsp;<code>release</code>&nbsp;版本，解压出来的文件夹里的&nbsp;<code>dist</code>&nbsp;目录里可以找到最新版本的 echarts 库。</p>
<h4>2、引入ECharts</h4>
<p>像普通的 JavaScript 库一样用 script 标签引入。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">="utf-8"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">5</span>     <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 引入 ECharts 文件 </span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">6</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="echarts.min.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">7</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<h4>3、绘制图表</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>     <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 为 ECharts 准备一个具备大小（宽高）的 DOM </span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">3</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="main"</span><span style="color: #ff0000;"> style</span><span style="color: #0000ff;">="width: 600px;height:400px;"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>然后就可以通过<span style="color: #ff0000;">&nbsp;echarts.init&nbsp;</span>方法初始化一个 echarts 实例并通过&nbsp;<span style="color: #ff0000;">setOption&nbsp;</span>方法生成一个简单的柱状图，下面是完整代码。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> &lt;!DOCTYPE html&gt;
<span style="color: #008080;">  2</span> &lt;html&gt;
<span style="color: #008080;">  3</span> &lt;head&gt;
<span style="color: #008080;">  4</span>     &lt;meta charset="utf-8"&gt;
<span style="color: #008080;">  5</span>     &lt;title&gt;ECharts&lt;/title&gt;
<span style="color: #008080;">  6</span>     &lt;!-- 引入 echarts.js --&gt;
<span style="color: #008080;">  7</span>     &lt;script src="echarts.min.js"&gt;&lt;/script&gt;
<span style="color: #008080;">  8</span> &lt;/head&gt;
<span style="color: #008080;">  9</span> &lt;body&gt;
<span style="color: #008080;"> 10</span>     &lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
<span style="color: #008080;"> 11</span>     &lt;div id="main" style="width: 600px;height:400px;"&gt;&lt;/div&gt;
<span style="color: #008080;"> 12</span>     &lt;script type="text/javascript"&gt;
<span style="color: #008080;"> 13</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 基于准备好的dom，初始化echarts实例</span>
<span style="color: #008080;"> 14</span>             <span style="color: #0000ff;">var</span> data =<span style="color: #000000;"> [
</span><span style="color: #008080;"> 15</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 16</span>                 1483488000000<span style="color: #000000;">,
</span><span style="color: #008080;"> 17</span>                 6.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 18</span>                 0.9545
<span style="color: #008080;"> 19</span> <span style="color: #000000;">            ],
</span><span style="color: #008080;"> 20</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 21</span>                 1483574400000<span style="color: #000000;">,
</span><span style="color: #008080;"> 22</span>                 6.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 23</span>                 0.2303
<span style="color: #008080;"> 24</span> <span style="color: #000000;">            ],
</span><span style="color: #008080;"> 25</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 26</span>                 1483660800000<span style="color: #000000;">,
</span><span style="color: #008080;"> 27</span>                 3.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 28</span>                 0
<span style="color: #008080;"> 29</span> <span style="color: #000000;">            ],
</span><span style="color: #008080;"> 30</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 31</span>                 1483747200000<span style="color: #000000;">,
</span><span style="color: #008080;"> 32</span>                 6.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 33</span>                 0
<span style="color: #008080;"> 34</span> <span style="color: #000000;">            ],
</span><span style="color: #008080;"> 35</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 36</span>                 1483833600000<span style="color: #000000;">,
</span><span style="color: #008080;"> 37</span>                 6.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 38</span>                 4
<span style="color: #008080;"> 39</span> <span style="color: #000000;">            ],
</span><span style="color: #008080;"> 40</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 41</span>                 1483920000000<span style="color: #000000;">,
</span><span style="color: #008080;"> 42</span>                 11.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 43</span>                 2
<span style="color: #008080;"> 44</span> <span style="color: #000000;">            ],
</span><span style="color: #008080;"> 45</span> <span style="color: #000000;">            [
</span><span style="color: #008080;"> 46</span>                 1484006400000<span style="color: #000000;">,
</span><span style="color: #008080;"> 47</span>                 17.19<span style="color: #000000;">,
</span><span style="color: #008080;"> 48</span>                 4.7124
<span style="color: #008080;"> 49</span> <span style="color: #000000;">            ]
</span><span style="color: #008080;"> 50</span> <span style="color: #000000;">        ];
</span><span style="color: #008080;"> 51</span>         <span style="color: #008000;">//</span><span style="color: #008000;">数据参数顺序</span>
<span style="color: #008080;"> 52</span>         <span style="color: #0000ff;">var</span> dims =<span style="color: #000000;"> {
</span><span style="color: #008080;"> 53</span>             time: 0<span style="color: #000000;">,
</span><span style="color: #008080;"> 54</span>             windSpeed: 1<span style="color: #000000;">,
</span><span style="color: #008080;"> 55</span>             R: 2
<span style="color: #008080;"> 56</span> <span style="color: #000000;">        };
</span><span style="color: #008080;"> 57</span>         <span style="color: #008000;">//</span><span style="color: #008000;">箭头大小</span>
<span style="color: #008080;"> 58</span>         <span style="color: #0000ff;">var</span> arrowSize = 12<span style="color: #000000;">;
</span><span style="color: #008080;"> 59</span>         <span style="color: #008000;">//</span><span style="color: #008000;">方向绘制</span>
<span style="color: #008080;"> 60</span>         <span style="color: #0000ff;">function</span><span style="color: #000000;"> renderArrow(param, api) {
</span><span style="color: #008080;"> 61</span>             <span style="color: #0000ff;">var</span> point =<span style="color: #000000;"> api.coord([
</span><span style="color: #008080;"> 62</span> <span style="color: #000000;">                api.value(dims.time),
</span><span style="color: #008080;"> 63</span> <span style="color: #000000;">                api.value(dims.windSpeed)
</span><span style="color: #008080;"> 64</span> <span style="color: #000000;">            ]);
</span><span style="color: #008080;"> 65</span> 
<span style="color: #008080;"> 66</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> {
</span><span style="color: #008080;"> 67</span>                 type: 'path'<span style="color: #000000;">,
</span><span style="color: #008080;"> 68</span> <span style="color: #000000;">                shape: {
</span><span style="color: #008080;"> 69</span>                     pathData: 'M31 16l-15-15v9h-26v12h26v9z'<span style="color: #000000;">,
</span><span style="color: #008080;"> 70</span>                     x: -arrowSize / 2<span style="color: #000000;">,
</span><span style="color: #008080;"> 71</span>                     y: -arrowSize / 2<span style="color: #000000;">,
</span><span style="color: #008080;"> 72</span> <span style="color: #000000;">                    width: arrowSize,
</span><span style="color: #008080;"> 73</span> <span style="color: #000000;">                    height: arrowSize
</span><span style="color: #008080;"> 74</span> <span style="color: #000000;">                },
</span><span style="color: #008080;"> 75</span> <span style="color: #000000;">                rotation: api.value(dims.R),
</span><span style="color: #008080;"> 76</span> <span style="color: #000000;">                position: point,
</span><span style="color: #008080;"> 77</span> <span style="color: #000000;">                style: api.style({
</span><span style="color: #008080;"> 78</span>                     stroke: '#555'<span style="color: #000000;">,
</span><span style="color: #008080;"> 79</span>                     lineWidth: 1
<span style="color: #008080;"> 80</span> <span style="color: #000000;">                })
</span><span style="color: #008080;"> 81</span> <span style="color: #000000;">            };
</span><span style="color: #008080;"> 82</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 83</span> 
<span style="color: #008080;"> 84</span>         <span style="color: #0000ff;">var</span> option =<span style="color: #000000;"> {
</span><span style="color: #008080;"> 85</span> <span style="color: #000000;">            title: {
</span><span style="color: #008080;"> 86</span>                 text: '风速风向数据分析图'<span style="color: #000000;">,
</span><span style="color: #008080;"> 87</span>                 left: 'center'
<span style="color: #008080;"> 88</span> <span style="color: #000000;">            },
</span><span style="color: #008080;"> 89</span> <span style="color: #000000;">            tooltip: {
</span><span style="color: #008080;"> 90</span>                 trigger: 'axis'<span style="color: #000000;">,
</span><span style="color: #008080;"> 91</span>                 formatter: <span style="color: #0000ff;">function</span><span style="color: #000000;"> (params) {
</span><span style="color: #008080;"> 92</span>                     <span style="color: #0000ff;">return</span><span style="color: #000000;"> [
</span><span style="color: #008080;"> 93</span>                         echarts.format.formatTime('yyyy-MM-dd', params[0<span style="color: #000000;">].value[dims.time])
</span><span style="color: #008080;"> 94</span>                         + ' ' + echarts.format.formatTime('hh:mm', params[0<span style="color: #000000;">].value[dims.time]),
</span><span style="color: #008080;"> 95</span>                         '风速：' + params[0<span style="color: #000000;">].value[dims.windSpeed],
</span><span style="color: #008080;"> 96</span>                         '风向：' + params[0<span style="color: #000000;">].value[dims.R]
</span><span style="color: #008080;"> 97</span>                     ].join('&lt;br&gt;'<span style="color: #000000;">);
</span><span style="color: #008080;"> 98</span> <span style="color: #000000;">                }
</span><span style="color: #008080;"> 99</span> <span style="color: #000000;">            },
</span><span style="color: #008080;">100</span> <span style="color: #000000;">            grid: {
</span><span style="color: #008080;">101</span>                 top: 40<span style="color: #000000;">,
</span><span style="color: #008080;">102</span>                 bottom: 60
<span style="color: #008080;">103</span> <span style="color: #000000;">            },
</span><span style="color: #008080;">104</span> <span style="color: #000000;">            xAxis: {
</span><span style="color: #008080;">105</span>                 type: 'time'
<span style="color: #008080;">106</span> <span style="color: #000000;">            },
</span><span style="color: #008080;">107</span> <span style="color: #000000;">            yAxis: [{
</span><span style="color: #008080;">108</span>                 name: '风速（节）'<span style="color: #000000;">,
</span><span style="color: #008080;">109</span>                 nameLocation: 'middle'<span style="color: #000000;">,
</span><span style="color: #008080;">110</span>                 nameGap: 35<span style="color: #000000;">,
</span><span style="color: #008080;">111</span> <span style="color: #000000;">                axisLine: {
</span><span style="color: #008080;">112</span> <span style="color: #000000;">                    lineStyle: {
</span><span style="color: #008080;">113</span>                         color: '#666'
<span style="color: #008080;">114</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">115</span> <span style="color: #000000;">                },
</span><span style="color: #008080;">116</span> <span style="color: #000000;">                splitLine: {
</span><span style="color: #008080;">117</span> <span style="color: #000000;">                    lineStyle: {
</span><span style="color: #008080;">118</span>                         color: '#ddd'
<span style="color: #008080;">119</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">120</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">121</span> <span style="color: #000000;">            }, {
</span><span style="color: #008080;">122</span>                 axisLine: { show: <span style="color: #0000ff;">false</span><span style="color: #000000;"> },
</span><span style="color: #008080;">123</span>                 axisTick: { show: <span style="color: #0000ff;">false</span><span style="color: #000000;"> },
</span><span style="color: #008080;">124</span>                 axisLabel: { show: <span style="color: #0000ff;">false</span><span style="color: #000000;"> },
</span><span style="color: #008080;">125</span>                 splitLine: { show: <span style="color: #0000ff;">false</span><span style="color: #000000;"> }
</span><span style="color: #008080;">126</span> <span style="color: #000000;">            }],
</span><span style="color: #008080;">127</span> <span style="color: #000000;">            visualMap: {
</span><span style="color: #008080;">128</span>                 type: 'piecewise'<span style="color: #000000;">,
</span><span style="color: #008080;">129</span>                 orient: 'horizontal'<span style="color: #000000;">,
</span><span style="color: #008080;">130</span>                 left: 'center'<span style="color: #000000;">,
</span><span style="color: #008080;">131</span>                 bottom: 10<span style="color: #000000;">,
</span><span style="color: #008080;">132</span> <span style="color: #000000;">                pieces: [{
</span><span style="color: #008080;">133</span>                     gte: 17<span style="color: #000000;">,
</span><span style="color: #008080;">134</span>                     color: '#D33C3E'<span style="color: #000000;">,
</span><span style="color: #008080;">135</span>                     label: '大风（&gt;=17节）'
<span style="color: #008080;">136</span> <span style="color: #000000;">                }, {
</span><span style="color: #008080;">137</span>                     gte: 11<span style="color: #000000;">,
</span><span style="color: #008080;">138</span>                     lt: 17<span style="color: #000000;">,
</span><span style="color: #008080;">139</span>                     color: '#f4e9a3'<span style="color: #000000;">,
</span><span style="color: #008080;">140</span>                     label: '中风（11  ~ 17 节）'
<span style="color: #008080;">141</span> <span style="color: #000000;">                }, {
</span><span style="color: #008080;">142</span>                     lt: 11<span style="color: #000000;">,
</span><span style="color: #008080;">143</span>                     color: '#18BF12'<span style="color: #000000;">,
</span><span style="color: #008080;">144</span>                     label: '微风（小于 11 节）'
<span style="color: #008080;">145</span> <span style="color: #000000;">                }],
</span><span style="color: #008080;">146</span>                 seriesIndex: 0<span style="color: #000000;">,
</span><span style="color: #008080;">147</span>                 dimension: 1
<span style="color: #008080;">148</span> <span style="color: #000000;">            },
</span><span style="color: #008080;">149</span> <span style="color: #000000;">            dataZoom: [{
</span><span style="color: #008080;">150</span>                 type: 'inside'<span style="color: #000000;">,
</span><span style="color: #008080;">151</span>                 xAxisIndex: 0<span style="color: #000000;">,
</span><span style="color: #008080;">152</span>                 minSpan: 5
<span style="color: #008080;">153</span> <span style="color: #000000;">            }],
</span><span style="color: #008080;">154</span> <span style="color: #000000;">            series: [{
</span><span style="color: #008080;">155</span>                 type: 'custom'<span style="color: #000000;">,
</span><span style="color: #008080;">156</span> <span style="color: #000000;">                renderItem: renderArrow,
</span><span style="color: #008080;">157</span> <span style="color: #000000;">                encode: {
</span><span style="color: #008080;">158</span> <span style="color: #000000;">                    x: dims.time,
</span><span style="color: #008080;">159</span> <span style="color: #000000;">                    y: dims.windSpeed
</span><span style="color: #008080;">160</span> <span style="color: #000000;">                },
</span><span style="color: #008080;">161</span> <span style="color: #000000;">                data: data,
</span><span style="color: #008080;">162</span>                 z: 10
<span style="color: #008080;">163</span> <span style="color: #000000;">            }, {
</span><span style="color: #008080;">164</span>                 type: 'line'<span style="color: #000000;">,
</span><span style="color: #008080;">165</span>                 symbol: 'none'<span style="color: #000000;">,
</span><span style="color: #008080;">166</span> <span style="color: #000000;">                encode: {
</span><span style="color: #008080;">167</span> <span style="color: #000000;">                    x: dims.time,
</span><span style="color: #008080;">168</span> <span style="color: #000000;">                    y: dims.windSpeed
</span><span style="color: #008080;">169</span> <span style="color: #000000;">                },
</span><span style="color: #008080;">170</span> <span style="color: #000000;">                lineStyle: {
</span><span style="color: #008080;">171</span> <span style="color: #000000;">                    normal: {
</span><span style="color: #008080;">172</span>                         color: '#aaa'<span style="color: #000000;">,
</span><span style="color: #008080;">173</span>                         type: 'dotted'
<span style="color: #008080;">174</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">175</span> <span style="color: #000000;">                },
</span><span style="color: #008080;">176</span> <span style="color: #000000;">                data: data,
</span><span style="color: #008080;">177</span>                 z: 1
<span style="color: #008080;">178</span> <span style="color: #000000;">            }]
</span><span style="color: #008080;">179</span> <span style="color: #000000;">        };
</span><span style="color: #008080;">180</span> 
<span style="color: #008080;">181</span> <span style="color: #000000;">        myChart.setOption(option);
</span><span style="color: #008080;">182</span> 
<span style="color: #008080;">183</span>         <span style="color: #008000;">//</span><span style="color: #008000;">窗口变化更改Chart大小</span>
<span style="color: #008080;">184</span>         window.onresize(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
</span><span style="color: #008080;">185</span> <span style="color: #000000;">            myChart.resize();
</span><span style="color: #008080;">186</span> <span style="color: #000000;">        });
</span><span style="color: #008080;">187</span>     &lt;/script&gt;
<span style="color: #008080;">188</span> &lt;/body&gt;
<span style="color: #008080;">189</span> &lt;/html&gt;</pre>
</div>
<p>运行测试图表如下:</p>
<p><img src="./images/EChart绘制风速风向曲线分析图0.png" alt="" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>