<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修ElementUi中el-table分页效果' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>ElementUi中el-table分页效果</center></div><div class='banquan'>原文出处:本文由博客园博主他好像一条狗啊提供。<br/>
原文连接:https://www.cnblogs.com/jdWu-d/p/11896668.html</div><br>
    <p>　　现实的场景中很经常遇到表格el-table数据过多，为了更好的用户体验，所以我们需要用到分页，一般分页可以视数据量的大小可分为前端控制和后端控制。</p>
<p>　　先看下效果（已做脱敏处理）</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/ElementUi中el-table分页效果0.png" alt="" width="1132" height="665" /></p>
<p style="text-align: center;"><span style="font-size: 12px;">图1 前端el-table分页效果</span></p>
<p>这里就把ElementUi官方的例子进行修改来说明</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">template</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">el-table
        </span><span style="color: #ff0000;">:data</span><span style="color: #0000ff;">="tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)"</span><span style="color: #ff0000;">
        :stripe</span><span style="color: #0000ff;">="stripe"</span><span style="color: #ff0000;">
        :current-page.sync</span><span style="color: #0000ff;">="currentPage"</span><span style="color: #ff0000;">
        style</span><span style="color: #0000ff;">="width: 100%"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">el-table-column
            </span><span style="color: #ff0000;">prop</span><span style="color: #0000ff;">="date"</span><span style="color: #ff0000;">
            label</span><span style="color: #0000ff;">="日期"</span><span style="color: #ff0000;">
            width</span><span style="color: #0000ff;">="180"</span><span style="color: #0000ff;">&gt;</span>
         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">el-table-column</span><span style="color: #0000ff;">&gt;</span>
         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">el-table-column
            </span><span style="color: #ff0000;">prop</span><span style="color: #0000ff;">="name"</span><span style="color: #ff0000;">
            label</span><span style="color: #0000ff;">="姓名"</span><span style="color: #ff0000;">
            width</span><span style="color: #0000ff;">="180"</span><span style="color: #0000ff;">&gt;</span>
         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">el-table-column</span><span style="color: #0000ff;">&gt;</span>
         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">el-table-column
            </span><span style="color: #ff0000;">prop</span><span style="color: #0000ff;">="address"</span><span style="color: #ff0000;">
            label</span><span style="color: #0000ff;">="地址"</span><span style="color: #0000ff;">&gt;</span>
         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">el-table-column</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">el-table</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="pagination"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">el-pagination
            </span><span style="color: #ff0000;">@size-change</span><span style="color: #0000ff;">="handleSizeChange"</span><span style="color: #ff0000;">
            @current-change</span><span style="color: #0000ff;">="handleCurrentChange"</span><span style="color: #ff0000;">
            :page-sizes</span><span style="color: #0000ff;">="[10, 15, 20]"</span><span style="color: #ff0000;">
            :page-size</span><span style="color: #0000ff;">="pagesize"</span><span style="color: #ff0000;">
            layout</span><span style="color: #0000ff;">="total, sizes, prev, pager, next, jumper"</span><span style="color: #ff0000;">
            :total</span><span style="color: #0000ff;">="total"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">el-pagination</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">template</span><span style="color: #0000ff;">&gt;</span> </pre>
</div>
<div class="cnblogs_code">
<pre><code>&lt;script&gt;<span style="color: #000000;">
export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> {
    data(){
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">{
            stripe:</span><span style="color: #0000ff;">true</span><span style="color: #000000;">,//是否为斑马纹 table
            tableData: [],
            currentPage:</span>1<span style="color: #000000;">,
            pagesize:</span>10<span style="color: #000000;">,
            total:</span>0<span style="color: #000000;">,
        }
    },
    methods:{
        handleSizeChange(val) {
            </span><span style="color: #0000ff;">this</span>.pagesize=<span style="color: #000000;">val;
        },
        handleCurrentChange(val) {
            </span><span style="color: #0000ff;">this</span>.currentPage =<span style="color: #000000;"> val;
        },
    }
}
</span>&lt;script&gt;</pre>
</div>
<p>　　分页的核心是tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)这一句代码，利用了slice方法把数据源tableData进行分割，但实际上是请求了所有的数据，如图2所示，然后实现前端假分页显示。</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/ElementUi中el-table分页效果1.png" alt="" width="523" height="472" /></p>
<p>&nbsp;</p>
<p style="text-align: center;">&nbsp;<span style="font-size: 12px;">图2 实际tableData请求了所有的数据，共13条数据</span></p>
<p>　　还有一种分页的思想就是给后台传入如上的参数currentPage和pagesize的值，告诉后台，我们需要[(currentPage-1)*pagesize,currentPage*pagesize]这一个区间的数据，让后台返回来。</p>
<p>　　这两种方法各有利弊，如果是前者前端控制分页的方法，因为本质是<strong>请求了所有的数据</strong>，如果这个数据量非常大，涉及到了几百，几千甚至几万数据，第一页的table数据加载的时间就会非常慢，因为它把后面的数据都拿过来了，用户体验非常不好，对内存空间也很不友好。明明只显示了几十条的数据，却为此存了几万条的数据，就好比sql语句的select * from和select [需要的字段] from一样，明显后者的效率会好些。但是它也是有好处的，好处就是如果在数据量小的情况下，第一页table加载速度用户也能接受的情况下，用户之后点击切换页面按钮或者直接跳转到哪个页面都不需要发起请求即可显示出数据，速度非常快。</p>
<p>　　而后者后端控制分页的情况，每次切换页面都得发起请求，毕竟鱼和熊掌不可兼得，我们只能根据实际情况和用户需求做调整。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>