<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Express 框架' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Express 框架</center></div><div class='banquan'>原文出处:本文由博客园博主徐小禹_web提供。<br/>
原文连接:https://www.cnblogs.com/xuxiaoyu/p/10674013.html</div><br>
    <p><strong>Express</strong></p>
<p><strong>　</strong>　是一个简洁而灵活的 node.js Web应用框架, 提供了一系列强大特性帮助你创建各种 Web 应用，和丰富的 HTTP 工具。使用 Express 可以快速地搭建一个完整功能的网站。</p>
<p><strong>Express 框架核心特性：</strong></p>
<ul>
<li>
<p>可以设置中间件来响应 HTTP 请求。</p>
</li>
<li>
<p>定义了路由表用于执行不同的 HTTP 请求动作。</p>
</li>
<li>
<p>可以通过向模板传递参数来动态渲染 HTML 页面</p>
</li>
</ul>
<p><strong>安装方式分为两种:</strong></p>
<p>　　1. npm install 在node.js平台安装 安装后系统自动生成package.json文件</p>
<p>　　2. 直接写package.json文件在进行npm install安装</p>
<p><strong>基本用法：</strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">开启服务器</span>
<span style="color: #0000ff;">var</span> express = require('express'<span style="color: #000000;">);
</span><span style="color: #008000;">//</span><span style="color: #008000;">当且仅当请求为get 方法 且路径符合时，才会触发相应的路由--也就是触发指定路径的指定方法</span>
<span style="color: #0000ff;">var</span> express =<span style="color: #000000;"> require();
</span><span style="color: #0000ff;">var</span> app =<span style="color: #000000;"> express();
app.get(</span>'/',<span style="color: #0000ff;">function</span><span style="color: #000000;">(res,req){
  res.send(</span>'Hello world!'<span style="color: #000000;">);
});
app.get(</span>'/customer',<span style="color: #0000ff;">function</span><span style="color: #000000;">(res,req){
  res.send(</span>'customer pase'<span style="color: #000000;">);
})
app.get(</span>'/admin',<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
  res.send(</span>'admin page'<span style="color: #000000;">);
});
</span><span style="color: #008000;">//</span><span style="color: #008000;">监听端口号3000</span>
app.listen(3000);</pre>
</div>
<p>&nbsp;</p>
<h2>中间件</h2>
<h3><strong>（1）</strong><strong>挂载中间件的函数：</strong><strong>app.use</strong></h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> http = require('http'<span style="color: #000000;">);

</span><span style="color: #0000ff;">var</span> express = require('express'<span style="color: #000000;">);

</span><span style="color: #0000ff;">var</span> app =<span style="color: #000000;"> express();

使用自定义中间件

app.use(</span>'/',<span style="color: #0000ff;">function</span><span style="color: #000000;">(req , res , next){

     console.log(&lsquo;这是自定义中间件&rsquo;)

     next();  调用next表示执行后续的中间件代码

});

使用static中间件加载静态资源

app.use(</span>'/', express.static(__dirname + "/statics"<span style="color: #000000;">));

app.get(</span>'/index', <span style="color: #0000ff;">function</span><span style="color: #000000;">(req, res) {

    res.send(</span>"hello browser"<span style="color: #000000;">)

    res.end();

})

http.createServer(app).listen(</span>3000,<span style="color: #0000ff;">function</span><span style="color: #000000;">(err) {

        </span><span style="color: #0000ff;">if</span>(err) <span style="color: #0000ff;">throw</span><span style="color: #000000;"> err;

        console.log(</span>'服务器连接成功'<span style="color: #000000;">);

})</span></pre>
</div>
<p>&nbsp;</p>
<h3><strong>（2）&nbsp;</strong><strong>基础</strong><strong>中间件介绍</strong></h3>
<p><strong>　　</strong>（1）static静态资源处理中间件</p>
<p>　　（2）logger获取浏览器基本信息中间件</p>
<p>　　（3）bodyParser通过post方法提交的数据解析中间件</p>
<p>　　（4）query通过get方法提交的数据解析中间件</p>
<p>　　（5）cookieParser用户状态保存cookie解析中间件</p>
<p>　　（6）session启用session管理用户状态中间件</p>
<p>　　（7）favicon网站图标处理中间件</p>
<h2>静态文件</h2>
<p>Express 提供了内置的中间件<strong>&nbsp;express.static&nbsp;</strong>来设置静态文件如：图片， CSS, JavaScript 等。</p>
<p>你可以使用<strong>&nbsp;express.static&nbsp;</strong>中间件来设置静态文件路径。例如，如果你将图片， CSS, JavaScript 文件放在 public 目录下，你可以这么写：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> express = require('express'<span style="color: #000000;">);
</span><span style="color: #0000ff;">var</span> app =<span style="color: #000000;"> express();
 
app.use(express.static(</span>'public'<span style="color: #000000;">));
 
app.get(</span>'/', <span style="color: #0000ff;">function</span><span style="color: #000000;"> (req, res) {
   res.send(</span>'Hello World'<span style="color: #000000;">);
})
 
</span><span style="color: #0000ff;">var</span> server = app.listen(8081, <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
 
  </span><span style="color: #0000ff;">var</span> host =<span style="color: #000000;"> server.address().address
  </span><span style="color: #0000ff;">var</span> port =<span style="color: #000000;"> server.address().port
 
  console.log(</span>"应用实例，访问地址为 http://%s:%s"<span style="color: #000000;">, host, port)
 
})</span></pre>
</div>
<p>&nbsp;</p>
<h2 align="left"><strong>ejs</strong><strong>模板引擎</strong></h2>
<p>简单高效的模板语言，通过数据和模板，可以生成HTML标记文本</p>
<p>ejs特点：</p>
<p>　　（1）快速编译和渲染</p>
<p>　　（2）简单的模板标签</p>
<p>　　（3）自定义标记分隔符</p>
<p>　　（4）文件的包含</p>
<p>　　（5）支持浏览器端和服务器端</p>
<p>　　（6）模板静态缓存</p>
<p>　　（7）支持express视图系统</p>
<h3>① ejs成员函数</h3>
<p>　　（1）Render(str,data,[option])：直接渲染字符串生成HTML</p>
<p>　　　　str：需要解析的字符串模板</p>
<p>　　　　data：数据</p>
<p>　　　　[option]：配置选项</p>
<p>　　（2）Compile(str ,[option])：编译字符串得到模板函数</p>
<p>　　　　str：需要解析的字符串模板</p>
<p>　　　　[option]：配置选项</p>
<p>　　　　[option]中的相关参数可以查阅文档了解使用方法</p>
<h3>②&nbsp;ejs常用标签</h3>
<p>　　（1）&lt;% &nbsp;%&gt;流程控制标签（中间写语句）</p>
<p>　　（2）&lt;%= &nbsp;%&gt;输出标签（原文输出HTML标签，中间写变量）</p>
<p>　　（3）&lt;%- &nbsp;%&gt;输出标签（HTML会被浏览器解析）</p>
<p>　　（4）&lt;%# &nbsp;%&gt;注释标签</p>
<p>　　（5）%对标记转义</p>
<p>　　（6）-%&gt;去除没有意义的空格</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>