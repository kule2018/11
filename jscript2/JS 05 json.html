<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JS 05 json' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JS 05 json</center></div><div class='banquan'>原文出处:本文由博客园博主___mouM提供。<br/>
原文连接:https://www.cnblogs.com/aknife/p/10816832.html</div><br>
    <div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">1.下载jar包：</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">https://www.github.com/alibaba/fastjson/releases</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">https://www.mvnrepository.com/artifact/com.alibaba/fastjson</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">2.选取一个版本，点击下载jar</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">&nbsp;</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">3.在项目下新建lib文件夹，将下载好的jar包拷贝至该目下 ：lib/fastjson-1.2.47.jar</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">&nbsp;</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">4.将jar添加到环境变量下：</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">右键jar包--&gt; build Path --&gt; add to build path</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">&nbsp;</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">5.使用</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">重要的类：JSON</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">1.将json格式的字符串转化为java中的一个对象</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">parseObject()</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">2.将java中的一个对象转化为json格式的字符串</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">toJSONString()</div>
<div style="white-space: pre-wrap; text-align: left; line-height: 1.75; font-size: 14px;">
<div class="cnblogs_code">
<pre><code>    String p1 = "{\"name\": \"lisi\", \"age\": 18}"<span style="color: #000000;">;
    </span><span style="color: #008000;">/*</span><span style="color: #008000;">Person p = new Person();

        String pno = p1.substring(1, p1.length() - 1);
        System.out.println(pno);
        
        String[] split = pno.split(",");
        
        String[] name = split[0].split(":");
        p.setName(name[1].trim());
        String[] age = split[1].split(":");
        p.setAge(Integer.parseInt(age[1].trim()));
        
        System.out.println(p);</span><span style="color: #008000;">*/</span><span style="color: #000000;">
        
        Person p </span>=<span style="color: #000000;"> JSON.parseObject(p1,Person.class);
        System.out.println(p);
        
        
        Person p2 </span>= <span style="color: #0000ff;">new</span> Person("laowang", 30<span style="color: #000000;">);
        String result </span>=<span style="color: #000000;"> JSON.toJSONString(p2);
        System.out.println(result);
        
        </span><span style="color: #008000;">//</span><span style="color: #008000;">接受来自js的数据</span>
        <span style="color: #008000;">//</span><span style="color: #008000;">给js发送数据</span>
  
        <span style="color: #008000;">//</span><span style="color: #008000;">将js中的数组字符串，转化为java中的List</span>
        String l1 = "[{\"name\":\"laowang\",\"age\":18},{\"name\":\"laoma\",\"age\":30}]"<span style="color: #000000;">;
        List</span>&lt;Person&gt; list =<span style="color: #000000;"> JSON.parseArray(l1, Person.class);
        System.out.println(list.get(</span>0<span style="color: #000000;">));
        System.out.println(list.get(</span>1<span style="color: #000000;">));
        
        </span><span style="color: #008000;">//</span><span style="color: #008000;">将java的list转化为json格式的数组字符串</span>
        List l2 = <span style="color: #0000ff;">new</span> ArrayList&lt;&gt;<span style="color: #000000;">();
        l2.add(</span><span style="color: #0000ff;">new</span> Person("zhangsan", 5<span style="color: #000000;">));
        l2.add(</span><span style="color: #0000ff;">new</span> Person("lisi", 6<span style="color: #000000;">));
        String result2 </span>=<span style="color: #000000;"> JSON.toJSONString(l2);
        System.out.println(result2);</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>