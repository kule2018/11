<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript Drum kit' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript Drum kit</center></div><div class='banquan'>原文出处:本文由博客园博主鸥麦さん提供。<br/>
原文连接:https://www.cnblogs.com/lonelyWMW/p/11749427.html</div><br>
    <p>用 JavaScript 实现网页鼓乐器，相关的初始代码在 JavaScript30 官网和 GitHub 上已经存在。我把 sound 文件夹下的音频全部替换掉了，一些相关解释也直接在注释中标明。</p>
<p>下面是最终成品地址，可能有些卡顿，音频加载也比较慢：</p>
<p><i><a href="https://gullrye.github.io/js/index.html" target="_blank">结果展示</a></i></p>
<p><strong>index.html:</strong></p>
<pre><code><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;JS Drum Kit&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div class=&quot;keys&quot;&gt;
    &lt;div data-key=&quot;65&quot; class=&quot;key&quot;&gt;
      &lt;!--&lt;kbd&gt; 标签定义键盘文本--&gt;
      &lt;kbd&gt;A&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;clock&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;83&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;S&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;pin&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;68&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;D&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;gong&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;70&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;F&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;ding-dong&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;71&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;G&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;pulse&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;72&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;H&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;robot&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;74&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;J&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;wooden fish&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;75&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;K&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;toaster&lt;/span&gt;
    &lt;/div&gt;
    &lt;div data-key=&quot;76&quot; class=&quot;key&quot;&gt;
      &lt;kbd&gt;L&lt;/kbd&gt;
      &lt;span class=&quot;sound&quot;&gt;bell&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;audio data-key=&quot;65&quot; src=&quot;sound/clock.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;83&quot; src=&quot;sound/pin.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;68&quot; src=&quot;sound/gong.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;70&quot; src=&quot;sound/ding-dong.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;71&quot; src=&quot;sound/pulse.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;72&quot; src=&quot;sound/robot.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;74&quot; src=&quot;sound/wooden fish.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;75&quot; src=&quot;sound/toaster.mp3&quot;&gt;&lt;/audio&gt;
  &lt;audio data-key=&quot;76&quot; src=&quot;sound/bell.mp3&quot;&gt;&lt;/audio&gt;

  &lt;script&gt;
    function removeTransition(e) {
      if (e.propertyName !== &#39;transform&#39;) return;
      e.target.classList.remove(&#39;playing&#39;);
    }

    function playSound(e) {
      const audio = document.querySelector(`audio[data-key=&quot;${e.keyCode}&quot;]`);
      const key = document.querySelector(`div[data-key=&quot;${e.keyCode}&quot;]`);
      if (!audio) return;

      key.classList.add(&#39;playing&#39;);
      audio.currentTime = 0;
      audio.play();
    }
    const keys = Array.from(document.querySelectorAll(&#39;.key&#39;));
    keys.forEach(key =&gt; key.addEventListener(&#39;transitionend&#39;,
      removeTransition));
    window.addEventListener(&#39;keydown&#39;, playSound);

    /*
    1. forEach() 方法用于调用数组的每个元素，并将元素传递给回调数。
    语法：array.forEach(function(currentValue, index, arr),thisValue)
    2. addEventListener() 方法用于向指定元素添加事件句柄。
    element.addEventListener(event, function, useCapture)
    transitionend：该事件在 CSS 完成过渡后触发。
    3. 箭头函数
    x =&gt; x * x
    上面的箭头函数相当于：
    function (x) {
        return x * x;
    }
    */
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p><strong>style.css:</strong></p>
<pre><code><code>html {
  font-size: 10px;
  background: white bottom center;
}

body,
html {
  margin: 0;
  padding: 0;
  font-family: sans-serif;
}

.keys {
  display: flex;
  flex: 1;  /*让所有弹性盒模型对象的子元素都有相同的长度，且忽略它们内部的内容*/
  min-height: 100vh;
  /*align-items 属性定义flex子项在flex容器的当前行的侧轴（纵轴）方向上的对齐方式*/
  align-items: center;
  justify-content: center;  /*元素在页面主轴上的排列，此处居中*/
}

.key {
  border: 4px solid black;
  border-radius: .5rem;
  margin: 1rem;
  font-size: 1.5rem;
  padding: 1rem .5rem;
  transition: all .07s ease;  
  /*
  语法 transition: property duration timing-function delay;
  transition-property   规定设置过渡效果的 CSS 属性的名称。
  transition-duration   规定完成过渡效果需要多少秒或毫秒。
  transition-timing-function    规定速度效果的速度曲线。
  transition-delay  定义过渡效果何时开始。
  */
  width: 10rem;
  text-align: center;
  color: white;
  background: rgba(0, 0, 0, 0.5);
  text-shadow: 0 0 .5rem black;
  /*语法 text-shadow: h-shadow v-shadow blur color; */
}

.playing {
  transform: scale(1.1);
  border-color: #ffc600;
  box-shadow: 0 0 1rem #ffc600;
}

kbd {
  display: block;
  font-size: 4rem;
}

.sound {
  font-size: 1.2rem;
  text-transform: uppercase;
  letter-spacing: .1rem;
  color: greenyellow;
}</code></pre>
<p>参考：<br />
<a href="https://github.com/soyaine/JavaScript30/tree/master/01%20-%20JavaScript%20Drum%20Kit" target="_blank">JavaScript Drum Kit 中文指南</a></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>