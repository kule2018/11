<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript Timing 事件及两种时钟写法' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript Timing 事件及两种时钟写法</center></div><div class='banquan'>原文出处:本文由博客园博主子钦加油提供。<br/>
原文连接:https://www.cnblogs.com/zmdComeOn/p/10979497.html</div><br>
    <h3><strong>JavaScript 可以在时间间隔内执行。</strong></h3>
<h3><strong>这就是所谓的定时事件（ Timing Events）。</strong></h3>
<p><strong>--------------------------------------------------------------------------------------------------------------------------------------------</strong></p>
<h2>Timing 事件</h2>
<p>window 对象允许以指定的时间间隔执行代码。</p>
<p>这些时间间隔称为定时事件。</p>
<p>通过 JavaScript 使用的有两个关键的方法：</p>
<dl class="define"><dt><span style="color: #ff0000;">setTimeout(<em>function</em>,&nbsp;<em>milliseconds</em>)</span></dt><dd><span style="color: #000000;">在等待指定的毫秒数后执行函数。</span></dd><dt><span style="color: #ff0000;">setInterval(<em>function</em>,&nbsp;<em>milliseconds</em>)</span></dt><dd><span style="color: #ff0000;"><span style="color: #000000;">等同于 setTimeout()，</span>但持续重复执行该函数，可以用来写时钟，详情见下方例子</span></dd></dl>
<p><span class="code_marked">setTimeout()&nbsp;和&nbsp;<span class="code_marked">setInterval()&nbsp;都属于 HTML DOM Window 对象的方法。</span></span></p>
<div>
<h2>setTimeout() 方法</h2>
<pre><code>window.setTimeout(<em>function</em>, <em>milliseconds</em>);</pre>
<p><span class="code_marked">window.setTimeout()&nbsp;方法可以不带&nbsp;<span class="code_marked">window&nbsp;前缀来编写。</span></span></p>
<p>第一个参数是要执行的函数。</p>
<p>第二个参数指示执行之前的毫秒数。</p>
<h3>实例</h3>
<p>单击按钮。等待 3 秒，然后页面会提示 "Hello"：</p>
<pre><code>&lt;button onclick="setTimeout(myFunction, 3000)"&gt;试一试&lt;/button&gt;

&lt;script&gt;
function myFunction() {
    alert('Hello');
 }
&lt;/script&gt;</pre>
<h3 class="tiy"><span style="text-decoration: underline;"><em>完整实例：</em></span></h3>
<div class="cnblogs_Highlighter">
<pre class="brush:html;gutter:true;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;p&gt;点击&ldquo;试一试&rdquo;。等待 3 秒钟，页面将提示&ldquo;Hello&rdquo;。&lt;/p&gt;

&lt;button onclick="setTimeout(myFunction, 3000);"&gt;试一试&lt;/button&gt;

&lt;script&gt;
function myFunction() {
  alert('Hello');
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
<p>--------------------------------------------------------------------------------------------------------------------------------------------</p>
</div>
<div>
<h2>如何停止执行？</h2>
<p><span class="code_marked">clearTimeout()&nbsp;方法停止执行&nbsp;<span class="code_marked">setTimeout()&nbsp;中规定的函数。</span></span></p>
<pre><code>window.clearTimeout(<em>timeoutVariable</em>)</pre>
<p><span class="code_marked">window.clearTimeout()&nbsp;方法可以不带&nbsp;<span class="code_marked">window&nbsp;前缀来写。</span></span></p>
<p><span class="code_marked">clearTimeout()&nbsp;使用从&nbsp;<span class="code_marked">setTimeout()&nbsp;返回的变量：</span></span></p>
<pre><code>myVar = setTimeout(<em>function</em>, <em>milliseconds</em>);
clearTimeout(myVar);
</pre>
<h3>实例</h3>
<p>类似上例，但是添加了&ldquo;停止&rdquo;按钮：</p>
<pre><code>&lt;button onclick="myVar = setTimeout(myFunction, 3000)"&gt;试一试&lt;/button&gt;

&lt;button onclick="clearTimeout(myVar)"&gt;停止执行&lt;/button&gt;</pre>
<h3 class="tiy"><span style="text-decoration: underline;"><em>完整实例：</em></span></h3>
<div class="cnblogs_Highlighter">
<pre class="brush:html;gutter:true;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;p&gt;点击&ldquo;试一试&rdquo;。等 3 秒。该页面将提醒&ldquo;Hello&rdquo;。&lt;/p&gt;

&lt;p&gt;单击&ldquo;停止&rdquo;以阻止第一个函数执行。&lt;/p&gt;

&lt;p&gt;（在 3 秒钟之前，您必须单击&ldquo;停止&rdquo;。）&lt;/p&gt;

&lt;button onclick="myVar = setTimeout(myFunction, 3000)"&gt;试一试&lt;/button&gt;

&lt;button onclick="clearTimeout(myVar)"&gt;停止&lt;/button&gt;

&lt;script&gt;
function myFunction() {
  alert("Hello");
}
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
</div>
<div>
<h2>---------------------------------------------------------------------------------------------</h2>
<h2>setInterval() 方法</h2>
<p><span class="code_marked" style="color: #ff0000;">setInterval()&nbsp;方法在每个给定的时间间隔重复给定的函数。</span></p>
<pre><code>window.setInterval(<em>function</em>, <em>milliseconds</em>);</pre>
<p><span class="code_marked">window.setInterval()&nbsp;方法可以不带&nbsp;<span class="code_marked">window&nbsp;前缀来写。</span></span></p>
<p>第一个参数是要执行的函数。</p>
<p>第二个参数每个执行之间的时间间隔的长度。</p>
<p>本例每秒执行一次函数 "myTimer"（就像数字手表）。</p>
<h3>实例</h3>
<p>显示当前时间：</p>
<pre><code>var myVar = setInterval(myTimer, 1000);
 
function myTimer() {
    var d = new Date();
    document.getElementById("demo").innerHTML = d.toLocaleTimeString();
}</pre>
<h3>完整实例</h3>
<div class="cnblogs_Highlighter">
<pre class="brush:html;gutter:true;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;p&gt;此页面上的脚本启动这个时钟：&lt;/p&gt;

&lt;p id="demo"&gt;&lt;/p&gt;

&lt;script&gt;
var myVar = setInterval(myTimer, 1000);

function myTimer() {
  var d = new Date();
  document.getElementById("demo").innerHTML = d.toLocaleTimeString();
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p>一秒有 1000 毫秒。</p>
<p>--------------------------------------------------------------------------------------------------------------------------------------------</p>
</div>
<div>
<h2>如何停止执行？</h2>
<p><span class="code_marked">clearInterval()&nbsp;方法停止&nbsp;<span class="code_marked">setInterval()&nbsp;方法中指定的函数的执行。</span></span></p>
<pre><code>window.clearInterval(<em>timerVariable</em>)</pre>
<p><span class="code_marked">window.clearInterval()&nbsp;方法可以不带 window 前缀来写。</span></p>
<p><span class="code_marked">clearInterval()&nbsp;方法使用从&nbsp;<span class="code_marked">setInterval()&nbsp;返回的变量：</span></span></p>
<pre><code><span style="color: #ff0000;">myVar = setInterval(<em>function</em>, <em>milliseconds</em>);
clearInterval(myVar);
</span></pre>
<h3>实例</h3>
<p>类似上例，但是我们添加了一个&ldquo;停止时间&rdquo;按钮：</p>
<pre><code>&lt;p id="demo"&gt;&lt;/p&gt;

&lt;button onclick="clearInterval(myVar)"&gt;停止时间&lt;/button&gt;

&lt;script&gt;
var myVar = setInterval(myTimer, 1000);
 function myTimer() {
    var d = new Date();
    document.getElementById("demo").innerHTML = d.toLocaleTimeString();
}
&lt;/script&gt;</pre>
<h3 class="tiy"><span style="text-decoration: underline;"><em>完整实例：</em></span></h3>
<div class="cnblogs_Highlighter">
<pre class="brush:html;gutter:true;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;p&gt;此页面上的脚本启动这个时钟：&lt;/p&gt;

&lt;p id="demo"&gt;&lt;/p&gt;

&lt;button onclick="clearInterval(myVar)"&gt;停止时间&lt;/button&gt;

&lt;script&gt;
var myVar = setInterval(myTimer ,1000);
function myTimer() {
  var d = new Date();
  document.getElementById("demo").innerHTML = d.toLocaleTimeString();
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
<p>　</p>
</div>
<div class="example">
<h2>更多实例</h2>
<dl><dt><span style="color: #3366ff;">另一个简单的计时</span></dt><dt></dt></dl>
<div class="cnblogs_Highlighter">
<pre class="brush:html;gutter:true;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;button onclick="timedText()"&gt;试一试&lt;/button&gt;

&lt;p id="demo"&gt;点击&ldquo;试一试&rdquo;。我将在两秒，四秒和六秒过后显示。&lt;/p&gt;

&lt;script&gt;
function timedText() {
  setTimeout(myTimeout1, 2000) 
  setTimeout(myTimeout2, 4000) 
  setTimeout(myTimeout3, 6000) 
}
function myTimeout1() {
  document.getElementById("demo").innerHTML = "2 秒";
}
function myTimeout2() {
  document.getElementById("demo").innerHTML = "4 秒";
}
function myTimeout3() {
  document.getElementById("demo").innerHTML = "6 秒";
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<dl><dt></dt><dt><span style="color: #3366ff;"><span style="color: #3366ff;">由计时时间创建的时钟</span></span></dt><dt></dt></dl>
<div class="cnblogs_Highlighter">
<pre class="brush:html;gutter:true;">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script&gt;
function startTime() {
  var today = new Date();
  var h = today.getHours();
  var m = today.getMinutes();
  var s = today.getSeconds();
  m = checkTime(m);
  s = checkTime(s);
  document.getElementById('txt').innerHTML =
  h + ":" + m + ":" + s;
  var t = setTimeout(startTime, 500);
}
function checkTime(i) {
  if (i &lt; 10) {i = "0" + i};  // 在数字 &lt; 10 之前加零
  return i;
}
&lt;/script&gt;
&lt;/head&gt;

&lt;body onload="startTime()"&gt;

&lt;div id="txt"&gt;&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
<dl><dt></dt></dl>
<p>　　</p>
<dl><dt></dt><dt></dt></dl></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>