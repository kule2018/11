<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript 对象（上）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript 对象（上）</center></div><div class='banquan'>原文出处:本文由博客园博主贵志提供。<br/>
原文连接:https://www.cnblogs.com/lemonyam/p/10671427.html</div><br>
    <p><strong><span style="font-size: 14pt;">简述：</span></strong></p>
<p><span style="font-size: 15px;">　　1、是 JavaScript 的<strong>基本类型</strong></span></p>
<p><span style="font-size: 15px;">　　2、是一种<strong>复合值</strong>，可通过名字访问这些值</span></p>
<p><span style="font-size: 15px;">　　3、可看作属性的<strong>无序集合</strong>，每个属性都是一个名/值对（属性名是<strong>字符串或标识符</strong>）</span></p>
<p><span style="font-size: 15px;">　　4、可以从一个称为<strong>原型</strong>的对象继承属性（核心特征）</span></p>
<p><span style="font-size: 15px;">　　5、是动态的，可新增或删除属性，操作对象是通过<strong>引用</strong>而不是值</span></p>
<p><span style="font-size: 15px;">　　6、属性名可以是包含空字符在内的任意字符串，但对象中不能存在两个或多个同名属性；非严格模式下允许，但后者会覆盖前者的值</span></p>
<p><em><span style="font-size: 15px; color: #ff0000;">注：除了字符串、数字、true、false、null 和 undefined 之外，JavaScript 中的值都是对象</span></em></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt;">原型：</span></strong></p>
<p>　<span style="font-size: 15px;">　1、大部分 JavaScript 对象都和另一个对象（原型）相关联，每个对象都从原型<strong>继承</strong>属性</span></p>
<p><span style="font-size: 15px;">　　2、可以通过 JavaScript 代码 Object.prototype 获得对其原型对象的<strong>引用</strong></span></p>
<p><span style="font-size: 15px;">　　3、所有通过对象<strong>直接量</strong>创建的对象都具有<strong>同一个</strong>原型对象，使用相同构造函数的对象也具有同一个原型对象</span></p>
<p><span style="font-size: 15px;">　　4、所有的内置构造函数（以及大部分自定义的构造函数）都具有一个继承自 Object.prototype 的原型</span></p>
<p><span style="font-size: 15px;">　　5、一个普通对象的原型可能也有原型，而这一系列链接的原型对象就是&rdquo;<strong>原型链</strong>&ldquo;</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt;">创建对象：</span></strong></p>
<p><span style="font-size: 15px;">　　1、对象直接量：由若干名/值对组成的<strong>映射表</strong>，名/值对中间用<strong>冒号</strong>分隔，名/值对之间用<strong>逗号</strong>分隔，整个映射表用<strong>花括号</strong>括起来</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 对象里面的属性值可以是对象</span>
let obj = {"name": "Yam", "other": {"weight": "yyy", "high": "xxx"}, "age": 200<span style="color: #000000;">};
console.log(obj[</span>"other"]["high"]);  <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 xxx<br /></span>console.log(obj.other.high);</pre>
</div>
<p><span style="font-size: 15px; color: #ff0000;">注：对象直接量是一个<strong>表达式</strong>，这个表达式的每次运算都创建并初始化一个<strong>新的</strong>对象</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 15px;">　　2、关键字 new：关键字后跟随一个函数（构造函数）调用，用以初始化一个新创建的对象</span></p>
<div class="cnblogs_code">
<pre><code>let arr = <span style="color: #0000ff;">new</span> Array();    <span style="color: #008000;">//</span><span style="color: #008000;"> 创建一个空数组</span>
let date = <span style="color: #0000ff;">new</span> Date();    <span style="color: #008000;">//</span><span style="color: #008000;"> 创建一个表示当前时间的 Date 对象</span></pre>
</div>
<p>&nbsp;</p>
<p>　<span style="font-size: 15px;">　3、Object.create(proto [, more])：创建一个新对象，第一个参数为这个对象的原型，第二个参数可对对象的属性进行进一步描述</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> ES5 定义的</span>
let obj = Object.create({"x": 1, "y": 2<span style="color: #000000;">});
console.log(obj.x);  </span><span style="color: #008000;">//</span><span style="color: #008000;"> 输出 1</span></pre>
</div>
<p>&nbsp;</p>
<p><span style="color: #000000;"><strong><span style="font-size: 14pt;">属性查询和设置：</span></strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> inherit 函数来自 JavaScript 权威指南</span>

<span style="color: #0000ff;">function</span><span style="color: #000000;"> inherit(p) {
    </span><span style="color: #0000ff;">if</span> (p == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">throw</span><span style="color: #000000;"> TypeError();
    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (Object.create)
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> Object.create(p);
    let t </span>= <span style="color: #0000ff;">typeof</span><span style="color: #000000;"> p;
    </span><span style="color: #0000ff;">if</span> (t != "object" &amp;&amp; t != "function"<span style="color: #000000;">)
        </span><span style="color: #0000ff;">throw</span><span style="color: #000000;"> TypeError();
    </span><span style="color: #0000ff;">function</span> f() {};    <span style="color: #008000;">//</span><span style="color: #008000;"> 定义一个空构造函数</span>
    f.prototype =<span style="color: #000000;"> p;
    </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span> f(); <span style="color: #008000;">//</span><span style="color: #008000;"> 使用 f() 创建 p 的继承对象</span>
<span style="color: #000000;">}

let o </span>=<span style="color: #000000;"> {};
o.x </span>= 1<span style="color: #000000;">;
let p </span>=<span style="color: #000000;"> inherit(o);
p.y </span>= 2<span style="color: #000000;">;
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 属性赋值操作首先会检查原型链，以此判断是否允许赋值</span><span style="color: #008000;">
//</span><span style="color: #008000;"> 赋值时也只是在原始对象上创建属性或对已有属性赋值，而不会修改原型链</span><span style="color: #008000;">
//</span><span style="color: #008000;"> 属性赋值要么失败，要么创建一个属性，要么在原始对象中设置属性</span>
p.x = 3<span style="color: #000000;">;
console.log(o.x);   </span><span style="color: #008000;">//</span><span style="color: #008000;"> 输出 1</span><span style="color: #008000;">
//</span><span style="color: #008000;"> 属性访问可以通过点或方括号来操作</span>
console.log(p["x"] + p.y);  <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 5</span>

<span style="color: #008000;">//</span><span style="color: #008000;"> 非严格模式下查询一个不存在的属性并不会报错</span>
<span style="color: #000000;">console.log(p.z);   
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 但如果对象本身不存在，那么查询这个不存在的对象的属性就会报错（undefined、null）</span><span style="color: #008000;">
//</span><span style="color: #008000;"> console.log(p.z.i);    // 报错</span></pre>
</div>
<p><span style="font-size: 15px; color: #ff0000;">注： 1、不能给只读属性重新赋值</span></p>
<p><span style="font-size: 15px; color: #ff0000;">　　 2、不能通过同名自有属性覆盖只读的继承属性</span></p>
<p><span style="font-size: 15px; color: #ff0000;">　　 3、如果对象 obj 不可扩展，那么不能在 obj 中定义新属性</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt;">删除属性：</span></strong></p>
<p>&nbsp;　　<span style="font-size: 15px;">1、delete 运算符可以删除对象的属性，但只是断开属性和宿主对象的联系，而不会去操作属性中的属性</span></p>
<p><span style="font-size: 15px;">　　2、delete 运算符只能删除自有属性，而不能删除继承属性</span></p>
<p><span style="font-size: 15px;">　　3、delete 删除成功或者没有任何副作用时，它返回 true；若它后面不是一个属性访问表达式，同样会返回 true！！！</span></p>
<p><span style="font-size: 15px;">　　4、不能删除那些可配置性为 false 的属性，但可以删除不可扩展对象的可配置属性，非严格模式下返回 false，严格模式报错</span></p>
<div class="cnblogs_code">
<pre><code>let par = {"q": 10<span style="color: #000000;">};
let a </span>=<span style="color: #000000;"> Object.create(par);
a.p </span>= {"x": 1<span style="color: #000000;">};
let b </span>=<span style="color: #000000;"> a.p;
</span><span style="color: #0000ff;">delete</span> a.p; <span style="color: #008000;">//</span><span style="color: #008000;"> delete 只断开属性和宿主对象的联系，而不会去操作属性中的属性，可能会造成内存泄漏</span>
console.log(b.x);   <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 1</span>
<span style="color: #000000;">
console.log(</span><span style="color: #0000ff;">delete</span> a.q);    <span style="color: #008000;">//</span><span style="color: #008000;"> 什么也没做，输出 true</span>
console.log(a.q);   <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 10</span>
console.log(<span style="color: #0000ff;">delete</span> a.t);    <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 true</span>
console.log(<span style="color: #0000ff;">delete</span> 20); <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 true</span>
<span style="color: #000000;">
console.log(</span><span style="color: #0000ff;">delete</span> Object.prototype);   <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 false</span>
console.log(<span style="color: #0000ff;">delete</span> b);  <span style="color: #008000;">//</span><span style="color: #008000;"> 删除一个通过变量声明或函数声明（var 和 let）的对象会返回 false</span></pre>
</div>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt;">检测属性：</span></strong></p>
<p><span style="font-size: 15px;">　　1、运算符 in：左侧为属性名，右侧为对象，若对象的自有属性或继承属性中包含这个属性，则返回 true</span></p>
<p><span style="font-size: 15px;">　　2、hasOwnProperty() 方法：检测给定属性是不是对象的自有属性</span></p>
<p><span style="font-size: 15px;">　　3、propertyIsEnumerable() 方法：检测属性是不是自有属性且可枚举</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 若对象的自有属性或继承属性中包含这个属性，则返回 true</span>
let ino = {"x": 1<span style="color: #000000;">};
console.log(</span>"x" <span style="color: #0000ff;">in</span> ino);    <span style="color: #008000;">//</span><span style="color: #008000;"> true</span>
console.log("toString" <span style="color: #0000ff;">in</span> ino); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span>
console.log("y" <span style="color: #0000ff;">in</span> ino);    <span style="color: #008000;">//</span><span style="color: #008000;"> false</span>

<span style="color: #008000;">//</span><span style="color: #008000;"> 检测给定属性是不是对象的自有属性</span>
console.log(ino.hasOwnProperty("toString"));    <span style="color: #008000;">//</span><span style="color: #008000;"> false</span>

<span style="color: #008000;">//</span><span style="color: #008000;"> 检测属性是不是自有属性且可枚举</span>
console.log(ino.propertyIsEnumerable("x")); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span>
console.log(Object.prototype.propertyIsEnumerable("toString"));  <span style="color: #008000;">//</span><span style="color: #008000;"> 不可枚举，false</span></pre>
</div>
<p><span style="color: #ff0000;"><em><span style="font-size: 15px;">注：可以使用 "attr !== undefined;" 来判断属性是否存在，但若属性存在且值为 undefined，则只能使用 in</span></em></span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt;">枚举属性：</span></strong></p>
<p><span style="font-size: 15px;">　　1、for/in 循环可以在循环体中遍历对象中所有可枚举的属性（包括自有属性和继承属性），并把<strong>属性名</strong>赋值给循环变量</span></p>
<p><span style="font-size: 15px;">　　2、ES5 定义了 Object.keys()，它返回一个由对象中可枚举的<strong>自有属性</strong>的名称组成的数组</span></p>
<p><span style="font-size: 15px;">　　3、ES5 定义了 Object.getOwnPropertyNames()，它返回对象的<strong>所有自有属性</strong>的名称，而不仅仅是可枚举属性</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>let foro = {"x": 1, "y": 2<span style="color: #000000;">};
</span><span style="color: #0000ff;">for</span> (let temp <span style="color: #0000ff;">in</span><span style="color: #000000;"> foro)
    console.log(temp);  </span><span style="color: #008000;">//</span><span style="color: #008000;"> 输出 x y</span>
console.log(Object.keys(foro)); <span style="color: #008000;">//</span><span style="color: #008000;"> 输出 ['x', 'y']</span>
console.log(Object.getOwnPropertyNames(Object.prototype));</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>