<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修JavaScript正则表达式' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>JavaScript正则表达式</center></div><div class='banquan'>原文出处:本文由博客园博主张最棒提供。<br/>
原文连接:https://www.cnblogs.com/jiaobaba/p/12034260.html</div><br>
    <p><span style="color: #99ccff; font-size: 18px; background-color: #fdfec2;"><strong><span style="font-family: 仿宋;">创建正则表达式</span></strong></span></p>
<p><strong><span style="font-family: 仿宋; font-size: 18px; color: #000000;">使用字面量形式创建：</span></strong></p>
<p><span style="font-family: 仿宋; font-size: 18px;">var pattern = /pattern/g || i || m;</span></p>
<p><span style="font-family: 仿宋; font-size: 18px;">/pattern/：两个反斜杠里面是你要匹配的规则。</span></p>
<p><span style="font-family: 仿宋; font-size: 18px;">g:匹配所有字符，而非发现第一个匹配项时立即停止。</span></p>
<p><span style="font-family: 仿宋; font-size: 18px;">i:不区分大小写。</span></p>
<p><span style="font-family: 仿宋; font-size: 18px;">m:多行匹配。 当在字符串使用\n换行，但在正则中还是把它看成一行进行匹配，如下代码匹配以a开头的字符，使用\n后应该是配到2个以a开头的字符，但是只匹配到一个a.当加上m使用多行匹配，就可以匹配到两个以a开头的字符。</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var str = "abcde\naf";
var reg = /^a/gm;
str.match(reg);  //match返回匹配结果的数组。 不加 m["a"],加 m["a","a"];</span></pre>
</div>
<p>&nbsp;<span style="font-family: 仿宋; font-size: 18px;">g,i,m可以任意搭配。</span></p>
<p><strong><span style="font-family: 仿宋; font-size: 18px;">使用构造函数创建：</span></strong></p>
<p><span style="font-family: 仿宋; font-size: 18px;">var pattern = new RegExp("pattern","i||g||m");</span></p>
<p><span style="font-family: 仿宋; font-size: 18px;">接收两个字符串参数，第一个是要匹配的字符串模式，第二个是i||m||g.</span></p>
<p><span style="font-family: 仿宋; font-size: 18px; color: #99ccff; background-color: #fdfec2;"><strong>表达式：</strong></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">表达式放在[]里，一个[]代表一个位置，[]里面的内容表这个位置的可选范围。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">[^abc]:匹配不包含a或b或c的任意字符。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">[0-9]:匹配0-9的数字。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">[A-z]:匹配所有的大小写英文字母。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">(red|blue|green):匹配连续的字符。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">如下，字符串只要包含[]里面的任意一个字符，就可以被匹配出来。</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /[123][0-9A-z]/g;
var str = '1asdf3cs';
var arr = str.match(reg);   //["1a","3c"]<br /><br /></span></pre>
<div>
<div>　var reg = /(red|bac)[0-9]/g;</div>
<div>　var str = '123red123bac123';</div>
<div>　var arr = str.match(reg);&nbsp; &nbsp;//["red1","bac1"]</div>
</div>
<pre><code><span style="color: #000000;">&nbsp;</span></pre>
</div>
<p><span style="background-color: #fdfec2; color: #99ccff; font-family: 仿宋; font-size: 18px;"><strong>元字符：</strong></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">每个元字符代表一个位置。元字符可以放在表达式里</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\w:匹配所有0-9，A-z _(下划线)的任意字符。 相当于表达式的[0-9A-z_]</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\W:^\w(\w的取非).&nbsp; [^\w]</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\wabc/g;
var str = '_abcd123abcd';
var arr = str.match(reg);  //["_abc", "3abc"]</span></pre>
</div>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\d:配到0-9&nbsp; [0-9]</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\D:对\取非&nbsp; [^0-9]</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\dabc/g;
var str = '1abc2abcdef123';
ar arr = str.match(reg);   //["1abc","2abc"]</span></pre>
</div>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\s:匹配空白字符</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\S:取非</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\s\w/g;
var str = ' a d c';
var arr = str.match(reg);   //[" a", " d", " c"]</span></pre>
</div>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\b:匹配单词边界</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">\B:匹配非单词边界</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\bworld\b/g;  
var str = 'hello world hello';
var arr = str.match(reg);  //["hello"]<br /><br /></span></pre>
<div>
<div>&nbsp;var reg = /\bworld\B/g;</div>
<div>&nbsp;var str = 'hello world_hello';</div>
<div>&nbsp;var arr = str.match(reg);&nbsp; //["hello"]</div>
</div>
</div>
<p><span style="background-color: #ffff99; color: #99ccff;"><strong><span style="font-family: 仿宋;"><span style="font-size: 18px;">量词&nbsp; &nbsp;遵循贪婪原则，取多不取少</span></span></strong></span></p>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">n+: 匹配至少包含一个n的字符</span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\w+/g;  
var str = 'hello world_hello';
var arr = str.match(reg);   
console.log(arr);    //["hello","world_hello"];</span></pre>
</div>
<p>&nbsp;<span><span style="font-family: 仿宋;"><span style="font-size: 18px;">n*:匹配至少0个或多个n的字符。</span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\w*/g;  
var str = 'hello world_hello';
var arr = str.match(reg);
console.log(arr);  //["hello","","world_hello",""]</span></pre>
</div>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">n?:匹配0到1个n的字符</span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /\w?/g;  
var str = 'hello ';
var arr = str.match(reg);  //["h", "e", "l", "l", "o", "", ""]</span></pre>
</div>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">n{X}:匹配x个n的字符</span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;"> var reg = /[\w\W]{3}/g;  
 var str = 'hello world_hello    ';
 var arr = str.match(reg);    ["hel", "lo ", "wor", "ld_", "hel", "lo ", "   "]</span></pre>
</div>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">n{x,y}:匹配x到y个n的字符，同样遵循贪婪原则，能匹配y个（多）不匹配少。</span></span></span></p>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">n{x,}:第二个不写就是最少匹配x个，最多匹配无穷个。</span></span></span></p>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">在正则表达式中或者用一个|表示。</span></span></span></p>
<p><span style="color: #000000;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">例如：判断字符串首尾有数字</span></span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /^\d|\d$/g;  
var str = '123abd';
var result = reg.test(str);</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">判断字符首尾都有数字</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg1 = /^\d[\d\D]*\d$/g;  
var str = '123abc';
var result = reg.test(str);</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #00ccff;"><strong><span style="font-family: 仿宋; background-color: #ffff99;"><span style="font-size: 18px;">子表达式</span></span></strong></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">()放在括号里面的式子叫子表达式，他可以将括号里面匹配后的内容进行保存，因此我们可以反向引用这个匹配后的结果。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">()\1 在括号后面加\1表示引用第一个子表达式，第一个括号叫第一个子表达式，第二个括号叫第二个子表达式，以此类推。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">例如匹配型如aaaa类型的字符串</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;"> var reg = /(\w)\1\1\1/g;    //匹配到一个a,将a反向引用，也就是说，\1就代表a
 var str = 'aaaa';
 var result = str.match(reg);    ["aaaa"]</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">匹配型如aabb类型的字符串</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /(\w)\1(\w)\2/g;  
var str = 'aabbabaaba';
var result = str.match(reg);</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong><span style="font-family: 仿宋;"><span style="font-size: 18px;"><span style="background-color: #ffff99; color: #00ccff;">RegExp对象方法</span>&nbsp;</span></span></strong></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">test()判断字符串是否有规定匹配的片段，有返回true，没有返回false。</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">exec()返回一个数组，数组的第一位是第一个匹配的字符串，其他项如果有子表达式就是子表达式匹配的字符串。还有两个额外属性：index（匹配项在字符串中的位置），input（应用正则表达式的字符串）。</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">var reg = /(\w)\1(\w)\2/g;  
var str = '123aabb';
var result = reg.exec(str);  //["aabb", "a", "b", index: 3, input: "123aabb", groups: undefined]</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">exec();在全局的情况下也只返回一个。但在下次调用时会在上次匹配完的地方继续匹配。而不在全局的情况下，只匹配第一个，不会继续匹配。</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">        var reg = /ab/g;  
        var str = 'abababab';
        console.log(reg.lastIndex);  //  0  开始搜索下一个匹配项的字符位置，从0算起
        console.log(reg.exec(str))   //["ab", index: 0, input: "abababab", groups: undefined]
        console.log(reg.lastIndex);  //2
        console.log(reg.exec(str))   //["ab", index: 2, input: "abababab", groups: undefined]
        console.log(reg.lastIndex);  //4
        console.log(reg.exec(str))
        console.log(reg.lastIndex);    </span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">持续调用exec，当匹配到字符串末尾时，在调用，就会返回空，在调用就会右从头开始，并且每次调用lastIndex都会改变。</span></span></p>
<p><strong><span style="background-color: #ffff99; color: #00ccff;"><span style="font-family: 仿宋;"><span style="font-size: 18px;">支持正则表达式String对象的方法</span></span></span></strong></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">&nbsp;match() 参数是正则表达式</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">当不全局模式时，返回的和exec一样，第一项是整个匹配的内容，其他项有子表达式匹配的内容，index和input。只匹配一个，不会继续匹配。</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">        var reg = /ab/;  
        var str = 'abababab';
        console.log(str.match(reg));  //["ab", index: 0, input: "abababab", groups: undefined]  </span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">当在全局匹配时，返回的只有匹配到的字符，并且是所有符合的，都存在数组</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">        var reg = /ab/g;  
        var str = 'abababab';
        console.log(str.match(reg));    //["ab", "ab", "ab", "ab"] </span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">search()&nbsp;参数是正则表达式 返回字符串中第一个匹配的索引，如果没有找到匹配项，返回-1.</span></span></p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">replace()接收两个参数，第一个参数可以是字符串或RexExp对象。第二个参数可以是一个字符串或者是一个函数。把字符串含有第一个参数替换成第二个参数。</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">        var str = 'aa';
        var a = str.replace('a','b') 
        console.log(a)   // ba   只能匹配到一个。<br />//当第一个参数使用正则表达式，并且是全局匹配，就会匹配所有的字符串</span></pre>
<div>
<div>　　　　　　var reg = /a/g;</div>
<div>　　　　　　var str = 'aa';</div>
<div>　　　　　　var a = str.replace(reg,'b')</div>
<div>　　　　　　console.log(a)&nbsp; &nbsp; //bb</div>
</div>
<pre><code><span style="color: #000000;">&nbsp;</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 仿宋;"><span style="font-size: 18px;">例：把aabb类型的字符变成bbaa类型的字符</span></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;"> var reg = /(\w)\1(\w)\2/g;  
 var str = 'aabb';
 var a = str.replace(reg,"$2$2$1$1") //第二个参数一定是字符串或者是函数,在字符串里也可以反向引用，使用$1(第一个子表达式)$2(第二个字表达式)
 console.log(a)<br />第二个参数传入函数。</span></pre>
<div>
<div>　　var reg = /(\w)\1(\w)\2/g;</div>
<div>　　var str = 'aabb';</div>
<div>　　var a = str.replace(reg,function($,$1,$2){ //系统会自动传参，第一个代表全局匹配的结果，第二个代表第一个子表达式，第三个代表第二个子表达式，以此类推</div>
<div>　　　　return $2 + $2 + $1 + $1 + "哈哈abc"</div>
<div>　　})</div>
<div>&nbsp;console.log(a)<span>&nbsp;</span></div>
</div>
</div>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>