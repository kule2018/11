<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Js获取当前日期时间及其它操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Js获取当前日期时间及其它操作</center></div><div class='banquan'>原文出处:本文由博客园博主小萧同学提供。<br/>
原文连接:https://www.cnblogs.com/xxcblog/p/10641373.html</div><br>
    <div id="cnblogs_post_body" class="blogpost-body">
<p>var myDate = new Date();<br />myDate.getYear();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取当前年份(2位)<br />myDate.getFullYear();&nbsp;&nbsp;&nbsp; //获取完整的年份(4位,1970-????)<br />myDate.getMonth();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取当前月份(0-11,0代表1月)<br />myDate.getDate();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取当前日(1-31)<br />myDate.getDay();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取当前星期X(0-6,0代表星期天)<br />myDate.getTime();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取当前时间(从1970.1.1开始的毫秒数)<br />myDate.getHours();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取当前小时数(0-23)<br />myDate.getMinutes();&nbsp;&nbsp;&nbsp;&nbsp; //获取当前分钟数(0-59)<br />myDate.getSeconds();&nbsp;&nbsp;&nbsp;&nbsp; //获取当前秒数(0-59)<br />myDate.getMilliseconds();&nbsp;&nbsp;&nbsp; //获取当前毫秒数(0-999)<br />myDate.toLocaleDateString();&nbsp;&nbsp;&nbsp;&nbsp; //获取当前日期<br />var mytime=myDate.toLocaleTimeString();&nbsp;&nbsp;&nbsp;&nbsp; //获取当前时间<br />myDate.toLocaleString( );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取日期与时间</p>
<p>&nbsp;</p>
<p><a href="http://www.cnblogs.com/carekee/admin/file::;" target="_blank"><span style="text-decoration: underline;"><strong><span style="color: #6d5887;">日期时间</span></strong></span></a>脚本库方法列表</p>
<p><a href="http://www.cnblogs.com/carekee/admin/file::;" target="_blank"><span style="text-decoration: underline;"><strong><span style="color: #6d5887;">Date</span></strong></span></a>.prototype.isLeapYear 判断闰年<br />Date.prototype.Format 日期格式化<br />Date.prototype.DateAdd 日期计算<br />Date.prototype.DateDiff 比较日期差<br />Date.prototype.toString 日期转字符串<br />Date.prototype.toArray 日期分割为数组<br />Date.prototype.DatePart 取日期的部分信息<br />Date.prototype.MaxDayOfDate 取日期所在月的最大<a href="http://www.cnblogs.com/carekee/admin/file::;" target="_blank"><span style="text-decoration: underline;"><strong><span style="color: #6d5887;">天数</span></strong></span></a><br />Date.prototype.WeekNumOfYear 判断日期所在年的第几周<br />StringToDate 字符串转日期型<br />IsValidDate 验证日期有效性<br />CheckDateTime 完整日期时间检查<br />daysBetween 日期天数差</p>
<p>js代码：</p>
<p>//---------------------------------------------------&nbsp;&nbsp;<br />// 判断闰年&nbsp;&nbsp;<br />//---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.isLeapYear = function()&nbsp;&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return (0==this.getYear()%4&amp;&amp;((this.getYear()%100!=0)||(this.getYear()%400==0)));&nbsp;&nbsp;&nbsp;<br />}&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//---------------------------------------------------&nbsp;&nbsp;<br />// 日期格式化&nbsp;&nbsp;<br />// 格式 YYYY/yyyy/YY/yy 表示年份&nbsp;&nbsp;<br />// MM/M 月份&nbsp;&nbsp;<br />// W/w 星期&nbsp;&nbsp;<br />// dd/DD/d/D 日期&nbsp;&nbsp;<br />// hh/HH/h/H 时间&nbsp;&nbsp;<br />// mm/m 分钟&nbsp;&nbsp;<br />// ss/SS/s/S 秒&nbsp;&nbsp;<br />//---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.Format = function(formatStr)&nbsp;&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var str = formatStr;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var Week = ['日','一','二','三','四','五','六'];&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/yyyy|YYYY/,this.getFullYear());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/yy|YY/,(this.getYear() % 100)&gt;9?(this.getYear() % 100).toString():'0' + (this.getYear() % 100));&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/MM/,this.getMonth()&gt;9?this.getMonth().toString():'0' + this.getMonth());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/M/g,this.getMonth());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/w|W/g,Week[this.getDay()]);&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/dd|DD/,this.getDate()&gt;9?this.getDate().toString():'0' + this.getDate());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/d|D/g,this.getDate());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/hh|HH/,this.getHours()&gt;9?this.getHours().toString():'0' + this.getHours());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/h|H/g,this.getHours());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/mm/,this.getMinutes()&gt;9?this.getMinutes().toString():'0' + this.getMinutes());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/m/g,this.getMinutes());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/ss|SS/,this.getSeconds()&gt;9?this.getSeconds().toString():'0' + this.getSeconds());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; str=str.replace(/s|S/g,this.getSeconds());&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return str;&nbsp;&nbsp;&nbsp;<br />}&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 求两个时间的天数差 日期格式为 YYYY-MM-dd&nbsp;&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />function daysBetween(DateOne,DateTwo)&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var OneMonth = DateOne.substring(5,DateOne.lastIndexOf ('-'));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var OneDay = DateOne.substring(DateOne.length,DateOne.lastIndexOf ('-')+1);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var OneYear = DateOne.substring(0,DateOne.indexOf ('-'));&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var TwoMonth = DateTwo.substring(5,DateTwo.lastIndexOf ('-'));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var TwoDay = DateTwo.substring(DateTwo.length,DateTwo.lastIndexOf ('-')+1);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var TwoYear = DateTwo.substring(0,DateTwo.indexOf ('-'));&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var cha=((Date.parse(OneMonth+'/'+OneDay+'/'+OneYear)- Date.parse(TwoMonth+'/'+TwoDay+'/'+TwoYear))/86400000);&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return Math.abs(cha);&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 日期计算&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.DateAdd = function(strInterval, Number) {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var dtTmp = this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; switch (strInterval) {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 's' :return new Date(Date.parse(dtTmp) + (1000 * Number));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'n' :return new Date(Date.parse(dtTmp) + (60000 * Number));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'h' :return new Date(Date.parse(dtTmp) + (3600000 * Number));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'd' :return new Date(Date.parse(dtTmp) + (86400000 * Number));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'w' :return new Date(Date.parse(dtTmp) + ((86400000 * 7) * Number));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 case 'q' :return new Date(dtTmp.getFullYear(), (dtTmp.getMonth()) + 
Number*3, dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), 
dtTmp.getSeconds());&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 case 'm' :return new Date(dtTmp.getFullYear(), (dtTmp.getMonth()) + 
Number, dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), 
dtTmp.getSeconds());&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 case 'y' :return new Date((dtTmp.getFullYear() + Number), 
dtTmp.getMonth(), dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(),
 dtTmp.getSeconds());&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 比较日期差 dtEnd 格式为日期型或者有效日期格式字符串&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.DateDiff = function(strInterval, dtEnd) {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var dtStart = this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if (typeof dtEnd == 'string' )//如果是字符串转换为日期型&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dtEnd = StringToDate(dtEnd);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; switch (strInterval) {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 's' :return parseInt((dtEnd - dtStart) / 1000);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'n' :return parseInt((dtEnd - dtStart) / 60000);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'h' :return parseInt((dtEnd - dtStart) / 3600000);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'd' :return parseInt((dtEnd - dtStart) / 86400000);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'w' :return parseInt((dtEnd - dtStart) / (86400000 * 7));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'm' :return (dtEnd.getMonth()+1)+((dtEnd.getFullYear()-dtStart.getFullYear())*12) - (dtStart.getMonth()+1);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'y' :return dtEnd.getFullYear() - dtStart.getFullYear();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 日期输出字符串，重载了系统的toString方法&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.toString = function(showWeek)&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myDate= this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var str = myDate.toLocaleDateString();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if (showWeek)&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var Week = ['日','一','二','三','四','五','六'];&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str += ' 星期' + Week[myDate.getDay()];&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return str;&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 日期合法性验证&nbsp;&nbsp;<br />//| 格式为：YYYY-MM-DD或YYYY/MM/DD&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />function IsValidDate(DateStr)&nbsp;&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var sDate=DateStr.replace(/(^\s+|\s+$)/g,''); //去两边空格;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(sDate=='') return true;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; //如果格式满足YYYY-(/)MM-(/)DD或YYYY-(/)M-(/)DD或YYYY-(/)M-(/)D或YYYY-(/)MM-(/)D就替换为''&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; //数据库中，合法日期可以是:YYYY-MM/DD(2003-3/21),数据库会自动转换为YYYY-MM-DD格式&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var s = sDate.replace(/[\d]{ 4,4 }[\-/]{ 1 }[\d]{ 1,2 }[\-/]{ 1 }[\d]{ 1,2 }/g,'');&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if (s=='') //说明格式满足YYYY-MM-DD或YYYY-M-DD或YYYY-M-D或YYYY-MM-D&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var t=new Date(sDate.replace(/\-/g,'/'));&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var ar = sDate.split(/[-/:]/);&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(ar[0] != t.getYear() || ar[1] != t.getMonth()+1 || ar[2] != t.getDate())&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //alert('错误的日期格式！格式为：YYYY-MM-DD或YYYY/MM/DD。注意闰年。');&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //alert('错误的日期格式！格式为：YYYY-MM-DD或YYYY/MM/DD。注意闰年。');&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return true;&nbsp;&nbsp;&nbsp;<br />}&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 日期时间检查&nbsp;&nbsp;<br />//| 格式为：YYYY-MM-DD HH:MM:SS&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />function CheckDateTime(str)&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var reg = /^(\d+)-(\d{ 1,2 })-(\d{ 1,2 }) (\d{ 1,2 }):(\d{ 1,2 }):(\d{ 1,2 })$/;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var r = str.match(reg);&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(r==null)return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; r[2]=r[2]-1;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var d= new Date(r[1],r[2],r[3],r[4],r[5],r[6]);&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(d.getFullYear()!=r[1])return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(d.getMonth()!=r[2])return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(d.getDate()!=r[3])return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(d.getHours()!=r[4])return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(d.getMinutes()!=r[5])return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if(d.getSeconds()!=r[6])return false;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return true;&nbsp;&nbsp;&nbsp;<br />}&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 把日期分割成数组&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.toArray = function()&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myDate = this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myArray = Array();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; myArray[0] = myDate.getFullYear();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; myArray[1] = myDate.getMonth();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; myArray[2] = myDate.getDate();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; myArray[3] = myDate.getHours();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; myArray[4] = myDate.getMinutes();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; myArray[5] = myDate.getSeconds();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return myArray;&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 取得日期数据信息&nbsp;&nbsp;<br />//| 参数 interval 表示数据类型&nbsp;&nbsp;<br />//| y 年 m月 d日 w星期 ww周 h时 n分 s秒&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.DatePart = function(interval)&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myDate = this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var partStr='';&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var Week = ['日','一','二','三','四','五','六'];&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; switch (interval)&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'y' :partStr = myDate.getFullYear();break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'm' :partStr = myDate.getMonth()+1;break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'd' :partStr = myDate.getDate();break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'w' :partStr = Week[myDate.getDay()];break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'ww' :partStr = myDate.WeekNumOfYear();break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'h' :partStr = myDate.getHours();break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 'n' :partStr = myDate.getMinutes();break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 's' :partStr = myDate.getSeconds();break;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return partStr;&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 取得当前日期所在月的最大天数&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.MaxDayOfDate = function()&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myDate = this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var ary = myDate.toArray();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var date1 = (new Date(ary[0],ary[1]+1,1));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var date2 = date1.dateAdd(1,'m',1);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var result = dateDiff(date1.Format('yyyy-MM-dd'),date2.Format('yyyy-MM-dd'));&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return result;&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 取得当前日期所在周是一年中的第几周&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />Date.prototype.WeekNumOfYear = function()&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myDate = this;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var ary = myDate.toArray();&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var year = ary[0];&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var month = ary[1]+1;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var day = ary[2];&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; document.write('&lt; script language=VBScript\&gt; \n');&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; document.write('myDate = Datue(''+month+'-'+day+'-'+year+'') \n');&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; document.write('result = DatePart('ww', myDate) \n');&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; document.write(' \n');&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return result;&nbsp;&nbsp;<br />}&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />//| 字符串转成日期类型&nbsp;&nbsp;&nbsp;<br />//| 格式 MM/dd/YYYY MM-dd-YYYY YYYY/MM/dd YYYY-MM-dd&nbsp;&nbsp;<br />//+---------------------------------------------------&nbsp;&nbsp;<br />function StringToDate(DateStr)&nbsp;&nbsp;<br />{&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var converted = Date.parse(DateStr);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; var myDate = new Date(converted);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; if (isNaN(myDate))&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //var delimCahar = DateStr.indexOf('/')!=-1?'/':'-';&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var arys= DateStr.split('-');&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; myDate = new Date(arys[0],--arys[1],arys[2]);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp; return myDate;&nbsp;&nbsp;<br />}&nbsp;&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #cc0000;">若要显示:当前日期加时间(如:2009-06-12 12:00)</span></p>
<p><span style="color: #cc0000;">function CurentTime()<br />&nbsp;&nbsp;&nbsp; {&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var now = new Date();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var year = now.getFullYear();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //年<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var month = now.getMonth() + 1;&nbsp;&nbsp;&nbsp;&nbsp; //月<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var day = now.getDate();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //日<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var hh = now.getHours();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //时<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var mm = now.getMinutes();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //分<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var clock = year + "-";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(month &lt; 10)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += "0";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += month + "-";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(day &lt; 10)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += "0";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += day + " ";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(hh &lt; 10)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += "0";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += hh + ":";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (mm &lt; 10) clock += '0';&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clock += mm;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return(clock);&nbsp;<br />&nbsp;&nbsp;&nbsp; }</span> </p>

</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>