<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='ç”µè„‘,ç”µè„‘è®²è§£,ç”µè„‘æŠ€æœ¯,ç¼–ç¨‹,ç”µè„‘æ•…éšœç»´ä¿®PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>é¦–é¡µ</a></li>
</div><div onclick='hidden1()' >åˆ†äº«</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨</center></div><div class='banquan'>åŸæ–‡å‡ºå¤„:æœ¬æ–‡ç”±åšå®¢å›­åšä¸»Fundebugæä¾›ã€‚<br/>
åŸæ–‡è¿æ¥:https://www.cnblogs.com/fundebug/p/pwa-tutorial.html</div><br>
    <p><strong>æ‘˜è¦ï¼š</strong> PWAå›¾æ–‡æ•™ç¨‹</p>
<ul>
<li>åŸæ–‡ï¼š<a href="https://segmentfault.com/a/1190000019414253">PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨</a></li>
<li>ä½œè€…ï¼šMudOnTire</li>
</ul>
<p><strong><a href="https://www.fundebug.com/">Fundebug</a>ç»æˆæƒè½¬è½½ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨0.png" /></p>
<h3 id="ç®€ä»‹">ç®€ä»‹</h3>
<p>Webå‰ç«¯çš„åŒå­¦æ˜¯å¦æƒ³è¿‡å­¦ä¹ appå¼€å‘ï¼Œä»¥å¼¥è¡¥è‡ªå·±ç§»åŠ¨ç«¯èƒ½åŠ›çš„ä¸è¶³ï¼Ÿä½†åœ¨é¢å¯¹ä¸€ä¼—çš„é€‰æ‹©æ—¶å¾ˆå¤šåŒå­¦ç•¥æ„Ÿè¿·èŒ«ï¼Œæ˜¯å­¦ä¹ iosè¿˜æ˜¯androidå¼€å‘ï¼Ÿæ˜¯å­¦ä¹ åŸç”Ÿå¼€å‘ã€æ··åˆå¼€å‘ï¼ˆæ¯”å¦‚ï¼š<a href="https://ionicframework.com/">Ionic</a>)ï¼Œè¿˜æ˜¯ä½¿ç”¨<a href="https://facebook.github.io/react-native/">react native</a>æˆ–è€…<a href="https://flutter.dev/">flutter</a>è¿™æ ·çš„è·¨å¹³å°æ¡†æ¶ï¼Ÿè€Œappå¼€å‘çš„å­¦ä¹ å‘¨æœŸé•¿ã€å­¦ä¹ æˆæœ¬é«˜ä¹Ÿè®©ä¸€éƒ¨åˆ†äººæœ›è€Œå´æ­¥ã€‚å¾—ç›Šäºå‰ç«¯æŠ€æœ¯çš„é£é€Ÿå‘å±•ã€æµè§ˆå™¨æ€§èƒ½çš„ä¸æ–­æé«˜ï¼Œä½¿ç”¨ç½‘é¡µæŠ€æœ¯å¼€å‘å‡ºæ¥è¿‘åŸç”Ÿä½“éªŒçš„åº”ç”¨å¾—ä»¥å˜ä¸ºç°å®ï¼ŒPWAå°±åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹åº”è¿è€Œç”Ÿã€‚å¯ä»¥ç”¨è‡ªå·±ç†Ÿæ‚‰çš„HTMLã€CSSã€Javascriptå¼€å‘å‡ºåª²ç¾åŸç”Ÿappçš„ç½‘ç«™ï¼Œä¸ä»…æ‹¥æœ‰æ¥è¿‘åŸç”Ÿappçš„æµç•…ç¨‹åº¦ï¼Œå¹¶ä¸”å…·å¤‡ä¸€äº›åŸç”Ÿappæ‰æœ‰çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼ša. å¯ä»¥åœ¨ä¸»å±ä¸Šå®‰è£…åº”ç”¨å›¾æ ‡ï¼Œb. ç¦»çº¿çŠ¶æ€ä¸‹è®¿é—®ï¼Œc. è·å–æ¶ˆæ¯é€šçŸ¥ï¼Œç­‰ç­‰ã€‚ã€‚PWAçš„å‡ºç°è®©å¤§å®¶çœ‹åˆ°äº†å¸Œæœ›ï¼</p>
<h3 id="å¯¹æ¯”åŸç”Ÿåº”ç”¨">å¯¹æ¯”åŸç”Ÿåº”ç”¨</h3>
<p>é‚£PWAå’ŒåŸç”Ÿåº”ç”¨ç›¸æ¯”åˆ°åº•æœ‰ä½•ç«äº‰åŠ›å‘¢ï¼Ÿæˆ‘ä»¬åˆ†åˆ«çœ‹ä¸€ä¸‹åŸç”Ÿåº”ç”¨å’ŒPWAçš„ç‰¹ç‚¹ï¼š</p>
<p><strong>åŸç”Ÿåº”ç”¨ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨åŸç”ŸSDKå’Œå¼€å‘å·¥å…·å¼€å‘</li>
<li>éœ€è¦è€ƒè™‘è·¨å¹³å°ï¼Œä¸åŒç³»ç»Ÿå¾€å¾€éœ€è¦ç‹¬ç«‹å¼€å‘</li>
<li>éœ€è¦å‘å¸ƒåˆ°åº”ç”¨å•†åº—æ‰èƒ½ä¸‹è½½ä½¿ç”¨</li>
<li>å¯ä»¥å®‰è£…åˆ°æ‰‹æœºä¸»å±ï¼Œç”Ÿæˆåº”ç”¨å›¾æ ‡</li>
<li>ç›´æ¥è¿è¡Œäºæ“ä½œç³»ç»Ÿä¸Šï¼Œè®¿é—®ç³»ç»Ÿèµ„æºæ–¹ä¾¿</li>
<li>å¯ä»¥ç¦»çº¿ä½¿ç”¨</li>
<li>å¯ä»¥è·å–æ¶ˆæ¯é€šçŸ¥</li>
</ul>
<p><strong>PWAåº”ç”¨ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨HTMLï¼ŒCSSï¼ŒJSå¼€å‘</li>
<li>æ— éœ€è€ƒè™‘è·¨å¹³å°ï¼Œåªéœ€è¦è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§</li>
<li>é€šè¿‡urlè®¿é—®ï¼Œæ— éœ€å‘å¸ƒåˆ°åº”ç”¨å•†åº—</li>
<li>å¯ä»¥å®‰è£…åˆ°æ‰‹æœºä¸»å±ï¼Œç”Ÿæˆåº”ç”¨å›¾æ ‡</li>
<li>è¿è¡Œäºæµè§ˆå™¨ä¸­ï¼Œå¯è®¿é—®ç³»ç»Ÿèµ„æº</li>
<li>å¯ä»¥ç¦»çº¿ä½¿ç”¨</li>
<li>å¯ä»¥è·å–æ¶ˆæ¯é€šçŸ¥</li>
</ul>
<p>å¯ä»¥å‘ç°PWAå…·å¤‡äº†åŸç”Ÿåº”ç”¨çš„ä¸»è¦èƒ½åŠ›ï¼Œä½†æ˜¯å¼€å‘æµç¨‹å´æ¯”åŸç”Ÿåº”ç”¨æ›´åŠ ç®€æ´ï¼ša. html/css/jsçš„ç¾¤ä¼—åŸºç¡€æ›´å¥½ï¼Œå¼€å‘æ•ˆç‡æ›´é«˜ï¼›b. çœå»äº†ä¸ºä¸åŒç³»ç»Ÿå¼€å‘ç‹¬ç«‹ç‰ˆæœ¬çš„å¤§é‡æˆæœ¬ï¼›c. çœå»äº†ä¸Šæ¶åˆ°åº”ç”¨å¸‚åœºçš„ç¹çæµç¨‹ï¼›d. æ— éœ€å‰å¾€åº”ç”¨å•†åº—ä¸‹è½½ï¼Œç”¨æˆ·ä½¿ç”¨èµ·æ¥ä¹Ÿæ›´åŠ æ–¹ä¾¿ã€‚ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPWAè¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒæ–°çš„æŠ€æœ¯ï¼Œå®ç°è§„èŒƒè¿˜æœ‰å¾ˆå¤šè°ƒæ•´çš„ç©ºé—´ï¼Œéƒ¨åˆ†æµè§ˆå™¨å¯¹PWAçš„æ”¯æŒä¹Ÿè¿˜ä¸å®Œå–„ï¼Œä½†æ˜¯PWAæ˜¯ä¸€ä¸ªè¶‹åŠ¿ï¼Œæ‰€ä»¥ç°åœ¨å­¦ä¹ æ­£åˆé€‚ï¼</p>
<p>æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„åˆ—å­ï¼ˆä¸€ä¸ªç®€å•çš„é‚®ç¼–æŸ¥è¯¢appï¼‰å‘å¤§å®¶å±•ç¤ºPWAçš„å¼€å‘æµç¨‹ï¼Œé¡¹ç›®å‚è€ƒï¼š<a href="https://www.youtube.com/watch?v=6H1wftPS0oo">Traversy Media - Build a PWA With Vue &amp; Ionic4</a>ã€‚å®Œæˆåçš„æ•ˆæœæ˜¯ <a href="https://mudontire.github.io/pwa-tutorial/">è¿™æ ·çš„</a> ã€‚</p>
<h3 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®</h3>
<p>é¡¹ç›®ä½¿ç”¨Vue + Ionicçš„ç»„åˆè¿›è¡Œå¼€å‘ã€‚æœ¬æ–‡ä¸»è¦å…³æ³¨PWAçš„æ­å»ºï¼Œå› æ­¤vueã€ionicç­‰æŠ€æœ¯ä¸åšè¿‡å¤šæè¿°ã€‚ä½¿ç”¨VSCodeçš„åŒå­¦ï¼Œå»ºè®®å®‰è£…<a href="https://vuejs.github.io/vetur/">Vetur</a>æ’ä»¶å¢åŠ å¼€å‘æ•ˆç‡ã€‚</p>
<p><strong>1. é¦–å…ˆå…¨å±€å®‰è£… <code>@vue/cli</code>ï¼š</strong></p>
<pre><code><code>npm install -g @vue/cli</code></pre>
<p><strong>2. åˆå§‹åŒ–vueé¡¹ç›®ï¼š</strong></p>
<pre><code><code>vue create vue-ionic-pwa</code></pre>
<p><strong>3. å› ä¸ºionicçš„è·¯ç”±ä¾èµ–äº<code>vue-router</code>ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å®‰è£… <code>vue-router</code>ï¼š</strong></p>
<pre><code><code>vue add router</code></pre>
<p><strong>4. å®‰è£… <code>@ionic/vue</code></strong></p>
<pre><code><code>npm install @ionic/vue</code></pre>
<p><strong>5. åœ¨ <code>src/main.js</code> ä¸­æ·»åŠ å¯¹ionicçš„å¼•ç”¨ï¼š</strong></p>
<pre class="javascript"><code>import Ionic from &#39;@ionic/vue&#39;
import &#39;@ionic/core/css/ionic.bundle.css&#39;

Vue.use(Ionic)</code></pre>
<p><strong>6. åœ¨ <code>src/router.js</code> ä¸­ä½¿ç”¨ <code>IonicVueRouter</code> æ›¿æ¢é»˜è®¤çš„vue routerï¼š</strong></p>
<pre class="javascript"><code>import Vue from &#39;vue&#39;
import { IonicVueRouter } from &#39;@ionic/vue&#39;;
import Home from &#39;./views/Home.vue&#39;

Vue.use(IonicVueRouter)

export default new IonicVueRouter({
  mode: &#39;history&#39;,
  base: process.env.BASE_URL,
  routes: [
    {
      path: &#39;/&#39;,
      name: &#39;home&#39;,
      component: Home
    }
  ]
})</code></pre>
<p><strong>7. å°† <code>src/App.vue</code> å†…å®¹ä¿®æ”¹ä¸ºï¼š</strong></p>
<pre class="html"><code>&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;ion-app&gt;
      &lt;ion-vue-router/&gt;
    &lt;/ion-app&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
<p><strong>8. å°† <code>src/views/Home.vue</code> å†…å®¹ä¿®æ”¹ä¸ºï¼š</strong></p>
<pre class="html"><code>&lt;template&gt;
  &lt;div class=&quot;ion-page&quot;&gt;
    &lt;ion-header&gt;
      &lt;ion-toolbar&gt;
        &lt;ion-title&gt;
          ZipInfo
        &lt;/ion-title&gt;
      &lt;/ion-toolbar&gt;
    &lt;/ion-header&gt;
    &lt;ion-content class=&quot;ion-padding&quot;&gt;My App&lt;/ion-content&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &#39;home&#39;,
  components: {}
}
&lt;/script&gt;</code></pre>
<p><strong>æœ€åï¼Œæˆ‘ä»¬è¿è¡Œ<code>yarn serve</code>çœ‹ä¸‹æ•ˆæœï¼š</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨1.png" /></p>
<h3 id="appåŠŸèƒ½å®ç°">AppåŠŸèƒ½å®ç°</h3>
<p>Appä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š1. æœç´¢ç»„ä»¶ï¼Œç”¨äºè¾“å…¥é‚®ç¼–å¹¶æŸ¥è¯¢ï¼Œ2. å±•ç¤ºç»„ä»¶ï¼Œç”¨äºå±•ç¤ºæŸ¥è¯¢åˆ°çš„é‚®ç¼–ä¿¡æ¯ï¼Œ3. æ¸…é™¤æŒ‰é’®ï¼Œç”¨äºæ¸…é™¤æŸ¥è¯¢åˆ°çš„é‚®ç¼–ä¿¡æ¯</p>
<h4 id="æœç´¢ç»„ä»¶">1. æœç´¢ç»„ä»¶</h4>
<p>æˆ‘ä»¬åœ¨ <code>src/components</code> ä¸‹é¢æ–°å»º <code>ZipSearch.vue</code> æ–‡ä»¶ä½œä¸ºé‚®ç¼–æœç´¢ç»„ä»¶ï¼Œä¸»è¦é€»è¾‘ä¸ºå½“ç”¨æˆ·è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼ŒæŒ‰ä¸‹æœç´¢æŒ‰é’®ï¼Œå¦‚æœè¾“å…¥åˆæ³•åˆ™è§¦å‘<code>get-zip</code>äº‹ä»¶ï¼Œå¦‚æœä¸åˆæ³•åˆ™ç»™å‡ºæç¤ºã€‚</p>
<p><strong>ZipSearch.vue</strong></p>
<pre class="html"><code>&lt;template&gt;
  &lt;ion-grid&gt;
    &lt;form @submit=&quot;onSubmit&quot;&gt;
      &lt;ion-col&gt;
        &lt;ion-item&gt;
          &lt;ion-label&gt;ZipCode:&lt;/ion-label&gt;
          &lt;ion-input
            :value=&quot;zip&quot;
            @input=&quot;zip = $event.target.value&quot;
            name=&quot;zip&quot;
            placeholder=&quot;Enter US ZipCode&quot;
          /&gt;
        &lt;/ion-item&gt;
      &lt;/ion-col&gt;
      &lt;ion-col&gt;
        &lt;ion-button type=&quot;submit&quot; color=&quot;primary&quot; expand=&quot;block&quot;&gt;Find&lt;/ion-button&gt;
      &lt;/ion-col&gt;
    &lt;/form&gt;
  &lt;/ion-grid&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &quot;ZipSearch&quot;,
  data() {
    return {
      zip: &quot;&quot;
    };
  },
  methods: {
    onSubmit(e) {
      e.preventDefault();
      const zipRegex = /(^\d{5}$)|(^\d{5}-\d{4}$)/;
      const isValid = zipRegex.test(this.zip);
      if (!isValid) {
        this.showAlert();
      } else {
        this.$emit(&quot;get-zip&quot;, this.zip);
      }
      this.zip = &quot;&quot;;
    },
    showAlert() {
      return this.$ionic.alertController
        .create({
          header: &quot;Enter zipcode&quot;,
          message: &quot;Please enter a valid US ZipCode&quot;,
          buttons: [&quot;OK&quot;]
        })
        .then(a =&gt; a.present());
    }
  }
};
&lt;/script&gt;</code></pre>
<p>åœ¨ <code>src/views/Home.vue</code> ä¸­å¼•å…¥ <code>ZipSearch</code> ç»„ä»¶ï¼Œå½“<code>Home</code>æ¥æ”¶åˆ°<code>get-zip</code>äº‹ä»¶æ—¶è°ƒç”¨ https://www.zippopotam.us çš„æ¥å£ï¼Œè·å–é‚®ç¼–å¯¹åº”çš„ä¿¡æ¯ï¼š</p>
<pre class="html"><code>...
    &lt;ion-content class=&quot;ion-padding&quot;&gt;
      &lt;ZipSearch v-on:get-zip=&quot;getZipInfo&quot;/&gt;
    &lt;/ion-content&gt;
...

&lt;script&gt;
import ZipSearch from &quot;../components/ZipSearch&quot;;

export default {
  name: &quot;home&quot;,
  components: {
    ZipSearch
  },
  data() {
    return {
      info: null
    };
  },
  methods: {
    async getZipInfo(zip) {
      const res = await fetch(`https://api.zippopotam.us/us/${zip}`);
      if (res.status == 404) {
        this.showAlert();
      }
      this.info = await res.json();
    },
    showAlert() {
      return this.$ionic.alertController
        .create({
          header: &quot;Not Valid&quot;,
          message: &quot;Please enter a valid US ZipCode&quot;,
          buttons: [&quot;OK&quot;]
        })
        .then(a =&gt; a.present());
    }
  }
};
&lt;/script&gt;</code></pre>
<p><strong>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æœç´¢ç»„ä»¶çš„æ•ˆæœï¼š</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨2.png" /></p>
<p><strong>è¾“å…¥é‚®ç¼–æ ¼å¼é”™è¯¯ï¼š</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨3.png" /></p>
<h4 id="ä¿¡æ¯å±•ç¤ºå’Œæ¸…é™¤ç»„ä»¶">2. ä¿¡æ¯å±•ç¤ºå’Œæ¸…é™¤ç»„ä»¶</h4>
<p>è·å–åˆ°é‚®ç¼–ä¿¡æ¯åæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå±•ç¤ºé‚®ç¼–ä¿¡æ¯çš„ç»„ä»¶å’Œä¸€ä¸ªæ¸…é™¤ä¿¡æ¯çš„æŒ‰é’®ï¼Œåœ¨ <code>src/components</code> ä¸‹é¢æ–°å»º <code>ZipInfo.vue</code>å’Œ<code>ClearInfo.vue</code> ã€‚</p>
<p><strong>ZipInfo.vue</strong></p>
<pre class="html"><code>&lt;template&gt;
  &lt;ion-card v-if=&quot;info&quot;&gt;
    &lt;ion-card-header&gt;
      &lt;ion-card-subtitle&gt;{{info[&#39;post code&#39;]}}&lt;/ion-card-subtitle&gt;
      &lt;ion-card-title&gt;{{info[&#39;places&#39;][0][&#39;place name&#39;]}}&lt;/ion-card-title&gt;
    &lt;/ion-card-header&gt;
    &lt;ion-card-content&gt;
      &lt;ion-list&gt;
        &lt;ion-item&gt;
          &lt;ion-label&gt;
            &lt;strong&gt;State:&lt;/strong&gt;
            {{info[&#39;places&#39;][0][&#39;state&#39;]}} ({{info[&#39;places&#39;][0][&#39;state abbreviation&#39;]}})
          &lt;/ion-label&gt;
        &lt;/ion-item&gt;
        &lt;ion-item&gt;
          &lt;ion-label&gt;
            &lt;strong&gt;Latitude:&lt;/strong&gt;
            {{info[&#39;places&#39;][0][&#39;latitude&#39;]}}
          &lt;/ion-label&gt;
        &lt;/ion-item&gt;
        &lt;ion-item&gt;
          &lt;ion-label&gt;
            &lt;strong&gt;Longitude:&lt;/strong&gt;
            {{info[&#39;places&#39;][0][&#39;longitude&#39;]}}
          &lt;/ion-label&gt;
        &lt;/ion-item&gt;
      &lt;/ion-list&gt;
    &lt;/ion-card-content&gt;
  &lt;/ion-card&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &quot;ZipInfo&quot;,
  props: [&quot;info&quot;]
};
&lt;/script&gt;</code></pre>
<p><strong>ClearInfo.vue</strong></p>
<pre class="html"><code>&lt;template&gt;
  &lt;ion-button color=&quot;light&quot; expand=&quot;block&quot; v-if=&quot;info&quot; @click=&quot;$emit(&#39;clear-info&#39;)&quot;&gt;Clear&lt;/ion-button&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &quot;ClearInfo&quot;,
  props: [&quot;info&quot;]
};
&lt;/script&gt;</code></pre>
<p>æ¥ç€åœ¨<code>Home</code>ä¸­å¼•å…¥<code>ZipInfo</code>å’Œ<code>ClearInfo</code>ç»„ä»¶ï¼š</p>
<p><strong>src/views/Home.vue</strong></p>
<pre class="html"><code>...
    &lt;ion-content class=&quot;ion-padding&quot;&gt;
      &lt;ZipSearch v-on:get-zip=&quot;getZipInfo&quot;/&gt;
      &lt;ZipInfo v-bind:info=&quot;info&quot;/&gt;
      &lt;ClearInfo v-bind:info=&quot;info&quot; v-on:clear-info=&quot;clearInfo&quot;/&gt;
    &lt;/ion-content&gt;
...

import ZipInfo from &quot;../components/ZipInfo&quot;;
import ClearInfo from &quot;../components/ClearInfo&quot;;

export default {
  name: &quot;home&quot;,
  components: {
    ZipSearch, ZipInfo
  },
  methods:{
    ...
    clearInfo(){
      this.info = null;
    }
  }
}</code></pre>
<p>åˆ°æ­¤ï¼Œappçš„ä¸»ä½“å°±å®Œæˆäº†ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨4.png" /></p>
<h3 id="å®ç°pwa">å®ç°PWA</h3>
<p>æˆ‘ä»¬ä½¿ç”¨ç°æˆçš„ <a href="https://github.com/vuejs/vue-cli/tree/v3/packages/%40vue/cli-plugin-pwa"><code>@vue/pwa</code></a> æ’ä»¶æ¥ç»™æˆ‘ä»¬çš„appå¢åŠ PWAçš„èƒ½åŠ›ã€‚</p>
<p><strong>å®‰è£… <code>@vue/pwa</code>ï¼š</strong></p>
<pre><code><code>vue add @vue/pwa</code></pre>
<p>å®‰è£…å®Œæˆåé¡¹ç›®ä¸­å¢åŠ äº† <code>public/manifest.json</code> å’Œ <code>registerServiceWorker.js</code>ä¸¤ä¸ªæ–‡ä»¶ã€‚å…¶ä¸­ <code>public/manifest.json</code> æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="javascript"><code>{
  &quot;name&quot;: &quot;vue-ionic-pwa&quot;,
  &quot;short_name&quot;: &quot;vue-ionic-pwa&quot;,
  &quot;icons&quot;: [
    {
      &quot;src&quot;: &quot;./img/icons/android-chrome-192x192.png&quot;,
      &quot;sizes&quot;: &quot;192x192&quot;,
      &quot;type&quot;: &quot;image/png&quot;
    },
    {
      &quot;src&quot;: &quot;./img/icons/android-chrome-512x512.png&quot;,
      &quot;sizes&quot;: &quot;512x512&quot;,
      &quot;type&quot;: &quot;image/png&quot;
    }
  ],
  &quot;start_url&quot;: &quot;./index.html&quot;,
  &quot;display&quot;: &quot;standalone&quot;,
  &quot;background_color&quot;: &quot;#000000&quot;,
  &quot;theme_color&quot;: &quot;#4DBA87&quot;
}</code></pre>
<p><code>manifest.json</code>ä¸­ä¸»è¦åŒ…å«appçš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚åç§°ï¼ˆnameï¼‰ã€å›¾æ ‡ï¼ˆiconsï¼‰ã€æ˜¾ç¤ºæ–¹å¼ï¼ˆdisplayï¼‰ç­‰ç­‰ï¼Œæ˜¯web appèƒ½è¢«ä»¥ç±»ä¼¼åŸç”Ÿçš„æ–¹å¼å®‰è£…ã€å±•ç¤ºçš„å¿…è¦é…ç½®ã€‚æ›´å¤šçš„é…ç½®é¡¹å¯å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/Manifest">MDN Web App Manifest</a>ã€‚</p>
<p>åœ¨Chromeæµè§ˆå™¨æ§åˆ¶å°ä¸­ä¹Ÿå¯çœ‹åˆ°appçš„manifesté…ç½®ï¼š</p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨5.png" /></p>
<p><code>registerServiceWorker.js</code>ç”¨äºæ³¨å†Œservice workerã€‚service workeré€šä¿—æ¥è®²å°±æ˜¯åœ¨æµè§ˆå™¨åå°ç‹¬ç«‹äºç½‘é¡µè¿è¡Œçš„ä¸€æ®µè„šæœ¬ï¼Œservice workerå¯ä»¥å®Œæˆä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šæ¶ˆæ¯æ¨é€ã€åå°åŒæ­¥ã€æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€ç®¡ç†ç½‘ç»œç¼“å­˜ç­‰ã€‚Service workerä¹‹äºpwaçš„æ„ä¹‰åœ¨äºèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›ç¦»çº¿ä½“éªŒï¼Œå³æ‰çº¿çŠ¶æ€ä¸‹ç”¨æˆ·ä¾æ—§èƒ½å¤Ÿè®¿é—®ç½‘ç«™å¹¶è·å–å·²è¢«ç¼“å­˜çš„æ•°æ®ã€‚ä½¿ç”¨service workeréœ€è¦HTTPSï¼Œå¹¶ä¸”è€ƒè™‘ <a href="https://caniuse.com/#search=service%20worker">æµè§ˆå™¨å…¼å®¹æ€§</a>ã€‚</p>
<p><strong>registerServiceWorker.js</strong></p>
<pre class="javascript"><code>import { register } from &#39;register-service-worker&#39;

if (process.env.NODE_ENV === &#39;production&#39;) {
  register(`${process.env.BASE_URL}service-worker.js`, {
    ready () {
      console.log(
        &#39;App is being served from cache by a service worker.\n&#39; +
        &#39;For more details, visit https://goo.gl/AFskqB&#39;
      )
    },
    registered () {
      console.log(&#39;Service worker has been registered.&#39;)
    },
    cached () {
      console.log(&#39;Content has been cached for offline use.&#39;)
    },
    updatefound () {
      console.log(&#39;New content is downloading.&#39;)
    },
    updated () {
      console.log(&#39;New content is available; please refresh.&#39;)
    },
    offline () {
      console.log(&#39;No internet connection found. App is running in offline mode.&#39;)
    },
    error (error) {
      console.error(&#39;Error during service worker registration:&#39;, error)
    }
  })
}</code></pre>
<p>åœ¨Chromeæµè§ˆå™¨æ§åˆ¶å°ä¸­ä¹Ÿå¯çœ‹åˆ°service workerçš„çŠ¶æ€ï¼š</p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨6.png" /></p>
<p>å½“ç„¶ï¼Œåªæ³¨å†Œservice workerè¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ§åˆ¶service workerçš„è¡Œä¸ºï¼Œé€šè¿‡åœ¨ <code>vue.config.js</code> ä¸­å¢åŠ ç›¸å…³çš„é…ç½®æˆ‘ä»¬å¯ä»¥è®¾ç½®service workeræ–‡ä»¶çš„åç§°ã€ç¼“å­˜é€»è¾‘ç­‰ç­‰ã€‚</p>
<p><strong>vue.config.js</strong></p>
<pre class="javascript"><code>module.exports = {
  pwa: {
    workboxPluginMode: &#39;GenerateSW&#39;,
    workboxOptions: {
      navigateFallback: &#39;/index.html&#39;, 
      runtimeCaching: [
        {
          urlPattern: new RegExp(&#39;^https://api.zippopotam.us/us/&#39;),
          handler: &#39;networkFirst&#39;,
          options: {
            networkTimeoutSeconds: 20,
            cacheName: &#39;api-cache&#39;,
            cacheableResponse: {
              statuses: [0, 200]
            }
          }
        }
      ]
    }
  }
}</code></pre>
<p>æ›´å¤šé…ç½®è¯·å‚è€ƒï¼š<a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa">@vue/cli-plugin-pwa</a> å’Œ <a href="https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin">workbox-webpack-plugin</a>ã€‚ç”±äº<code>@vue/cli-plugin-pwa</code>ç”Ÿæˆçš„service workeråªåœ¨ç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆï¼Œæ‰€ä»¥å»ºè®®å°†é¡¹ç›®buildä¹‹åéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæµ‹è¯•ã€‚æœ¬æ–‡ç¤ºä¾‹ä½¿ç”¨ <a href="https://pages.github.com/">github pages</a>è¿›è¡Œéƒ¨ç½²å’Œå±•ç¤ºã€‚</p>
<p>åˆ°æ­¤ï¼Œå°†æ™®é€šweb appè½¬æˆPWAçš„å·¥ä½œåŸºæœ¬å®Œæˆï¼Œæˆ‘ä»¬éƒ¨ç½²åˆ°çº¿ä¸Šçœ‹ä¸‹æ•ˆæœï¼š</p>
<p><strong>æ–‡ä»¶å·²è¢«ç¼“å­˜ç”¨äºç¦»çº¿è®¿é—®ï¼š</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨7.png" /></p>
<p><strong>æŸ¥è¯¢ä¸€ä¸ªé‚®ç¼–è¯•è¯•ï¼Œå¯ä»¥å‘ç°è¯·æ±‚è¢«ç¼“å­˜äº†ä¸‹æ¥ï¼š</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨8.png" /></p>
<p><strong>æˆ‘ä»¬æ¥ç€å…³æ‰ç½‘ç»œï¼Œå†æŸ¥è¯¢åˆšåˆšçš„é‚£ä¸ªé‚®ç¼–ï¼Œå‘ç°åœ¨ç½‘ç»œè¯·æ±‚å¤±è´¥ä¹‹åç«‹å³åˆ‡æ¢ç”¨æœ¬åœ°ç¼“å­˜çš„æ•°æ®ï¼š</strong></p>
<p><img src="./images/PWAå…¥é—¨ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åˆ¶ä½œä¸€ä¸ªPWAåº”ç”¨9.png" /></p>
<p>å¥½äº†ï¼Œä¸€ä¸ªç®€å•çš„PWAå°±å·²ç»åˆ¶ä½œå®Œæˆäº†ã€‚å½“ç„¶PWAçš„åŠŸèƒ½è¿œä¸æ­¢æœ¬æ–‡æ‰€å±•ç¤ºçš„ï¼Œæ¯”å¦‚æ¨é€ã€å®‰è£…åˆ°æ‰‹æœºï¼Œåç»­æœ‰æœºä¼šå†è·Ÿå¤§å®¶åˆ†äº«ï¼Œè°¢è°¢ğŸ™ã€‚</p>
<blockquote>
<p>æœ€åï¼Œæ¨èå¤§å®¶ä½¿ç”¨<a href="https://www.fundebug.com/?utm_source=MudOnTire">Fundebug</a>ï¼Œä¸€æ¬¾å¾ˆå¥½ç”¨çš„BUGç›‘æ§å·¥å…·~</p>
</blockquote>
<p>æœ¬æ–‡demoåœ°å€ï¼šhttps://github.com/MudOnTire/pwa-tutorial</p>
<h3 id="å…³äºfundebug">å…³äºFundebug</h3>
<p><a href="https://www.fundebug.com/">Fundebug</a>ä¸“æ³¨äºJavaScriptã€å¾®ä¿¡å°ç¨‹åºã€å¾®ä¿¡å°æ¸¸æˆã€æ”¯ä»˜å®å°ç¨‹åºã€React Nativeã€Node.jså’ŒJavaçº¿ä¸Šåº”ç”¨å®æ—¶BUGç›‘æ§ã€‚ è‡ªä»2016å¹´åŒåä¸€æ­£å¼ä¸Šçº¿ï¼ŒFundebugç´¯è®¡å¤„ç†äº†20äº¿+é”™è¯¯äº‹ä»¶ï¼Œä»˜è´¹å®¢æˆ·æœ‰é˜³å…‰ä¿é™©ã€æ ¸æ¡ƒç¼–ç¨‹ã€è”æFMã€æŒé—¨1å¯¹1ã€å¾®è„‰ã€é’å›¢ç¤¾ç­‰ä¼—å¤šå“ç‰Œä¼ä¸šã€‚æ¬¢è¿å¤§å®¶<a href="https://www.fundebug.com/team/create">å…è´¹è¯•ç”¨</a>ï¼</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>