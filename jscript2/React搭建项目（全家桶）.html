<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修React搭建项目（全家桶）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>React搭建项目（全家桶）</center></div><div class='banquan'>原文出处:本文由博客园博主果冻丨小布丁提供。<br/>
原文连接:https://www.cnblogs.com/jserhub/p/10971919.html</div><br>
    <ul>
<li>安装React脚手架：
<div class="cnblogs_code">
<pre><code>npm install -g create-react-app</pre>
</div>
</li>
</ul>
<ul>
<li>创建项目：
<div class="cnblogs_code">
<pre><code>create-react-app app</pre>
</div>
<p>&nbsp;<em><span style="color: #808080;">app：为该项目名称<br /><br />或者跳过以上两步直接使用：<br /></span></em></p>
<div class="cnblogs_code">
<pre><code>npx create-react-app app</pre>
</div>
<p>&nbsp;</p>
</li>
<li>启动项目：
<div class="cnblogs_code">
<pre><code>cd app<br />npm start</pre>
</div>
</li>
</ul>
<p style="margin-left: 30px;"><strong>项目创建完成，目录如下：</strong></p>
<p style="margin-left: 30px;"><img src="./images/React搭建项目（全家桶）0.png" alt="" width="257" height="411" /></p>
<ul>
<li><strong><span style="font-size: 18px;">安装 Ant Design：<span style="color: #ff0000;"><a href="https://ant.design/docs/react/introduce-cn" target="_blank"><span style="color: #ff0000;">API Docs</span></a></span></span></strong>
<div class="cnblogs_code">
<pre><code>npm install antd --<span style="color: #000000;">save
或<br />cnpm install antd </span>--save</pre>
<pre><code><span>cnpm i antd -S</span></pre>
</div>
<p><span style="color: #ff0000;"><em>没有权限请使用 sudo</em></span></p>
</li>
</ul>
<ul>
<li><span style="font-size: 18px;"><strong>配置 Ant Design 按需加载：<span style="color: #ff0000;"><a href="https://ant.design/docs/react/introduce-cn" target="_blank"><span style="color: #ff0000;">配置文档</span></a></span></strong><br /><img src="./images/React搭建项目（全家桶）1.png" alt="" width="583" height="424" /><br /></span></li>


























</ul>
<p style="margin-left: 30px;"><em><span style="color: #808080;">使用&nbsp;<a href="https://github.com/ant-design/babel-plugin-import"><span style="color: #808080;">babel-plugin-import</span></a>（推荐）。</span></em></p>
<ol>
<li>首先暴露配置文件：
<div class="cnblogs_code">
<pre><code>npm run eject</pre>
</div>
<p><em><span style="color: #808080;">NOTE: Create React App 2+ supports TypeScript, Sass, CSS Modules and more without ejecting:</span>&nbsp;<a href="https://reactjs.org/blog/2018/10/01/create-react-app-v2.html" target="_blank">https://reactjs.org/blog/2018/10/01/create-react-app-v2.html</a></em></p>
<p><span style="color: #808080;"><em>该操作为永久性，不可逆的。</em></span></p>
</li>
<li>在 package.json 中配置 babel （<em><em><em>需要安装&nbsp;<em>babel-plugin-import&nbsp;</em></em></em></em><span style="font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px;"><span style="font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px;"><span style="font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px;">）<br /><em><span style="color: #ff0000;">Error</span>: Cannot find module 'babel-plugin-import'<br /></em><em><em><em>需要安装&nbsp;<em>babel-plugin-import<br /></em></em></em></em></span></span></span>
<div class="cnblogs_code">
<pre><code>npm install babel-plugin-import --save-<span style="color: #000000;">dev
或
cnpm install babel</span>-plugin-import --save-dev</pre>
<pre><code><span>cnpm i babel-plugin-import -D</span></pre>
</div>
<p>babel 配置如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800000;">"</span><span style="color: #800000;">babel</span><span style="color: #800000;">"</span><span style="color: #000000;">: {
    </span><span style="color: #800000;">"</span><span style="color: #800000;">presets</span><span style="color: #800000;">"</span><span style="color: #000000;">: [
      </span><span style="color: #800000;">"</span><span style="color: #800000;">react-app</span><span style="color: #800000;">"</span><span style="color: #000000;">
    ],
    </span><span style="color: #800000;">"</span><span style="color: #800000;">plugins</span><span style="color: #800000;">"</span><span style="color: #000000;">: [
      [
        </span><span style="color: #800000;">"</span><span style="color: #800000;">import</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        {
          </span><span style="color: #800000;">"</span><span style="color: #800000;">libraryName</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">antd</span><span style="color: #800000;">"</span><span style="color: #000000;">,
          </span><span style="color: #800000;">"</span><span style="color: #800000;">libraryDirectory</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">es</span><span style="color: #800000;">"</span><span style="color: #000000;">,
          </span><span style="color: #800000;">"</span><span style="color: #800000;">style</span><span style="color: #800000;">"</span>: <span style="color: #0000ff;">true</span><span style="color: #000000;">
        }
      ]
    ]
}</span></pre>
</div>
<p><span style="color: #808080;"><em>使用&nbsp;<a href="https://github.com/ant-design/babel-plugin-import"><span style="color: #808080;">babel-plugin-import</span></a>&nbsp;的&nbsp;<code>style</code>&nbsp;配置来引入样式，需要将配置值从 'style':&nbsp;<code>'css'</code>&nbsp;改为 'style':&nbsp;<code>true</code>，这样会引入 less 文件。</em></span></p>
</li>
<li><strong>配置 Ant Design 中文语言(默认文案是英文)：<span style="color: #ff0000;"><a href="https://ant.design/components/locale-provider-cn/" target="_blank"><span style="color: #ff0000;">配置文档</span></a></span></strong><br /><img src="./images/React搭建项目（全家桶）2.png" alt="" width="712" height="446" /><br />在入口文件index.js中配置：<br />
<div class="cnblogs_code">
<pre><code>import { ConfigProvider } <span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">antd</span><span style="color: #800000;">'</span><span style="color: #000000;">;
import zh_CN </span><span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">antd/lib/locale-provider/zh_CN</span><span style="color: #800000;">'</span><span style="color: #000000;">;
import moment </span><span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">moment</span><span style="color: #800000;">'</span><span style="color: #000000;">;
import </span><span style="color: #800000;">'</span><span style="color: #800000;">moment/locale/zh-cn</span><span style="color: #800000;">'</span><span style="color: #000000;">;

moment.locale(</span><span style="color: #800000;">'</span><span style="color: #800000;">zh-cn</span><span style="color: #800000;">'</span>);</pre>
</div>
<p>语言列表请参照：<span style="color: #ff0000;"><a href="https://ant.design/docs/react/i18n-cn" target="_blank"><span style="color: #ff0000;">Ant Design&nbsp;国际化</span></a></span><br /><br />另外需要使用 ConfigProvider 组件把 根组件 包裹起来：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ConfigProvider </span><span style="color: #ff0000;">locale</span><span style="color: #0000ff;">={zhCN}</span><span style="color: #0000ff;">&gt;</span>
  <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">App </span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ConfigProvider</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>&nbsp;</p>
</li>
</ol>
<ul>
<li><strong><span style="font-size: 18px;"><span style="font-size: 18px;">安装配置 less 预处理器 &amp;&amp;&nbsp;配置 Ant Design 主题: &nbsp;<span style="color: #ff0000;"><a href="https://ant.design/docs/react/customize-theme-cn" target="_blank"><span style="color: #ff0000;">配置文档</span></a></span></span></span></strong>
<div class="cnblogs_code">
<pre><code>npm install less less-loader --save-dev<br />或<br />cnpm install less less-loader --save-dev<br />cnpm i less less-loader -D</pre>
</div>
<p>在 config/webpack.config.js 中配置 less:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
  test: </span>/\.less$/<span style="color: #000000;">,
  use: [{
    loader: </span><span style="color: #800000;">'</span><span style="color: #800000;">style-loader</span><span style="color: #800000;">'</span><span style="color: #000000;">,
  }, {
    loader: </span><span style="color: #800000;">'</span><span style="color: #800000;">css-loader</span><span style="color: #800000;">'</span>, <span style="color: #008000;">//</span><span style="color: #008000;"> translates CSS into CommonJS</span>
<span style="color: #000000;">  }, {
    loader: </span><span style="color: #800000;">'</span><span style="color: #800000;">less-loader</span><span style="color: #800000;">'</span>, <span style="color: #008000;">//</span><span style="color: #008000;"> compiles Less to CSS</span>
<span style="color: #000000;">    options: {
      modifyVars: {
        </span><span style="color: #800000;">'</span><span style="color: #800000;">primary-color</span><span style="color: #800000;">'</span>: <span style="color: #800000;">'</span><span style="color: #800000;">#1DA57A</span><span style="color: #800000;">'</span><span style="color: #000000;">,
        </span><span style="color: #800000;">'</span><span style="color: #800000;">link-color</span><span style="color: #800000;">'</span>: <span style="color: #800000;">'</span><span style="color: #800000;">#1DA57A</span><span style="color: #800000;">'</span><span style="color: #000000;">,
        </span><span style="color: #800000;">'</span><span style="color: #800000;">border-radius-base</span><span style="color: #800000;">'</span>: <span style="color: #800000;">'</span><span style="color: #800000;">2px</span><span style="color: #800000;">'</span><span style="color: #000000;">,
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> or</span>
        <span style="color: #800000;">'</span><span style="color: #800000;">hack</span><span style="color: #800000;">'</span>: `<span style="color: #0000ff;">true</span>; @import <span style="color: #800000;">"</span><span style="color: #800000;">your-less-file-path.less</span><span style="color: #800000;">"</span>;`, <span style="color: #008000;">//</span><span style="color: #008000;"> Override with less file</span>
<span style="color: #000000;">      },
      javascriptEnabled: </span><span style="color: #0000ff;">true</span><span style="color: #000000;">,
    },
  }]
}</span></pre>
</div>
<p>配置位置如下：<br /><img src="./images/React搭建项目（全家桶）3.png" alt="" width="633" height="712" /><br /><br /><span style="font-size: 14px;"><em><strong>Ant Design 官网给出的可配置项：</strong></em></span></p>

























</li>
<li>
<div class="cnblogs_code">
<pre><code>@primary-color: #1890ff; <span style="color: #008000;">//</span><span style="color: #008000;"> 全局主色</span>
@link-color: #1890ff; <span style="color: #008000;">//</span><span style="color: #008000;"> 链接色</span>
@success-color: #52c41a; <span style="color: #008000;">//</span><span style="color: #008000;"> 成功色</span>
@warning-color: #faad14; <span style="color: #008000;">//</span><span style="color: #008000;"> 警告色</span>
@error-color: #f5222d; <span style="color: #008000;">//</span><span style="color: #008000;"> 错误色</span>
@font-size-<span style="color: #0000ff;">base</span>: 14px; <span style="color: #008000;">//</span><span style="color: #008000;"> 主字号</span>
@heading-color: rgba(<span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0.85</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 标题色</span>
@text-color: rgba(<span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0.65</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 主文本色</span>
@text-color-secondary : rgba(<span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, .<span style="color: #800080;">45</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 次文本色</span>
@disabled-color : rgba(<span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, .<span style="color: #800080;">25</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 失效色</span>
@border-radius-<span style="color: #0000ff;">base</span>: 4px; <span style="color: #008000;">//</span><span style="color: #008000;"> 组件/浮层圆角</span>
@border-color-<span style="color: #0000ff;">base</span>: #d9d9d9; <span style="color: #008000;">//</span><span style="color: #008000;"> 边框色</span>
@box-shadow-<span style="color: #0000ff;">base</span>: <span style="color: #800080;">0</span> 2px 8px rgba(<span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">0.15</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 浮层阴影</span></pre>
</div>
<p>&nbsp;</p>
</li>
<li><strong><span style="font-size: 18px;"><span style="font-size: 18px;">安装 CSS resets:&nbsp;</span></span><span style="font-size: 18px;">Normalize.css ( 样式重置 )</span></strong><br />
<div class="cnblogs_code">
<pre><code>npm install normalize.css --save<br />或<br />cnpm install normalize.css --save<br />cnpm i normalize.css -S</pre>
</div>
安装完成后在入口文件index.js中引入即可。<br />
<div class="cnblogs_code">
<pre><code>import <span style="color: #800000;">'</span><span style="color: #800000;">normalize.css</span><span style="color: #800000;">'</span>;</pre>
</div>
</li>
<li><span style="font-size: 18px;"><span style="font-size: 18px;"><strong>安装配置 axios、qs :&nbsp;</strong><br /></span></span>
<div class="cnblogs_code">
<pre><code>npm install axios qs --save<br />或<br />cnpm install axios qs --save<br />cnpm i axios qs -S</pre>
</div>
<p>&nbsp;配置请求拦截器、响应拦截器：<br />&nbsp;service.js:</p>
<div class="cnblogs_code">
<pre><code>import axios <span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">axios</span><span style="color: #800000;">'</span><span style="color: #000000;">;

</span><span style="color: #0000ff;">const</span> service =<span style="color: #000000;"> axios.create({
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> baseURL: window.location.origin,</span>
  timeout: <span style="color: #800080;">30000</span><span style="color: #000000;">,
  </span><span style="color: #008000;">/*</span><span style="color: #008000;">headers: {
    'Cache-Control': 'no-cache'
  }</span><span style="color: #008000;">*/</span><span style="color: #000000;">
});<br /><br /></span><span style="color: #008000;">/*</span><span style="color: #008000;"> 请求拦截器 </span><span style="color: #008000;">*/</span><span style="color: #000000;">
service.interceptors.request.use((config) </span>=&gt;<span style="color: #000000;"> {</span>
  <span style="color: #008000;">//</span><span style="color: #008000;"> 在这里配置请求 config<br /></span><span style="color: #0000ff;">　return</span><span style="color: #000000;"> config;
}, (err) </span>=&gt;<span style="color: #000000;"> {
  console.error(</span><span style="color: #800000;">'</span><span style="color: #800000;">请求发生了错误</span><span style="color: #800000;">'</span><span style="color: #000000;">, err);
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> Promise.reject(err);
});

</span><span style="color: #008000;">/*</span><span style="color: #008000;"> 响应拦截器 </span><span style="color: #008000;">*/</span><span style="color: #000000;">
service.interceptors.response.use((res) </span>=&gt;<span style="color: #000000;"> {
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> 在这里配置响应拦截器</span>
  <span style="color: #0000ff;">return</span><span style="color: #000000;"> res;
}, (err) </span>=&gt;<span style="color: #000000;"> {
  console.error(</span><span style="color: #800000;">'</span><span style="color: #800000;">响应发生了错误</span><span style="color: #800000;">'</span><span style="color: #000000;">, err);
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> Promise.reject(err);
});

export </span><span style="color: #0000ff;">default</span> service;</pre>
</div>
<p>配置API调用方法：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 引入 axios 配置</span>
import service <span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">./service</span><span style="color: #800000;">'</span><span style="color: #000000;">;
import qs </span><span style="color: #0000ff;">from</span> <span style="color: #800000;">"</span><span style="color: #800000;">qs</span><span style="color: #800000;">"</span><span style="color: #000000;">;

</span><span style="color: #008000;">//</span><span style="color: #008000;"> post 请求</span>
export function apiPost(data =<span style="color: #000000;"> {}) {
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> service({
    url: </span><span style="color: #800000;">"</span><span style="color: #800000;">接口url</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    method: </span><span style="color: #800000;">'</span><span style="color: #800000;">post</span><span style="color: #800000;">'</span><span style="color: #000000;">,
    data: qs.stringify(data),
  });
}

</span><span style="color: #008000;">//</span><span style="color: #008000;"> get 请求</span>
export function apiGet(<span style="color: #0000ff;">params</span> =<span style="color: #000000;"> {}) {
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> service({
    url: </span><span style="color: #800000;">"</span><span style="color: #800000;">接口url</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    method: </span><span style="color: #800000;">'</span><span style="color: #800000;">get</span><span style="color: #800000;">'</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">params</span>: <span style="color: #0000ff;">params</span><span style="color: #000000;">,
  });
}</span></pre>
</div>
<p>&nbsp;</p>
</li>
<li><span style="font-size: 18px;"><strong>配置跨域: <a href="https://facebook.github.io/create-react-app/docs/proxying-api-requests-in-development" target="_blank"><span style="color: #ff0000;">Docs</span></a><br /><img src="./images/React搭建项目（全家桶）4.png" alt="" width="559" height="428" /></strong></span><br /><em><em><span style="color: #888888;"><br />前面配置中 npm run eject 已经将配置暴露出来了<br /></span></em></em>
<div class="cnblogs_code">
<pre><code>npm install http-proxy-middleware --<span style="color: #000000;">save
或
cnpm i http</span>-proxy-middleware -S</pre>
</div>
在 <span style="color: #ff6600;"><strong>src</strong></span> 下新建 <span style="color: #ff6600;"><strong>setupProxy.js<br /></strong></span>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">const</span> proxy = require(<span style="color: #800000;">'</span><span style="color: #800000;">http-proxy-middleware</span><span style="color: #800000;">'</span><span style="color: #000000;">);

module.exports </span>=<span style="color: #000000;"> function(app) {
  app.use(proxy(</span><span style="color: #800000;">'</span><span style="color: #800000;">/api</span><span style="color: #800000;">'</span>, { target: <span style="color: #800000;">'</span><span style="color: #800000;">http://localhost:5000/</span><span style="color: #800000;">'</span><span style="color: #000000;"> }));
};</span></pre>
</div>
<p>&nbsp;</p>
</li>
<li><strong><span style="font-size: 18px;">安装配置路由 React-router：<span style="color: #ff0000;"><a href="https://reacttraining.com/react-router/web/guides/quick-start" target="_blank"><span style="color: #ff0000;">API Docs</span></a></span></span></strong><br />
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">npm install react-router-dom --save
或
cnpm install react-router-dom --save
cnpm i react-router-dom -S</span></pre>
</div>
<p>&nbsp;单独新建一个 router.js：<span style="color: #888888;">(&nbsp;<em>或者在入口文件 index.js 中写路由视图</em>)</span></p>
<div class="cnblogs_code">
<pre><code>import React <span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">react</span><span style="color: #800000;">'</span><span style="color: #000000;">;
import { BrowserRouter </span><span style="color: #0000ff;">as</span> Router, Route } <span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">react-router-dom</span><span style="color: #800000;">'</span><span style="color: #000000;">;
import YourComponent </span><span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">your-component-path</span><span style="color: #800000;">'</span><span style="color: #000000;">;

export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> function () {
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> (
    </span>&lt;Router&gt;
      &lt;Route path=<span style="color: #800000;">'</span><span style="color: #800000;">/</span><span style="color: #800000;">'</span> component={YourComponent} /&gt;
    &lt;/Router&gt;<span style="color: #000000;">
  );
}</span></pre>
</div>
<p>然后在index.js里引用使用这个router.js：</p>
<div class="cnblogs_code">
<pre><code>import Router from './path/router.js'<span style="color: #000000;">;

export </span><span style="color: #0000ff;">default</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> Index() {
  </span><span style="color: #0000ff;">return</span> &lt;Router /&gt;;  
}</pre>
</div>
<p><em><span style="color: #888888;">在哪个文件引用 router.js ，看个人项目构建喜好了，我是把 redux 和 antd 的配置 在 index.js 中引用的，把 router.js 在 app.js 中引用的，然后再把 app.js 引入到 index.js 中。<br />可以看我 <a href="https://github.com/qinWenMeng/React" target="_blank">GitHub</a>&nbsp;的 mixins-demo<br /><br /></span></em></p>













</li>
<li><span style="font-size: 18px;"><strong>安装配置 redux <a href="https://react-redux.js.org/introduction/quick-start" target="_blank"><span style="color: #ff0000;"><span style="text-decoration: underline;"><span style="text-decoration: underline;">react-redux&nbsp;</span></span><span style="text-decoration: underline;"><span style="text-decoration: underline;">Docs</span></span></span></a>、<a href="https://redux.js.org/introduction/getting-started" target="_blank"><span style="text-decoration: underline;"><span style="color: #ff0000; text-decoration: underline;">redux&nbsp;Docs</span></span></a>、</strong></span><a href="http://cn.redux.js.org/docs/react-redux/index.html" target="_blank"><span style="text-decoration: underline; color: #ff0000;"><span style="font-size: 18px;"><strong>中文Docs</strong></span></span></a><br />
<div class="cnblogs_code">
<pre><code>npm install redux redux-thunk react-redux --<span style="color: #000000;">save
或
cnpm install redux redux</span>-thunk react-redux --<span style="color: #000000;">save
cnpm i redux redux</span>-thunk react-redux -S</pre>
</div>
<p>在src目录下新建 redux 文件夹，作为配置 redux 的目录:<br /><img src="./images/React搭建项目（全家桶）5.png" alt="" width="180" height="307" /><br />actions: 针对不同功能模块进行配置的 actions 文件放在此目录<br />reducers:&nbsp;针对不同功能模块进行配置的 reducers&nbsp;文件放在此目录<br />reducers.js: 把所有reducers 结合起来<br />store.js: 对 redux 的配置文件<br />types.js:&nbsp;存放Actions中所需要的 type 属性值<br /><br />各文件代码：<br />types.js:</p>
<div class="cnblogs_code">
<pre><code>export const MYTODO = 'MYTODO'<span style="color: #000000;">;
export const MYLIST </span>= 'MYLIST'<span style="color: #000000;">;
export const OTHERTODO </span>= 'OTHERTODO'<span style="color: #000000;">;
export const OTHERLIST </span>= 'OTHERLIST';</pre>
</div>
<p>myReducer.js:</p>
<div class="cnblogs_code">
<pre><code>import { MYTODO, MYLIST } from '../types'<span style="color: #000000;">;
const initState </span>=<span style="color: #000000;"> {
  myTodos: [],
  list: [],
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> ...etc.</span>
<span style="color: #000000;">};
export </span><span style="color: #0000ff;">default</span> <span style="color: #0000ff;">function</span> (state =<span style="color: #000000;"> initState, action) {
  </span><span style="color: #0000ff;">switch</span><span style="color: #000000;"> (action.type) {
    </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> MYTODO:
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
        ...state,
        myTodos: action.payload
      };
    </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> MYLIST:
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
        ...state,
        list: action.payload
      };
    </span><span style="color: #0000ff;">default</span><span style="color: #000000;">:
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> state;
  }
}</span></pre>
</div>
<p>myActions.js:</p>
<div class="cnblogs_code">
<pre><code>import { MYTODO, MYLIST } from "../types"<span style="color: #000000;">;

export const myTodos </span>= (params) =&gt; (dispatch, getState) =&gt;<span style="color: #000000;"> {
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> const { myState, otherState } = getState();</span>
<span style="color: #000000;">  dispatch({
    type: MYTODO,
    payload: params
  });
};
export const handleMyList </span>= (params) =&gt; (dispatch, getState) =&gt;<span style="color: #000000;"> {
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> const { myState, otherState } = getState();</span>
<span style="color: #000000;">  dispatch({
    type: MYLIST,
    payload: params
  });
};</span></pre>
</div>
<p>otherReducer.js:</p>
<div class="cnblogs_code">
<pre><code>import { OTHERTODO, OTHERLIST } from '../types'<span style="color: #000000;">;
const initState </span>=<span style="color: #000000;"> {
  otherTodos: [],
  list: [],
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> ...etc.</span>
<span style="color: #000000;">};
export </span><span style="color: #0000ff;">default</span> <span style="color: #0000ff;">function</span> (state =<span style="color: #000000;"> initState, action) {
  </span><span style="color: #0000ff;">switch</span><span style="color: #000000;"> (action.type) {
    </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> OTHERTODO:
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
        ...state,
        otherTodos: action.payload
      };
    </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> OTHERLIST:
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
        ...state,
        list: action.payload
      };
    </span><span style="color: #0000ff;">default</span><span style="color: #000000;">:
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> state;
  }
}</span></pre>
</div>
<p>otherActions.js:</p>
<div class="cnblogs_code">
<pre><code>import { OTHERTODO, OTHERLIST } from "../types"<span style="color: #000000;">;

export const otherTodos </span>= (params) =&gt; (dispatch, getState) =&gt;<span style="color: #000000;"> {
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> const { myState, otherState } = getState();</span>
<span style="color: #000000;">  dispatch({
    type: OTHERTODO,
    payload: params
  });
};
export const handleOtherList </span>= (params) =&gt; (dispatch, getState) =&gt;<span style="color: #000000;"> {
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> const { myState, otherState } = getState();</span>
<span style="color: #000000;">  dispatch({
    type: OTHERLIST,
    payload: params
  });
};</span></pre>
</div>
<p>reducers.js:</p>
<div class="cnblogs_code">
<pre><code>import { combineReducers } from 'redux'<span style="color: #000000;">;
import myReducer from </span>'./reducers/myReducer'<span style="color: #000000;">;
import otherReducer from </span>'./reducers/otherReducer'<span style="color: #000000;">;

export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> combineReducers({
  myState: myReducer,
  otherState: otherReducer,
});</span></pre>
</div>
<p>store.js:</p>
<div class="cnblogs_code">
<pre><code>import { createStore, applyMiddleware, compose } from 'redux'<span style="color: #000000;">;
import thunk from </span>'redux-thunk'<span style="color: #000000;">;
import reducers from </span>'./reducers'<span style="color: #000000;">;

const initState </span>=<span style="color: #000000;"> {};
const middleware </span>=<span style="color: #000000;"> [thunk];

const composeEnhancers </span>=
  <span style="color: #0000ff;">typeof</span> window === 'object' &amp;&amp;<span style="color: #000000;">
    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ </span>?<span style="color: #000000;">
    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({
      </span><span style="color: #008000;">//</span><span style="color: #008000;"> Specify extension&rsquo;s options like name, actionsBlacklist, actionsCreators, serialize...</span>
<span style="color: #000000;">    }) : compose;

const enhancer </span>=<span style="color: #000000;"> composeEnhancers(
  applyMiddleware(...middleware),
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> other store enhancers if any</span>
<span style="color: #000000;">);

export const store </span>= createStore(reducers, initState, enhancer);</pre>
</div>
<p>以上Redux基本配置完成，下面是调用方法：</p>
<div class="cnblogs_code">
<pre><code>import React, { useEffect } from 'react'<span style="color: #000000;">;
import PropTypes from </span>'prop-types'<span style="color: #000000;">;
import { connect } from </span>'react-redux'<span style="color: #000000;">;
import { myTodos, handleMyList } from </span>'./path/redux/actions/myActions'<span style="color: #000000;">;

</span><span style="color: #0000ff;">function</span><span style="color: #000000;"> MyTodosComponent() {
  useEffect(() </span>=&gt;<span style="color: #000000;"> {
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 通过this.props 访问 state</span>
    console.log(<span style="color: #0000ff;">this</span><span style="color: #000000;">.props.myTodos);
    console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.props.list);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 调用 actions</span>
    const todos =<span style="color: #000000;"> [
      {
        id: </span>1<span style="color: #000000;">,
        todo: </span>'say hello world'<span style="color: #000000;">
      }
    ];
    </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.props.myTodos(todos);
    const list </span>=<span style="color: #000000;"> [
      {
        id: </span>1<span style="color: #000000;">,
        text: </span>'test'<span style="color: #000000;">,
      },
    ];
    </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.props.handleMyList(list);
  }, []);
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> (
    </span>&lt;div&gt;<span style="color: #000000;">
      {
        </span><span style="color: #0000ff;">this</span>.props.todos.map((item, index) =&gt;<span style="color: #000000;"> {
          </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> (
            </span>&lt;div&gt;id:{item.id}, todo:{item.todo}&lt;/div&gt;
<span style="color: #000000;">          );
        })
      }
    </span>&lt;/div&gt;
<span style="color: #000000;">  );
}
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 类型检查</span>
MyTodosComponent.propTypes =<span style="color: #000000;"> {
  myTodos: PropTypes.array.isRequired,
  list: PropTypes.array.isRequired,
};
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 把redux中的state绑定到组件的props上</span>
const mapStateToProps = (state) =&gt;<span style="color: #000000;"> {
  const { myTodos, list } </span>=<span style="color: #000000;"> state.myState;
  </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
    myTodos,
    list,
  };
};
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 把redux和组件结合起来,使组件能在props中访问到state和actions</span>
export <span style="color: #0000ff;">default</span><span style="color: #000000;"> connect(
  mapStateToProps,
  {
    myTodos,
    handleMyList,
  },
)(MyTodosComponent);</span></pre>
</div>
<p><em><span style="color: #888888;">以上代码只是示例，只需要关注配置和使用方法即可</span></em><br /><br />更多demo示例请看我的<a href="https://github.com/qinWenMeng" target="_blank">GitHub</a><br /><br /></p>





</li>





</ul>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>