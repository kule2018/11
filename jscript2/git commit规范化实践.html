<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修git commit规范化实践' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>git commit规范化实践</center></div><div class='banquan'>原文出处:本文由博客园博主寻找石头鱼提供。<br/>
原文连接:https://www.cnblogs.com/xzsty/p/11244981.html</div><br>
    <p>最近从svn转到git进行代码版本控制，今天了解了git commit规范化的一些知识后，写此文章记录下配置过程。</p>
<h2 id="环境">环境</h2>
<p>编辑器使用的是vscode，项目框架是vue3.0</p>
<h2 id="规范化工具">规范化工具</h2>
<h3 id="规范化git-commit消息的工具commitizen">规范化git commit消息的工具commitizen</h3>
<pre><code><code> # 将commitizen命令行安装到全局
npm install -g commitizen</code></pre>
<p>安装完之后我们就项目中引进改工具，就可以规范commit行为了。提交的命令为git cz，如果还是用git commit命令进行提交，那么这个工具就不会起到什么作用了。</p>
<p>commitizen对commit规范化界面都是英文提示，这个时候我就想如果要汉化怎么办，这就有了下面一个工具的出现。</p>
<h3 id="安装可定制的commitizen插件cz-customizable">安装可定制的Commitizen插件<a href="https://github.com/leonardoanalista/cz-customizable">cz-customizable</a></h3>
<pre><code><code>npm install cz-customizable --save-dev</code></pre>
<p>安装cz-customizable可以配置自定义的commitizen配置文件，在自定义的配置文件中我就可以对配置进行汉化</p>
<pre><code><code>  &quot;config&quot;: {
    &quot;commitizen&quot;: {
      &quot;path&quot;: &quot;./node_modules/cz-customizable&quot;
    },
    &quot;cz-customizable&quot;: {
      &quot;config&quot;: &quot;my.cz-config.js&quot; // 这里的文件名可以自定义，但是改文件需要放置在项目的根目录下
    }
  }</code></pre>
<p>汉化完之后的效果是下面这样：<br />
<img src="./images/git commit规范化实践0.png" /></p>
<h2 id="版本发布">版本发布</h2>
<p>进行commit规范化的好处是为了提高团队协作效率，使代码阅读性更强。还有另外一个节省后期维护版本信息的成本。通过规范化commit行为，我们可以通过自动化工具生成版本信息这样极大的降低了维护成本，提高了工作效率。在这里我使用的版本发布工具是<a href="https://github.com/conventional-changelog/standard-version">standard-version</a>,当然还有<a href="https://github.com/conventional-changelog/conventional-changelog">conventional-changelog</a>可以使用。</p>
<p>standard-version可以自动帮助我们做以下几件事情:</p>
<ol>
<li>自动在数据中生成版本号</li>
<li>使用conventional-changelog更新 CHANGELOG.md</li>
<li>提交package.json (如果有) 和 CHANGELOG.md</li>
<li>给新版本打一个tag</li>
</ol>
<p>首先是安装standard-version</p>
<pre><code><code>npm i standard-version --save-dev</code></pre>
<p>安装完成之后，执行standard-version命令，在控制台可以看到如下信息:<br />
<img src="./images/git commit规范化实践1.png" /></p>
<p>可以清楚的看到standard-version做了哪些事情。其中package.json和changelog.md文件是被自动提交了的。这样在项目中生成了一个changelog文件</p>
<pre><code><code># Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

### [0.3.2](http://112.80.40.2:11080/chenchent/cdss-acs/compare/v0.3.1...v0.3.2) (2019-07-25)



### [0.3.1](http://112.80.40.2:11080/chenchent/cdss-acs/compare/v0.3.0...v0.3.1) (2019-07-25)


### Bug Fixes

* 将commitizen使用本地配置文件 ([4accd0a](http://112.80.40.2:11080/chenchent/cdss-acs/commit/4accd0a))



## [0.3.0](http://112.80.40.2:11080/chenchent/cdss-acs/compare/v0.2.0...v0.3.0) (2019-07-25)

### Bug Fixes

- **changelog:** 生成新的 changelog 文件 ([17747cf](http://112.80.40.2:11080/chenchent/cdss-acs/commit/17747cf))

### BREAKING CHANGES

- **changelog:** 测试

## 0.2.0 (2019-07-25)

### Features

- **me:** 测试 ([64e596d](http://112.80.40.2:11080/chenchent/cdss-acs/commit/64e596d))

# 0.1.0 (2019-07-25)

### Features

- **me:** 测试 ([64e596d](http://112.80.40.2:11080/chenchent/cdss-acs/commits/64e596d))
</code></pre>
<h3 id="由于我习惯于使用node命令所以最后我又将规范化跟版本生成的命令配置到了scripts中">由于我习惯于使用node命令，所以最后我又将规范化跟版本生成的命令配置到了scripts中</h3>
<pre><code><code>  &quot;scripts&quot;: {
    &quot;commit&quot;: &quot;git cz&quot;,
    &quot;changelog&quot;: &quot;standard-version --dry-run &amp;&amp; standard-version&quot; 
# standard-version --dry-run只是用来打印要做的事情，并不会做实际的操作
  }</code></pre>
<p>这就是我对git commit规范化的一些实践。mark下来做一个记录，希望可以帮助到其他人。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>