<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修js vue  页面添加水印' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>js vue  页面添加水印</center></div><div class='banquan'>原文出处:本文由博客园博主九条尾巴的猫提供。<br/>
原文连接:https://www.cnblogs.com/jtwbdm/p/11544246.html</div><br>
    <p>vue 微信页面添加水印</p>
<p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.$nextTick(function() {<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; watermark({ watermark_txt: "&lt;div&gt;" + '123' + "&lt;/div&gt;&lt;div&gt;" + '456' + "&lt;/div&gt;"});<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; })</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>function watermark(settings) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //默认设置<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; var defaultSettings={<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_txt:"text",<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_x:70,//水印起始位置x轴坐标<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_y:10,//水印起始位置Y轴坐标<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_rows:100,//水印行数<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_cols:2,//水印列数<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_x_space:60,//水印x轴间隔<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_y_space:40,//水印y轴间隔<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_color:'#aaa',//水印字体颜色<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_alpha:0.3,//水印透明度<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_fontsize:'.26rem',//水印字体大小<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_width:60,//水印宽度<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_height:60,//水印高度<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; watermark_angle:10//水印倾斜度数<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; };<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //采用配置项替换默认值，作用类似jquery.extend<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; if(arguments.length===1&amp;&amp;typeof arguments[0] ==="object" )<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; var src=arguments[0]||{};<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; for(key in src)<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(src[key]&amp;&amp;defaultSettings[key]&amp;&amp;src[key]===defaultSettings[key])<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(src[key])<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultSettings[key]=src[key];<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; }<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; var oTemp = document.createDocumentFragment();<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //获取页面最大宽度<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; var page_width = Math.max(document.body.scrollWidth,document.body.clientWidth) - 30;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //获取页面最大高度<br />// &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; var page_height = Math.max(document.body.scrollHeight,document.body.clientHeight);<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; var page_height = Math.max($("#iContainer").get(0).clientHeight,document.body.clientHeight,$("#iContainer").get(0).scrollHeight) - 20;<br />// &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; var page_height = $("#iContainer").get(0).scrollHeight;<br />&nbsp; &nbsp;&nbsp; &nbsp; // console.log(page_height,$("#iContainer").outerHeight());<br />&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //如果将水印列数设置为0，或水印列数设置过大，超过页面最大宽度，则重新计算水印列数和水印x轴间隔<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; if (defaultSettings.watermark_cols == 0 || (parseInt(defaultSettings.watermark_x + defaultSettings.watermark_width *defaultSettings.watermark_cols + defaultSettings.watermark_x_space * (defaultSettings.watermark_cols - 1)) &gt; page_width)) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; defaultSettings.watermark_cols = parseInt((page_width-defaultSettings.watermark_x+defaultSettings.watermark_x_space) / (defaultSettings.watermark_width + defaultSettings.watermark_x_space));<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; defaultSettings.watermark_x_space = parseInt((page_width - defaultSettings.watermark_x - defaultSettings.watermark_width * defaultSettings.watermark_cols) / (defaultSettings.watermark_cols - 1));<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; }<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; //如果将水印行数设置为0，或水印行数设置过大，超过页面最大长度，则重新计算水印行数和水印y轴间隔<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; if (defaultSettings.watermark_rows == 0 || (parseInt(defaultSettings.watermark_y + defaultSettings.watermark_height * defaultSettings.watermark_rows + defaultSettings.watermark_y_space * (defaultSettings.watermark_rows - 1)) &gt; page_height)) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; defaultSettings.watermark_rows = parseInt((defaultSettings.watermark_y_space + page_height - defaultSettings.watermark_y) / (defaultSettings.watermark_height + defaultSettings.watermark_y_space));<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; defaultSettings.watermark_y_space = parseInt(((page_height - defaultSettings.watermark_y) - defaultSettings.watermark_height * defaultSettings.watermark_rows) / (defaultSettings.watermark_rows - 1));<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; }<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; var x;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; var y;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; for (var i = 0; i &lt; defaultSettings.watermark_rows; i++) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; y = defaultSettings.watermark_y + (defaultSettings.watermark_y_space + defaultSettings.watermark_height) * i;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; for (var j = 0; j &lt; defaultSettings.watermark_cols; j++) {<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x = defaultSettings.watermark_x + (defaultSettings.watermark_width + defaultSettings.watermark_x_space) * j;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var mask_div = document.createElement('div');<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.id = 'mask_div' + i + j;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.className = 'mask_div';<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.innerHTML = defaultSettings.watermark_txt;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置水印div倾斜显示<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.webkitTransform = "rotate(-" + defaultSettings.watermark_angle + "deg)";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.MozTransform = "rotate(-" + defaultSettings.watermark_angle + "deg)";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.msTransform = "rotate(-" + defaultSettings.watermark_angle + "deg)";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.OTransform = "rotate(-" + defaultSettings.watermark_angle + "deg)";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.transform = "rotate(-" + defaultSettings.watermark_angle + "deg)";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.visibility = "";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.position = "absolute";<br />// &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.left = x + 'px';<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.top = y + 'px';<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.overflow = "hidden";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.zIndex = "9999999";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.pointerEvents = "none";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.opacity = defaultSettings.watermark_alpha;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.fontSize = defaultSettings.watermark_fontsize;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.fontFamily = defaultSettings.watermark_font;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.color = defaultSettings.watermark_color;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.textAlign = "center";<br />// &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.width = defaultSettings.watermark_width + 'px';<br />// &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.height = defaultSettings.watermark_height + 'px';<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.lineHeight = '.32rem';<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mask_div.style.display = "inline-block";<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oTemp.appendChild(mask_div);<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; };<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; };<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; console.log($('.mask_div:odd'));<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; document.body.appendChild(oTemp);<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; $('.mask_div:odd').css({left:defaultSettings.watermark_x + 'px'});<br />&nbsp;&nbsp; &nbsp;&nbsp; $('.mask_div:even').css({right:defaultSettings.watermark_x + 'px'});<br />}</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>