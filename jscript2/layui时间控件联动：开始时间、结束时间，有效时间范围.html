<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修layui时间控件联动：开始时间、结束时间，有效时间范围' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>layui时间控件联动：开始时间、结束时间，有效时间范围</center></div><div class='banquan'>原文出处:本文由博客园博主心未鳴提供。<br/>
原文连接:https://www.cnblogs.com/xwma/p/10974099.html</div><br>
    <p>实际开发中，经常遇到时间控件联动的情况，然后每次都网上搜代码Copy，不过每次都有点小Bug让你错不及防；</p>
<p>这次，在这里备份一下，以后Copy自己的得了（欢迎Copy代码，若遇到问题，请麻烦回复我一下，云测试Bug，hhh）：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('cd8834fe-7169-4113-ba53-ecd3960e202e')"><img id="code_img_closed_cd8834fe-7169-4113-ba53-ecd3960e202e" class="code_img_closed" src="./images/layui时间控件联动：开始时间、结束时间，有效时间范围0.png" alt="" /><img id="code_img_opened_cd8834fe-7169-4113-ba53-ecd3960e202e" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('cd8834fe-7169-4113-ba53-ecd3960e202e',event)" src="./images/layui时间控件联动：开始时间、结束时间，有效时间范围1.png" alt="" />
<div id="cnblogs_code_open_cd8834fe-7169-4113-ba53-ecd3960e202e" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #000000;">@Styles.Render("~/Content/layuiadmin/layui/css/layui.css")
</span><span style="color: #008080;"> 2</span> <span style="color: #000000;">@Styles.Render("~/Content/layuiadmin/style/admin.css?v=1")
</span><span style="color: #008080;"> 3</span> <span style="color: #000000;">@Scripts.Render("~/Plugins/json3.min.js")
</span><span style="color: #008080;"> 4</span> <span style="color: #000000;">@Scripts.Render("~/Scripts/jquery-1.10.2.min.js")
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">@Scripts.Render("~/Content/layuiadmin/layui/layui.js")
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-fluid layui-form"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-card"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-card-body"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">10</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-form-item"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span>                 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-inline"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">13</span>                     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">label </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-form-label"</span><span style="color: #0000ff;">&gt;</span>开始时间：<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">label</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">14</span>                     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-input-inline"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">15</span>                         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="beginDate"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="beginDate"</span><span style="color: #ff0000;"> autocomplete</span><span style="color: #0000ff;">="off"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="layui-input laydate"</span><span style="color: #ff0000;"> placeholder</span><span style="color: #0000ff;">="年-月-日"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">16</span>                     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">17</span>                 <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">18</span> 
<span style="color: #008080;">19</span>                 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-inline"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">20</span>                     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">label </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-form-label"</span><span style="color: #0000ff;">&gt;</span>结束时间：<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">label</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">21</span>                     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="layui-input-inline"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">22</span>                         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="endDate"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="endDate"</span><span style="color: #ff0000;"> autocomplete</span><span style="color: #0000ff;">="off"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="layui-input laydate"</span><span style="color: #ff0000;"> placeholder</span><span style="color: #0000ff;">="年-月-日"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">23</span>                     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">24</span>                 <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">25</span> 
<span style="color: #008080;">26</span>             <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">27</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">28</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">29</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">30</span> 
<span style="color: #008080;">31</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="hidden"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="hidMinListDate"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="1998-01-01"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">32</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="hidden"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="hidMaxListDate"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="@DateTime.Now.ToString("</span><span style="color: #ff0000;">yyyy-MM-dd")" </span><span style="color: #0000ff;">/&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">其它代码</span></div>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> layui.use('laydate', <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
</span><span style="color: #008080;"> 2</span>     <span style="color: #0000ff;">var</span> laydate =<span style="color: #000000;"> layui.laydate;
</span><span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">var</span> minListDate = $('#hidMinListDate').val();<span style="color: #008000;">//</span><span style="color: #008000;">最小可选时间，例：1990-02-01</span>
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">var</span> maxListDate = $('#hidMaxListDate').val();<span style="color: #008000;">//</span><span style="color: #008000;">最大可选时间，例：2200-12-31</span>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">var</span> begin = "#beginDate", end = "#endDate";<span style="color: #008000;">//</span><span style="color: #008000;">开始时间选择框、结束时间选择框：文本框</span>
<span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">var</span> endChange = <span style="color: #0000ff;">function</span><span style="color: #000000;"> (val, date) {
</span><span style="color: #008080;"> 7</span>         <span style="color: #0000ff;">if</span> (date &amp;&amp;<span style="color: #000000;"> date.year)
</span><span style="color: #008080;"> 8</span>             begindate.config.max =<span style="color: #000000;"> {
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">                year: date.year,
</span><span style="color: #008080;">10</span>                 month: date.month - 1,<span style="color: #008000;">//</span><span style="color: #008000;">必须减1才是正确值</span>
<span style="color: #008080;">11</span> <span style="color: #000000;">                date: date.date,
</span><span style="color: #008080;">12</span> <span style="color: #000000;">                hours: date.hours,
</span><span style="color: #008080;">13</span> <span style="color: #000000;">                minutes: date.minutes,
</span><span style="color: #008080;">14</span> <span style="color: #000000;">                seconds: date.seconds
</span><span style="color: #008080;">15</span> <span style="color: #000000;">            };
</span><span style="color: #008080;">16</span>         <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">17</span>             <span style="color: #0000ff;">var</span> dateInit = <span style="color: #0000ff;">new</span> Date(maxListDate.replace(/-/g, "/"<span style="color: #000000;">));
</span><span style="color: #008080;">18</span>             begindate.config.max =<span style="color: #000000;"> {
</span><span style="color: #008080;">19</span> <span style="color: #000000;">                year: dateInit.getFullYear(),
</span><span style="color: #008080;">20</span> <span style="color: #000000;">                month: dateInit.getMonth(),
</span><span style="color: #008080;">21</span> <span style="color: #000000;">                date: dateInit.getDate(),
</span><span style="color: #008080;">22</span> <span style="color: #000000;">                hours: dateInit.getHours(),
</span><span style="color: #008080;">23</span> <span style="color: #000000;">                minutes: dateInit.getMinutes(),
</span><span style="color: #008080;">24</span> <span style="color: #000000;">                seconds: dateInit.getSeconds()
</span><span style="color: #008080;">25</span> <span style="color: #000000;">            };
</span><span style="color: #008080;">26</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">27</span> <span style="color: #000000;">    };
</span><span style="color: #008080;">28</span>     <span style="color: #0000ff;">var</span> beginChange = <span style="color: #0000ff;">function</span><span style="color: #000000;"> (val, date) {
</span><span style="color: #008080;">29</span>         <span style="color: #0000ff;">if</span> (date &amp;&amp;<span style="color: #000000;"> date.year)
</span><span style="color: #008080;">30</span>             enddate.config.min =<span style="color: #000000;"> {
</span><span style="color: #008080;">31</span> <span style="color: #000000;">                year: date.year,
</span><span style="color: #008080;">32</span>                 month: date.month - 1<span style="color: #000000;">,
</span><span style="color: #008080;">33</span> <span style="color: #000000;">                date: date.date,
</span><span style="color: #008080;">34</span> <span style="color: #000000;">                hours: date.hours,
</span><span style="color: #008080;">35</span> <span style="color: #000000;">                minutes: date.minutes,
</span><span style="color: #008080;">36</span> <span style="color: #000000;">                seconds: date.seconds
</span><span style="color: #008080;">37</span> <span style="color: #000000;">            };
</span><span style="color: #008080;">38</span>         <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">39</span>             <span style="color: #0000ff;">var</span> dateInit = <span style="color: #0000ff;">new</span> Date(minListDate.replace(/-/g, "/"<span style="color: #000000;">));
</span><span style="color: #008080;">40</span>             enddate.config.min =<span style="color: #000000;"> {
</span><span style="color: #008080;">41</span> <span style="color: #000000;">                year: dateInit.getFullYear(),
</span><span style="color: #008080;">42</span> <span style="color: #000000;">                month: dateInit.getMonth(),
</span><span style="color: #008080;">43</span> <span style="color: #000000;">                date: dateInit.getDate(),
</span><span style="color: #008080;">44</span> <span style="color: #000000;">                hours: dateInit.getHours(),
</span><span style="color: #008080;">45</span> <span style="color: #000000;">                minutes: dateInit.getMinutes(),
</span><span style="color: #008080;">46</span> <span style="color: #000000;">                seconds: dateInit.getSeconds()
</span><span style="color: #008080;">47</span> <span style="color: #000000;">            };
</span><span style="color: #008080;">48</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">49</span> <span style="color: #000000;">    };
</span><span style="color: #008080;">50</span>     <span style="color: #0000ff;">var</span> enddate =<span style="color: #000000;"> laydate.render({
</span><span style="color: #008080;">51</span> <span style="color: #000000;">        elem: end,
</span><span style="color: #008080;">52</span>         format: 'yyyy-MM-dd'<span style="color: #000000;">,
</span><span style="color: #008080;">53</span> <span style="color: #000000;">        min: minListDate,
</span><span style="color: #008080;">54</span> <span style="color: #000000;">        max: maxListDate,
</span><span style="color: #008080;">55</span> <span style="color: #000000;">        done: endChange
</span><span style="color: #008080;">56</span> <span style="color: #000000;">    });
</span><span style="color: #008080;">57</span>     <span style="color: #0000ff;">var</span> begindate =<span style="color: #000000;"> laydate.render({
</span><span style="color: #008080;">58</span> <span style="color: #000000;">        elem: begin,
</span><span style="color: #008080;">59</span>         format: 'yyyy-MM-dd'<span style="color: #000000;">,
</span><span style="color: #008080;">60</span> <span style="color: #000000;">        min: minListDate,
</span><span style="color: #008080;">61</span> <span style="color: #000000;">        max: maxListDate,
</span><span style="color: #008080;">62</span> <span style="color: #000000;">        done: beginChange
</span><span style="color: #008080;">63</span> <span style="color: #000000;">    });
</span><span style="color: #008080;">64</span> });</pre>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>