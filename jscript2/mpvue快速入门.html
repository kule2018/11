<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修mpvue快速入门' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>mpvue快速入门</center></div><div class='banquan'>原文出处:本文由博客园博主RopeHuo提供。<br/>
原文连接:https://www.cnblogs.com/rope/p/11713762.html</div><br>
    <p><img src="./images/mpvue快速入门0.png" alt="mpvue" /></p>
<h2 id="主要特性">主要特性</h2>
<p>使用 <code>mpvue</code> 开发小程序，你将在小程序技术体系的基础上获取到这样一些能力：</p>
<ul>
<li>彻底的组件化开发能力：提高代码复用性</li>
<li>完整的 <code>Vue.js</code> 开发体验</li>
<li>方便的 <code>Vuex</code> 数据管理方案：方便构建复杂应用</li>
<li>快捷的 <code>webpack</code> 构建机制：自定义构建策略、开发阶段 hotReload</li>
<li>支持使用 npm 外部依赖</li>
<li>使用 <code>Vue.js</code> 命令行工具 vue-cli 快速初始化项目</li>
<li>H5 代码转换编译成小程序目标代码的能力</li>
</ul>
<h2 id="快速开始">快速开始</h2>
<pre><code><code># 1. 先检查下 Node.js 是否安装成功
$ node -v
v8.9.0

$ npm -v
5.6.0

# 2. 由于众所周知的原因，可以考虑切换源为 taobao 源
$ npm set registry https://registry.npm.taobao.org/

# 3. 全局安装 vue-cli
# 一般是要 sudo 权限的
$ npm install --global vue-cli@2.9
$ sudo npm install --global vue-cli@2.9

# 4. 创建一个基于 mpvue-quickstart 模板的新项目
# 新手一路回车选择默认就可以了
$ vue init mpvue/mpvue-quickstart my-project

# 5. 安装依赖，走你
$ cd my-project
$ npm install
$ npm run dev # 可查看package.json支持哪些命令编译</code></pre>
<p><code>vue init</code> 时：</p>
<p>? Project name 你项目的名字<br />
? wxmp appid 你的小程序appid<br />
? Project description 项目描述<br />
? Author 作者信息<br />
? Vue build runtime 仅限运行时：没有自定义呈现函数，只能在*.vue中编译模板<br />
? Use Vuex? 是否使用vuex<br />
? Use ESLint to lint your code? 是否使用eslint</p>
<p>运行成功后可以在dist目录下看到build好的文件目录，在相应的小程序开发工具导入即可使用</p>
<h3 id="注意事项">注意事项</h3>
<p>新增的页面需要重新 <code>npm run dev</code> 来进行编译</p>
<h2 id="生成的项目目录">生成的项目目录</h2>
<pre><code><code>├── README.md #描述文件
├── build #build时执行文件目录,根据环境执行不同文件
│   ├── build.js
│   ├── check-versions.js
│   ├── dev-client.js
│   ├── dev-server.js
│   ├── utils.js
│   ├── vue-loader.conf.js #vue-loader配置文件
│   ├── webpack.base.conf.js
│   ├── webpack.dev.conf.js #开发版本打包执行文件
│   └── webpack.prod.conf.js #线上版本打包执行文件
├── config #项目配置文件
│   ├── dev.env.js #开发环境
│   ├── index.js #core代码
│   └── prod.env.js #线上环境
├── dist #生成各种小程序到此目录
│   └── wx #生成的微信小程序项目目录,可在微信开发者工具直接导入
│
├── index.html #挂载index
├── package.json
├── package.swan.json
├── project.config.json #微信项目配置文件
├── project.swan.json #百度项目配置文件
├── src #项目核心目录
│   ├── App.vue #项目初始化时先执行组件
│   ├── app.json #页面路径配置文件
│   ├── components #组件目录
│   │   └── card.vue #纯vue组件
│   ├── main.js #项目入口文件
│   ├── pages #页面目录
│   │   └── logs
│   │       ├── index.vue #页面模版,纯vue开发
│   │       ├── main.js #页面入口文件
│   │       └── main.json #页面配置文件
│   └── utils #工具文件目录
│       └── index.js #index工具文件
├── static #静态资源目录
│   ├── images
│   │   └── user.png
│   └── tabs
│       ├── home-active.png
│       ├── home.png
│       ├── orders-active.png
│       └── orders.png
└── tree.txt #项目结构树文件</code></pre>
<h2 id="生命周期">生命周期</h2>
<p>除了 Vue 本身的生命周期外，mpvue 还兼容了小程序生命周期，这部分生命周期钩子的来源于<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/page.html">微信小程序的 Page</a>， 除特殊情况外，不建议使用小程序的生命周期钩子。</p>
<p><img src="./images/mpvue快速入门1.png" alt="生命周期" /></p>
<h2 id="注意事情">注意事情</h2>
<p>1、小程序里所有的 BOM／DOM 都不能用，也就是说 <code>v-html</code> 指令不能用。</p>
<p>2、 template 中的 <code>{{}}</code> 双花括号的部分，直接编码到 wxml 文件中，由于微信小程序的能力限制(<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/data.html">数据绑定</a>)，所以无法支持复杂的 JavaScript 表达式。目前可以使用的有 <code>+ - * % ?: ! == === &gt; &lt; [] .</code>。</p>
<h2 id="事件处理">事件处理</h2>
<pre class="json"><code>// 事件映射表，左侧为 WEB 事件，右侧为 小程序 对应事件
{
    click: &#39;tap&#39;,
    touchstart: &#39;touchstart&#39;,
    touchmove: &#39;touchmove&#39;,
    touchcancel: &#39;touchcancel&#39;,
    touchend: &#39;touchend&#39;,
    tap: &#39;tap&#39;,
    longtap: &#39;longtap&#39;,
    input: &#39;input&#39;,
    change: &#39;change&#39;,
    submit: &#39;submit&#39;,
    blur: &#39;blur&#39;,
    focus: &#39;focus&#39;,
    reset: &#39;reset&#39;,
    confirm: &#39;confirm&#39;,
    columnchange: &#39;columnchange&#39;,
    linechange: &#39;linechange&#39;,
    error: &#39;error&#39;,
    scrolltoupper: &#39;scrolltoupper&#39;,
    scrolltolower: &#39;scrolltolower&#39;,
    scroll: &#39;scroll&#39;
}</code></pre>
<p>事件修饰符</p>
<ul>
<li><code>.stop</code> 的使用会阻止冒泡，但是同时绑定了一个非冒泡事件，会导致该元素上的 catchEventName 失效！</li>
<li><code>.prevent</code> 可以直接干掉，因为小程序里没有什么默认事件，比如submit并不会跳转页面</li>
<li><code>.capture</code> 支持 <code>1.0.9</code></li>
<li><code>.self</code> 没有可以判断的标识</li>
<li><code>.once</code> 也不能做，因为小程序没有 removeEventListener, 虽然可以直接在 handleProxy 中处理，但非常的不优雅，违背了原意，暂不考虑</li>
</ul>
<h2 id="小程序组件">小程序组件</h2>
<p>mpvue 可以支持小程序的原生组件，比如： <code>picker,map</code> 等，需要注意的是原生组件上的事件绑定，需要以 <code>vue</code> 的事件绑定语法来绑定，如 <code>bindchange=&quot;eventName&quot;</code> 事件，需要写成 <code>@change=&quot;eventName&quot;</code></p>
<p>示例代码：</p>
<pre class="vue"><code>&lt;picker mode=&quot;date&quot; :value=&quot;date&quot; start=&quot;2015-09-01&quot; end=&quot;2017-09-01&quot; @change=&quot;bindDateChange&quot;&gt;
    &lt;view class=&quot;picker&quot;&gt;
      当前选择: {{date}}
    &lt;/view&gt;
&lt;/picker&gt;</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>