<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修vue 无限滚动问题' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>vue 无限滚动问题</center></div><div class='banquan'>原文出处:本文由博客园博主狂奔的蜗牛0828提供。<br/>
原文连接:https://www.cnblogs.com/ttjm/p/11714757.html</div><br>
    <p><span style="font-size: 15px;">如今web开发中，无限加载是必需的一项功能，尤其是在移动端开发中，一个列表往往默认只加载10条，想看更多只能逐渐往下翻页。那么今天就看看如何在Vue-Cli中实现这个功能。</span></p>
<p>当前找到两个插件</p>
<p><span style="font-size: 18px;">1 element-ui的infiniteScroll无限滚动（适合vue2,vue3）</span></p>
<p><span style="font-size: 18px;">　　<span style="font-size: 14px;">infiniteScroll是2.9.0版本新增的特性，旧的项目需要升级element版本（注意升级可能导致其他页面的无措，谨慎升级）</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 14px;">　　链接&nbsp;&nbsp;<a href="https://element.eleme.cn/2.12/#/zh-CN/component/infiniteScroll">https://element.eleme.cn/2.12/#/zh-CN/component/infiniteScroll</a></span></span></p>
<div class="cnblogs_code">
<pre><code>&lt;template&gt;
  &lt;ul <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">infinite-list</span><span style="color: #800000;">"</span> v-infinite-scroll=<span style="color: #800000;">"</span><span style="color: #800000;">load</span><span style="color: #800000;">"</span> style=<span style="color: #800000;">"</span><span style="color: #800000;">overflow:auto</span><span style="color: #800000;">"</span>&gt;
    &lt;li v-<span style="color: #0000ff;">for</span>=<span style="color: #800000;">"</span><span style="color: #800000;">i in count</span><span style="color: #800000;">"</span> <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">infinite-list-item</span><span style="color: #800000;">"</span>&gt;{{ i }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script&gt;<span style="color: #000000;">
  export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> {
    data () {
      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
        count: </span><span style="color: #800080;">0</span><span style="color: #000000;">
      }
    },
    methods: {
      load () {
        </span><span style="color: #0000ff;">this</span>.count += <span style="color: #800080;">2</span><span style="color: #000000;">
      }
    }
  }
</span>&lt;/script&gt;</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">2<a href="https://github.com/ElemeFE/vue-infinite-scroll" rel="nofollow" target="_blank">vue-infinite-scroll</a>（官网<a href="https://github.com/ElemeFE/vue-infinite-scroll">https://github.com/ElemeFE/vue-infinite-scroll</a>）只适合vue2</span></p>
<p>　　<span style="color: #ff0000; font-size: 16px;">步骤 </span>1&nbsp;<code>npm install vue-infinite-scroll --save</code></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2&nbsp;&nbsp;<code class="  language-jsx"><span class="token keyword">import infiniteScroll <span class="token keyword">from <span class="token string">'vue-infinite-scroll'</span></span></span></code></p>
<pre class="line-numbers  language-jsx"><em><code class="  language-jsx"><span class="token keyword"><span class="token keyword"><span class="token string">           Vue<span class="token punctuation">.<span class="token function">use<span class="token punctuation">(infiniteScroll<span class="token punctuation">)<br />　使用示例，此处只写相关代码<br /></span></span></span></span></span></span></span></code></em></pre>
<div class="cnblogs_code">
<pre><code>  &lt;div v-infinite-scroll=<span style="color: #800000;">"</span><span style="color: #800000;">loadMore</span><span style="color: #800000;">"</span> infinite-scroll-disabled=<span style="color: #800000;">"</span><span style="color: #800000;">busy</span><span style="color: #800000;">"</span> infinite-scroll-distance=<span style="color: #800000;">"</span><span style="color: #800000;">10</span><span style="color: #800000;">"</span>&gt;
       &lt;div v-<span style="color: #0000ff;">for</span>=<span style="color: #800000;">"</span><span style="color: #800000;">item in data</span><span style="color: #800000;">"</span> :key=<span style="color: #800000;">"</span><span style="color: #800000;">item.index</span><span style="color: #800000;">"</span>&gt;{{item.name}}&lt;/div&gt;
   &lt;/div&gt;</pre>
</div>
<p>　　</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">data () {
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
      count: </span><span style="color: #800080;">0</span><span style="color: #000000;">,
      data: [],
      busy: </span><span style="color: #0000ff;">false</span><span style="color: #000000;">
    }
  }</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">methods: {
    loadMore: function() {
      </span><span style="color: #0000ff;">this</span>.busy = <span style="color: #0000ff;">true</span><span style="color: #000000;">
      setTimeout(() </span>=&gt;<span style="color: #000000;"> {
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> i = <span style="color: #800080;">0</span>, j = <span style="color: #800080;">10</span>; i &lt; j; i++<span style="color: #000000;">) {
          </span><span style="color: #0000ff;">this</span>.data.push({name: <span style="color: #0000ff;">this</span>.count++<span style="color: #000000;"> })
        }
        console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.data)
        </span><span style="color: #0000ff;">this</span>.busy = <span style="color: #0000ff;">false</span><span style="color: #000000;">
      }, </span><span style="color: #800080;">1000</span><span style="color: #000000;">)
    }
  }</span></pre>
</div>
<p>　　效果&nbsp;&nbsp;默认会载入10行数据，只要往下滚动到页面底部，就会在1秒后再次加载10条，然后继续滚动，又会加载10条，实际情况到一定程度停止刷新</p>
<p>　<span style="background-color: #ffffff;">　<span style="color: #ff0000;"><strong><span style="font-size: 16px;">参数解释</span></strong></span></span></p>
<p><code>&nbsp; &nbsp; 　　v-infinite-scroll="loadMore"</code>表示回调函数是<code>loadMore</code><br /><code>　　　　　infinite-scroll-disabled="busy"</code>表示由变量<code>busy</code>决定是否执行<code>loadMore</code>，<code>false</code>则执行<code>loadMore</code>，<code>true</code>则不执行，看清楚，busy表示繁忙，繁忙的时候是不执行的。<br /><code>　　　　　infinite-scroll-distance="10"</code>这里<code>10</code>决定了页面滚动到离页尾多少像素的时候触发回调函数，<code>10</code>是像素值。通常我们会在页尾做一个几十像素高的&ldquo;正在加载中...&rdquo;，这样的话，可以把这个div的高度设为<code>infinite-scroll-distance</code>的值即可。</p>
<p><code>　　　　　　infinite-scroll-immediate-check</code>&nbsp;默认值为<code>true</code>，该指令意思是，应该在绑定后立即检查busy的值和是否滚动到底。如果你的初始内容高度不够高、不足以填满可滚动的容器的话，你应设为<code>true</code>，这样会立即执行一次<code>loadMore</code>，会帮你填充一些初始内容。<br /><code>　　　　　　infinite-scroll-listen-for-event</code>&nbsp;当事件在Vue实例中发出时，无限滚动将再次检查。<br /><code>　　　　　　infinite-scroll-throttle-delay</code>&nbsp;检查<code>busy</code>的值的时间间隔，默认值是200，因为vue-infinite-scroll的基础原理就是，vue-infinite-scroll会循环检查<code>busy</code>的值，以及是否滚动到底，只有当：busy为false且滚动到底，回调函数才会执行</p>
<pre class="line-numbers  language-jsx"><em id="__mceDel"><code class="  language-jsx"><span class="token keyword"><span class="token keyword"><span class="token string"><span class="token punctuation"><span class="token function"><span class="token punctuation"><span class="token punctuation"><br />　　<br /></span></span></span></span></span></span></span></code></em></pre>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>