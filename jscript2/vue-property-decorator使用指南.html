<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修vue-property-decorator使用指南' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>vue-property-decorator使用指南</center></div><div class='banquan'>原文出处:本文由博客园博主Jade_g提供。<br/>
原文连接:https://www.cnblogs.com/gxp69/p/11212395.html</div><br>
    <p>在Vue中使用TypeScript时，非常好用的一个库，使用装饰器来简化书写。</p>
<div>
<h2 class="heading" data-id="heading-0">1、安装npm&nbsp;i&nbsp;-S&nbsp;vue-property-decorator</h2>
<ul>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Prop" rel="nofollow"><code>@Prop</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#PropSync" rel="nofollow"><code>@PropSync</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Provide" rel="nofollow"><code>@Provide</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Model" rel="nofollow"><code>@Model</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Watch" rel="nofollow"><code>@Watch</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Provide" rel="nofollow"><code>@Inject</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Provide" rel="nofollow"><code>@Provide</code></a></li>
<li><a href="https://www.npmjs.com/package/vue-property-decorator#Emit" rel="nofollow"><code>@Emit</code></a></li>
<li><code>@Component</code>&nbsp;(provided by&nbsp;<a href="https://github.com/vuejs/vue-class-component" rel="nofollow">vue-class-component</a>)</li>
<li><code>Mixins</code>&nbsp;(the helper function named&nbsp;<code>mixins</code>&nbsp;provided by&nbsp;<a href="https://github.com/vuejs/vue-class-component" rel="nofollow">vue-class-component</a>)</li>
</ul>
<h2 class="heading" data-id="heading-1">2、@Component</h2>
<p>即使没有组件也不能省略@Component，否则会报错。</p>
<div class="cnblogs_code">
<pre><code>import {Component,Vue} from 'vue-property-decorator'<span style="color: #000000;">;
import {componentA,componentB} from </span>'@/components'<span style="color: #000000;">;

 @Component({
    components:{
        componentA,
        componentB,
    },
    directives: {
        focus: {
            </span><span style="color: #008000;">//</span><span style="color: #008000;"> 指令的定义</span>
            inserted: <span style="color: #0000ff;">function</span><span style="color: #000000;"> (el) {
                el.focus()
            }
        }
    }
})
export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> class YourCompoent extends Vue{
   
}</span></pre>
</div>
<h2 class="heading" data-id="heading-2">3、@Prop 父子组件之间值的传递</h2>
<h3><code>@Prop(options: (PropOptions | Constructor[] | Constructor) = {})</code>&nbsp;decorator</h3>
<div class="cnblogs_code">
<pre><code>import { Vue, Component, Prop } from 'vue-property-decorator'<span style="color: #000000;">
 
@Component
export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> class YourComponent extends Vue {
  @Prop(Number) readonly propA: number </span>|<span style="color: #000000;"> undefined
  @Prop({ </span><span style="color: #0000ff;">default</span>: 'default value' }) readonly propB!<span style="color: #000000;">: string
  @Prop([String, Boolean]) readonly propC: string </span>| <span style="color: #0000ff;">boolean</span> |<span style="color: #000000;"> undefined<br /></span></pre>
<div>
<div><span class="hljs-meta">　　@Prop([<span class="hljs-built_in">String,<span class="hljs-built_in">Number]) propB:<span class="hljs-built_in">string|<span class="hljs-built_in">number; </span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">　　<span class="hljs-meta">@Prop({ </span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta">　　　　<span class="hljs-keyword">type: <span class="hljs-built_in">String,</span></span></span></span></span></span></span></span><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment">// type: [String , Number] </span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment">　　　　<span class="hljs-keyword">default: <span class="hljs-string">'default value', <span class="hljs-comment">// 一般为String或Number </span></span></span></span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-comment">　　　　<span class="hljs-comment">//如果是对象或数组的话。默认值从一个工厂函数中返回 </span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-comment"><span class="hljs-comment">　　　　<span class="hljs-comment">// defatult: () =&gt; { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment">　　　　　　<span class="hljs-comment">// return ['a','b'] </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment">　　　　<span class="hljs-comment">// } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment">　　　　required: <span class="hljs-literal">true,</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div><span class="hljs-meta"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-meta"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-comment"><span class="hljs-literal">　　　　 validator: <span class="hljs-function">(<span class="hljs-params">value) =&gt; { <span class="hljs-keyword">return [ <span class="hljs-string">'InProcess', <span class="hljs-string">'Settled' ].indexOf(value) !== <span class="hljs-number">-1 } }) propC:<span class="hljs-built_in">string;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
</div>
<pre><code><span style="color: #000000;">}</span></pre>
</div>
<p class="p"><span style="font-family: -apple-system;">注意</span>title参数中的感叹号。如果需要设置为true或者有默认道具，我只使用它。如果没有，那么你应该使用| undefined。</p>
<p class="p">&ldquo;明确的赋值断言是一个特性，允许在实例属性和变量声明之后放置！以向TypeScript传递一个变量确实被分配用于所有意图和目的，即使TypeScript的分析无法检测到它。&rdquo;</p>
<div class="cnblogs_code">
<pre><code>@Componentexport <span style="color: #0000ff;">default</span><span style="color: #000000;"> class MyComponent extends Vue {
  @Prop({ required: </span><span style="color: #0000ff;">true</span> }) title!<span style="color: #000000;">: string
  @Prop() optionalItem: string</span>|<span style="color: #000000;">undefined
}</span></pre>
</div>
<h2 class="heading" data-id="heading-5">4、@Emit</h2>
<h3><code>@Emit(event?: string)</code>&nbsp;decorator</h3>
<div class="cnblogs_code">
<pre><code>import { Vue, Component, Emit } from 'vue-property-decorator'<span style="color: #000000;">
 
@Component
export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> class YourComponent extends Vue {
  count </span>= 0<span style="color: #000000;">
 
  @Emit()
  addToCount(n: number) {
    </span><span style="color: #0000ff;">this</span>.count +=<span style="color: #000000;"> n
  }
 
  @Emit(</span>'reset'<span style="color: #000000;">)
  resetCount() {
    </span><span style="color: #0000ff;">this</span>.count = 0<span style="color: #000000;">
  }
 
  @Emit()
  returnValue() {
    </span><span style="color: #0000ff;">return</span> 10<span style="color: #000000;">
  }
 
  @Emit()
  onInputChange(e) {
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> e.target.value
  }
 
  @Emit()
  promise() {
    </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span> Promise(resolve =&gt;<span style="color: #000000;"> {
      setTimeout(() </span>=&gt;<span style="color: #000000;"> {
        resolve(</span>20<span style="color: #000000;">)
      }, </span>0<span style="color: #000000;">)
    })
  }
}</span></pre>
</div>
<h2 class="heading" data-id="heading-5">5、@Watch</h2>
<h3><code>@Watch(path: string, options: WatchOptions = {})</code>&nbsp;decorator</h3>
<div class="cnblogs_code">
<pre><code>import { Vue, Component, Watch } from 'vue-property-decorator'<span style="color: #000000;">
 
@Component
export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> class YourComponent extends Vue {
  @Watch(</span>'child'<span style="color: #000000;">)
  onChildChanged(val: string, oldVal: string) {}
 
  @Watch(</span>'person', { immediate: <span style="color: #0000ff;">true</span>, deep: <span style="color: #0000ff;">true</span><span style="color: #000000;"> })
  onPersonChanged1(val: Person, oldVal: Person) {}
 
  @Watch(</span>'person'<span style="color: #000000;">)
  onPersonChanged2(val: Person, oldVal: Person) {}
}</span></pre>
</div>
<h2 class="heading" data-id="heading-5"><a href="https://www.npmjs.com/package/vue-property-decorator" target="_blank">其它详见文档</a></h2>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>