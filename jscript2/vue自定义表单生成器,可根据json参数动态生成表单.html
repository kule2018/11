<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修vue自定义表单生成器,可根据json参数动态生成表单' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>vue自定义表单生成器,可根据json参数动态生成表单</center></div><div class='banquan'>原文出处:本文由博客园博主xaboy提供。<br/>
原文连接:https://www.cnblogs.com/xaboy/p/11211138.html</div><br>
    <h2 id="h2_1">介绍</h2>
<p>form-create 是一个可以通过 JSON 生成具有动态渲染、数据收集、验证和提交功能的表单生成器。并且支持生成任何 Vue 组件。结合内置17种常用表单组件和自定义组件，再复杂的表单都可以轻松搞定。</p>
<p><a href="http://form-create.com/v2/">文档</a>&nbsp;|&nbsp;<a href="https://github.com/xaboy/form-create">github</a></p>
<h4>演示项目:&nbsp;<a title="开源的高品质微信商城" href="http://github.crmeb.net/u/xaboy" rel="nofollow" data-token="cddb67891dac722ca27af9d53e1c4f4f">开源的高品质微信商城</a></h4>
<h2 id="h2_2">功能</h2>
<ul>
<li>
<p>自定义组件</p>
<ul>
<li>可生成任何Vue组件</li>
<li>自带数据验证</li>
<li>轻松转换为表单组件</li>
</ul>
</li>
<li>
<p>通过 JSON 生成表单</p>
</li>
<li>
<p>通过 Maker 生成表单</p>
</li>
<li>
<p>强大的API，可快速操作表单</p>
</li>
<li>
<p>双向数据绑定</p>
</li>
<li>
<p>事件扩展</p>
</li>
<li>
<p>局部更新</p>
</li>
<li>
<p>数据验证</p>
</li>
<li>
<p>栅格布局</p>
</li>
<li>
<p>内置组件17种常用表单组件</p>
</li>
</ul>
<h2 id="h2_3">对比 1.x</h2>
<ul>
<li>
<p>速度更快</p>
</li>
<li>
<p>体积更小</p>
</li>
<li>
<p>更强大的全局配置</p>
</li>
<li>
<p>自定义组件更容易扩展</p>
</li>
<li>
<p>更容易支持第三方 UI 库</p>
</li>
<li>
<p>更少的 bug</p>
</li>
</ul>
<h2 id="h2_4">示例</h2>
<p>通过 JSON 创建表单&nbsp;<img class="zoom-in-cursor" src="./images/vue自定义表单生成器,可根据json参数动态生成表单0.png" alt="通过 JSON 创建表单" /></p>
<p>通过 API 操作表单&nbsp;<img class="zoom-in-cursor" src="./images/vue自定义表单生成器,可根据json参数动态生成表单1.png" alt="通过 API 操作表单" /></p>
<h2 id="h2_5">@form-create包说明</h2>
<table>
<thead>
<tr><th>名称</th><th>说明</th></tr>
</thead>
<tbody>
<tr>
<td>@form-create/iview</td>
<td><a href="http://form-create.com/v2/iview/">iview 版表单生成器</a></td>
</tr>
<tr>
<td>@form-create/element-ui</td>
<td><a href="http://form-create.com/v2/element-ui/">element-ui 版表单生成器</a></td>
</tr>
<tr>
<td>@form-create/core</td>
<td>form-create 核心包</td>
</tr>
<tr>
<td>@form-create/utils</td>
<td>form-create 工具包</td>
</tr>
<tr>
<td>@form-create/data</td>
<td>省市区多级联动数据</td>
</tr>
</tbody>
</table>
<h2 id="h2_6">使用</h2>
<p>以element-ui版本为例介绍如何在项目中使用 form-create</p>
<h4 id="h4_7">安装</h4>
<div class="cnblogs_code">
<pre><code>npm i @form-create/element-ui</pre>
</div>
<p>&nbsp;</p>
<h4 id="h4_8">挂载</h4>
<p>全局注册</p>
<div class="cnblogs_code">
<pre><code>import formCreate form '@form-create/element-ui'<span style="color: #000000;">;

Vue.use(formCreate);</span></pre>
</div>
<p>&nbsp;</p>
<p>局部挂载</p>
<div class="cnblogs_code">
<pre><code>import formCreate form '@form-create/element-ui'<span style="color: #000000;">;

export </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> {
    components:{
        formCreate:formCreaet.$form()
    }
}</span></pre>
</div>
<h4 id="h4_9">生成表单</h4>
<div class="cnblogs_code">
<pre><code>&lt;template&gt;
    &lt;form-create v-model="$f" :rule="rule" @on-submit="onSubmit"&gt;&lt;/form-create&gt;
&lt;/template&gt;
export <span style="color: #0000ff;">default</span><span style="color: #000000;"> {
  data () {
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
     </span><span style="color: #008000;">//</span><span style="color: #008000;">表单实例对象</span>
<span style="color: #000000;">     $f:{},
     </span><span style="color: #008000;">//</span><span style="color: #008000;">表单生成规则</span>
<span style="color: #000000;">     rule:[
       {
          type:</span>'input'<span style="color: #000000;">,
          field:</span>'goods_name'<span style="color: #000000;">,
          title:</span>'商品名称'<span style="color: #000000;">
        },
        {
          type:</span>'datePicker'<span style="color: #000000;">,
          field:</span>'created_at'<span style="color: #000000;">,
          title:</span>'创建时间'<span style="color: #000000;">
        }
     ]
    };
  },
  methods:{
      onSubmit(formData){
          </span><span style="color: #008000;">//</span><span style="color: #008000;">TODO 提交表单</span>
<span style="color: #000000;">      }
  }
};</span></pre>
</div>
<p>&nbsp;</p>
<h4 id="h4_10">效果</h4>
<p><img class="zoom-in-cursor" src="./images/vue自定义表单生成器,可根据json参数动态生成表单2.png" alt="form-create 效果图" /></p>
<h2 id="h2_11">实例对象 $f</h2>
<p>可以通过 $f 快速操作表单，例如：</p>
<ul>
<li><code>$f.hidden</code>：隐藏指定组件</li>
<li><code>$f.validate</code>：验证表单</li>
<li><code>$f.setValue</code>：修改表单组件的值</li>
<li><code>$f.append</code>：追加表单组件</li>
</ul>
<h2 id="h2_12">自定义组件</h2>
<h3 id="h3_13">生成</h3>
<p>通过标签生成</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
    type:</span>'el-button'<span style="color: #000000;">,
    name: </span>'btn'<span style="color: #000000;">,
    props:{
        type:</span>'primary'<span style="color: #000000;">,
        field:</span>'btn'<span style="color: #000000;">,
        loading:</span><span style="color: #0000ff;">true</span><span style="color: #000000;">
    },
    children:[</span>'加载中'<span style="color: #000000;">]
}</span></pre>
</div>
<p>&nbsp;</p>
<p>通过模板生成</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
    type:</span>'template'<span style="color: #000000;">,
    name:</span>'btn'<span style="color: #000000;">
    template:</span>'&lt;el-button :loading="loading"&gt;{{text}}&lt;el-button&gt;'<span style="color: #000000;">,
    vm: </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Vue({
      data:{
        loading:</span><span style="color: #0000ff;">true</span><span style="color: #000000;">,
        text:</span>'加载中'<span style="color: #000000;">
      }
    })
}</span></pre>
</div>
<p>&nbsp;</p>
<pre><code>转换为表单组件</pre>
<p>自定义组件转换为表单组件后，可通过<code>$f.formData</code>,<code>$f.getValue</code>,<code>$f.setValue</code>,<code>$f.disabled</code>等方法快速操作组件，达到和内置组件相同的效果</p>
<h3 id="h3_15">预定义</h3>
<p>props</p>
<p>在自定义组件内部通过<code>props</code>接收一下属性</p>
<ul>
<li><code>value</code>&nbsp;表单的值</li>
<li><code>disabled</code>&nbsp;组件的禁用状态</li>
</ul>
<p>例如:</p>
<div class="cnblogs_code">
<pre><code>vm =<span style="color: #000000;"> Vue({
  props:{
   value:String,
   disabled:Boolean      
  }
})</span></pre>
</div>
<p>&nbsp;</p>
<p>input 事件</p>
<p>通过<code>input</code>事件更新组件内部的值</p>
<p>当组件值发生变化后,通过 input 事件更新值.例如:</p>
<div class="cnblogs_code">
<pre><code>vm.$emit('input',newValue);</pre>
</div>
<p>&nbsp;</p>
<h3 id="h3_16">挂载自定义组件</h3>
<p>要生成的自定义组件必须通过<code>Vue.component</code>方法挂载到全局,或者通过<code>formCreate.component</code>方法挂载</p>
<p>例如:</p>
<div class="cnblogs_code">
<pre><code>formCreate.component('TestComponent',component);</pre>
</div>
<p>&nbsp;</p>
<p>或者</p>
<div class="cnblogs_code">
<pre><code>Vue.component('TestComponent',component);</pre>
</div>
<p>&nbsp;</p>
<h3 id="h3_17">生成</h3>
<p>表单组件必须定义<code>field</code>属性</p>
<p>JSON</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
    type:</span>'TestComponent'<span style="color: #000000;">,
    value:</span>'test'<span style="color: #000000;">,
    field:</span>'testField'<span style="color: #000000;">,
    title:</span>'自定义组件'<span style="color: #000000;">
}</span></pre>
</div>
<p>&nbsp;</p>
<p>Maker</p>
<div class="cnblogs_code">
<pre><code>formCreate.maker.create('TestComponent','testField','自定义组件').value('test')</pre>
</div>
<p>&nbsp;</p>
<h3 id="h3_18">示例</h3>
<p>自定义计数器按钮组件,获取按钮点击数.该组件的功能和内置组件相同</p>
<div class="cnblogs_code">
<pre><code>formCreate.maker.template('&lt;el-button @click="onClick" long :disabled="disabled"&gt;计数器-{{num}}&lt;/el-button&gt;', <span style="color: #0000ff;">new</span><span style="color: #000000;"> Vue({
  props:{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">预定义</span>
<span style="color: #000000;">    disabled:Boolean,
    value:Number,
  },
  data: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> {
        num: </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.value,
    }
  },
  watch:{
    value(n){
        </span><span style="color: #0000ff;">this</span>.num =<span style="color: #000000;"> n;
    }
  },
  methods: {
    onClick: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
        </span><span style="color: #0000ff;">this</span>.num++<span style="color: #000000;">;
        </span><span style="color: #008000;">//</span><span style="color: #008000;">更新组件内部的值</span>
        <span style="color: #0000ff;">this</span>.$emit('input',<span style="color: #0000ff;">this</span><span style="color: #000000;">.num);
    },
  },
}), </span>'tmp', '自定义 title').value(100).props('disabled',<span style="color: #0000ff;">false</span>)</pre>
</div>
<p>&nbsp;</p>
<h2 id="h2_19">完整示例</h2>
<p><img class="zoom-in-cursor" src="./images/vue自定义表单生成器,可根据json参数动态生成表单3.png" alt="form-create示例.png" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>