<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修web前端篇：JavaScript正则表达式' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>web前端篇：JavaScript正则表达式</center></div><div class='banquan'>原文出处:本文由博客园博主是阿凯啊提供。<br/>
原文连接:https://www.cnblogs.com/xujunkai/p/11007434.html</div><br>
    <div class="toc">
    <p class="toc-title">目录</p>
    <div class="toc-list">
        <ul>
        <li><a href="#javascript正则表达式">JavaScript正则表达式</a><ul>
        <li><a href="#创建正则表达式">1.创建正则表达式</a><ul>
        <li><a href="#方法1直接量语法">1.1方法1：直接量语法</a></li>
        <li><a href="#方法2创建regexp对象的语法">1.2 方法2：创建RegExp对象的语法</a></li>
        <li><a href="#区别">1.3 区别：</a></li>
        <li><a href="#正则表达式使用">1.4正则表达式使用</a></li>
        </ul></li>
        <li><a href="#正则对象的属性">2.正则对象的属性</a><ul>
        <li><a href="#属性">2.1.属性</a></li>
        <li><a href="#应用">2.2.应用</a></li>
        <li><a href="#匹配类型">2.3.匹配类型</a></li>
        </ul></li>
        <li><a href="#方法">3方法</a><ul>
        <li><a href="#test方法">3.1 test方法</a></li>
        <li><a href="#exec方法">3.2 exec方法</a></li>
        <li><a href="#search方法">3.3 search方法</a></li>
        <li><a href="#match方法">3.4match方法</a></li>
        <li><a href="#replace方法">3.5 replace方法</a></li>
        <li><a href="#split方法">3.6 split方法</a></li>
        <li><a href="#示例">3.7示例：</a></li>
        </ul></li>
        <li><a href="#常用正则匹配">4.常用正则匹配</a></li>
        </ul></li>
        </ul>
    </div>
</div>
<h1 id="javascript正则表达式">JavaScript正则表达式</h1>
<h2 id="创建正则表达式">1.创建正则表达式</h2>
<h3 id="方法1直接量语法">1.1方法1：直接量语法</h3>
<ul>
<li>语法：var reg = /pattern/attributes</li>
<li>解释：参数 pattern 是一个字符串，指定了正则表达式的模式或其他正则表达式。参数 attributes 是一个可选的字符串，包含属性 “g”、”i” 和 “m”，分别用于指定全局匹配、区分大小写的匹配和多行匹配。</li>
</ul>
<h3 id="方法2创建regexp对象的语法">1.2 方法2：创建RegExp对象的语法</h3>
<ul>
<li>语法：var reg = new RegExp(pattern,attributes)</li>
<li>解释：参数 pattern 是一个字符串，指定了正则表达式的模式或其他正则表达式。参数 attributes 是一个可选的字符串，包含属性 “g”、”i” 和 “m”，分别用于指定全局匹配、区分大小写的匹配和多行匹配。</li>
</ul>
<h3 id="区别">1.3 区别：</h3>
<p>1.采用直接量语法新建的正则表达式对象在代码编译时就会生成，是平常开发中常用的方式；</p>
<p>2.采用构造函数生成的正则对象要在代码运行时生成。</p>
<h3 id="正则表达式使用">1.4正则表达式使用</h3>
<p>1.正则对象的方法是指这样使用的： RegExp对象.方法(字符串)</p>
<p>2.字符串对象的方法是这样使用：字符串.方法(RegExp对象)</p>
<h2 id="正则对象的属性">2.正则对象的属性</h2>
<h3 id="属性">2.1.属性</h3>
<pre><code><code>ignoreCase 返回布尔值，表示RegExp 对象是否具有标志 i
global 返回布尔值，表示RegExp对象是否具有标志g
multiline 返回布尔值，表示RegExp 对象是否具有标志 m。
lastIndex 一个整数，标识开始下一次匹配的字符位置
source 返回正则表达式的源文本（不包括反斜杠）
i 执行对大小写不敏感的匹配
g 执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。
m 执行多行匹配
正则表达式作用</code></pre>
<h3 id="应用">2.2.应用</h3>
<h4 id="验证">2.2.1 验证</h4>
<ul>
<li>用于验证时，通常需要在前后分别加上^和$，以匹配整个待验证字符串；</li>
</ul>
<h4 id="搜索替换">2.2.2 搜索替换</h4>
<ul>
<li>搜索/替换时是否加上此限定则根据搜索的要求而定，此外，也有可能要在前后加上\b而不是^和$</li>
</ul>
<h3 id="匹配类型">2.3.匹配类型</h3>
<h4 id="字符匹配">2.3.1字符匹配</h4>
<table>
<thead>
<tr class="header">
<th>正则表达式</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>[…]</td>
<td>查找方括号之间的任何字符</td>
</tr>
<tr class="even">
<td>[^…]</td>
<td>查找任何不在方括号之间的字符</td>
</tr>
<tr class="odd">
<td>[a-z]</td>
<td>查找任何从小写 a 到小写 z 的字符</td>
</tr>
<tr class="even">
<td>[A-Z]</td>
<td>查找任何从大写 A 到大写 Z 的字符</td>
</tr>
<tr class="odd">
<td>[A-z]</td>
<td>查找任何从大写 A 到小写 z 的字符</td>
</tr>
<tr class="even">
<td>.</td>
<td>查找单个字符，除了换行和行结束符</td>
</tr>
<tr class="odd">
<td>\w</td>
<td>查找单词字符，等价于[a-zA-Z0-9]</td>
</tr>
<tr class="even">
<td>\W</td>
<td>查找非单词字符，等价于<code>[^a-zA-Z0-9]</code></td>
</tr>
<tr class="odd">
<td>\s</td>
<td>查找空白字符</td>
</tr>
<tr class="even">
<td>\S</td>
<td>查找非空白字符</td>
</tr>
<tr class="odd">
<td>\d</td>
<td>查找数字，等价于[0-9]</td>
</tr>
<tr class="even">
<td>\D</td>
<td>查找非数字字符，等价于<code>[^0-9]</code></td>
</tr>
<tr class="odd">
<td>\b</td>
<td>匹配单词边界</td>
</tr>
<tr class="even">
<td>\r</td>
<td>查找回车符</td>
</tr>
<tr class="odd">
<td>\t</td>
<td>查找制表符</td>
</tr>
<tr class="even">
<td>\0</td>
<td>查找 NULL 字符</td>
</tr>
<tr class="odd">
<td>\n</td>
<td>查找换行符</td>
</tr>
</tbody>
</table>
<h4 id="重复字符匹配">2.3.2重复字符匹配</h4>
<table>
<thead>
<tr class="header">
<th>正则表达式</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{n,m}</td>
<td>匹配前一项至少n次，但不能超过m次</td>
</tr>
<tr class="even">
<td>{n,}</td>
<td>匹配前一项n次或更多次</td>
</tr>
<tr class="odd">
<td>{n}</td>
<td>匹配前一项n次</td>
</tr>
<tr class="even">
<td>n？</td>
<td>匹配前一项0次或者1次，也就是说前一项是可选的，等价于{0，1}</td>
</tr>
<tr class="odd">
<td>n+</td>
<td>匹配前一项1次或多次，等价于{1，}</td>
</tr>
<tr class="even">
<td>n*</td>
<td>匹配前一项0次或多次，等价于{0，}</td>
</tr>
<tr class="odd">
<td>n$</td>
<td>匹配任何结尾为 n 的字符串</td>
</tr>
<tr class="even">
<td>^n</td>
<td>匹配任何开头为 n 的字符串</td>
</tr>
<tr class="odd">
<td>?=n</td>
<td>匹配任何其后紧接指定字符串 n 的字符串</td>
</tr>
<tr class="even">
<td>?!n</td>
<td>匹配任何其后没有紧接指定字符串 n 的字符串</td>
</tr>
</tbody>
</table>
<h4 id="匹配特定数字">2.3.3匹配特定数字</h4>
<table>
<thead>
<tr class="header">
<th>正则表达式</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>^[1-9]\d*$</code></td>
<td>匹配正整数</td>
</tr>
<tr class="even">
<td><code>^-[1-9]\d*$</code></td>
<td>匹配负整数</td>
</tr>
<tr class="odd">
<td><code>^-?[0-9]\d*$</code></td>
<td>匹配整数</td>
</tr>
<tr class="even">
<td><code>^[1-9]\d*|0$</code></td>
<td>0<span class="math inline">\(匹配非负整数（正整数 + 0） | | `^-[1-9]\d*|0\)</span><code>| 匹配非正整数（负整数 + 0）     | |</code>^[1-9]\d<em>.\d</em></td>
</tr>
</tbody>
</table>
<h4 id="匹配特定字符串">2.3.4匹配特定字符串</h4>
<table>
<thead>
<tr class="header">
<th>正则表达式</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>^[A-Za-z]+$</td>
<td>匹配由26个英文字母组成的字符串</td>
</tr>
<tr class="even">
<td>^[A-Z]+$</td>
<td>匹配由26个英文字母的大写组成的字符串</td>
</tr>
<tr class="odd">
<td>^[a-z]+$</td>
<td>匹配由26个英文字母的小写组成的字符串</td>
</tr>
<tr class="even">
<td>^[A-Za-z0-9]+$</td>
<td>匹配由数字和26个英文字母组成的字符串</td>
</tr>
<tr class="odd">
<td>^\w+$</td>
<td>匹配由数字、26个英文字母或者下划线组成的字符串</td>
</tr>
</tbody>
</table>
<h2 id="方法">3方法</h2>
<h3 id="test方法">3.1 test方法</h3>
<p>​ 检索字符串中指定的值。返回 true 或 false。 检索字符串中指定的值。返回 true 或 false。</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;text&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var reg = /123/g;
        var str = &#39;hello123hello123&#39;;
        console.log(reg.test(str));//true
        console.log(reg.lastIndex);//8
        console.log(reg.test(str));//true
        console.log(reg.lastIndex);//16
        console.log(reg.test(str));//false
        console.log(reg.lastIndex);//0
        
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
//使用了g修饰符的正则表达式，表示要记录每一次搜索的位置，接着使用test方法，每次开始搜索的位置都是上一次匹配的后一个位置。</code></pre>
<h3 id="exec方法">3.2 exec方法</h3>
<p>​ 方法用于检索字符串中的正则表达式的匹配。返回一个数组，其中存放匹配的结果。如果未找到匹配，则返回值为 null。</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;exec&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var str=&#39;abc&#39;;
        var reg1 = /x/;
        var reg2 = /a/;
        console.log(reg1.exec(str));//null
        console.log(reg2.exec(str));//array[&quot;a&quot;, index: 0, input: &quot;xyz&quot;]

    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>​ 如果正则表达式包含圆括号，则返回的数组会包括多个元素。首先是整个匹配成功的结果，后面是圆括号里匹配成功的结果，如果有多个圆括号，他们的匹配成功的结果都会成为数组元素</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;exec&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var str=&#39;abcdabc&#39;;
        var reg1 = /(a)b(c)/;
        console.log(reg1.exec(str));//[&quot;abc&quot;, &quot;a&quot;, &quot;c&quot;, index: 0, input: &quot;abcdabc&quot;, groups: undefined]
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="search方法">3.3 search方法</h3>
<p>​ search() 方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。</p>
<p>​ 返回值： stringObject 中第一个与 regexp 相匹配的子串的起始位置。</p>
<p>​ 注释：如果没有找到任何匹配的子串，则返回 -1。</p>
<p>​ search() 方法不执行全局匹配，它将忽略标志 g。它同时忽略 regexp 的 lastIndex 属性，并且总是从字符串的开始进行检索，这意味着它总是返回 stringObject 的第一个匹配的位置。</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;search&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var str=&#39;abcdefgh&#39;;
        console.log(str.search(&#39;h&#39;))//7
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="match方法">3.4match方法</h3>
<p>​ match() 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。该方法类似 indexOf() 和 lastIndexOf()，但是它返回指定的值，而不是字符串的位置。</p>
<p>​ 字符串对象的match方法与正则对象的exec方法比较类似：但是如果正则表达式带有g修饰符，那么match方法与exec方法就有差别了:可以看到match返回了所有成功匹配的结果，但是exec方法只返回了一个。</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;match&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var str = &quot;abcd&quot;;
        var reg1 = /a/;
        var reg2 = /x/;
        console.log(str.match(reg1));//a
        console.log(str.match(reg2));//null

        var str2 = &quot;abcabc&quot;;
        var reg3 = /a/g;
        console.log(str2.match(reg3));//[&#39;a&#39;,&#39;a&#39;]
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="replace方法">3.5 replace方法</h3>
<p>​ replace() 方法用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。</p>
<p>返回值：一个新的字符串，是用 replacement 替换了 regexp 的第一次匹配或所有匹配之后得到的。</p>
<p>​ 字符串 stringObject 的 replace() 方法执行的是查找并替换的操作。它将在 stringObject 中查找与 regexp 相匹配的子字符串，然后用 replacement 来替换这些子串。如果 regexp 具有全局标志 g，那么 replace() 方法将替换所有匹配的子串。否则，它只替换第一个匹配子串。</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;replace&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var str = &quot;aaa&quot;;
        console.log(str.replace(&#39;a&#39;, &#39;f&#39;));//fbcdaa
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="split方法">3.6 split方法</h3>
<p>​ split(‘字符串的分割正则','返回数组的最大成员数')；返回分割后各部分组成的数组</p>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;split&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var str = &quot;a,b,c,d,e,f&quot;;
        var res = str.split(&quot;,&quot;);//以逗号来分割字符串
        console.log(res);//[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
        var str2 =  &quot;a, b ,c,d&quot;;
        var res2 = str2.split(/, */);//以0或对个逗号空格来分割字符串
        console.log(res2);//[&quot;a&quot;, &quot;b &quot;, &quot;c&quot;, &quot;d&quot;]
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="示例">3.7示例：</h3>
<ul>
<li>从URL中提取子域名</li>
</ul>
<pre class="javascript"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;split&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
          var url = &quot;http://www.abc.com&quot;;
          var reg = /[^.]+/;//匹配除了.之外的其他字符
          var res = reg.exec(url)[0].substr(7);
          console.log(reg.exec(url));//[&quot;http://www&quot;, index: 0, input: &quot;http://www.abc.com&quot;]
          console.log(res);//www
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="常用正则匹配">4.常用正则匹配</h2>
<pre class="javascript"><code>匹配国内电话号码：\d{3}-\d{8}|\d{4}-\d{7}

如 0511-4405222 或 021-87888822

匹配QQ号：[1-9][0-9]{4,}

从10000开始

邮政编码：[1-9]\d{5}(?!\d)

邮政编码为6位数字

匹配身份证：/^(\d{14}|\d{17})(\d|[xX])$/

匹配规则：身份证号码有15位或者18位，其中最后一位可能是X，其他全是数字

匹配ip地址：\d+.\d+.\d+.\d+

匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 表单验证时很实用

匹配中文字符： /[\u4E00-\u9FA5\uf900-\ufa2d]/

使用 Unicode，必须使用\u开头，接着是字符编码的四位16进制表现形式

匹配Email地址：

/^([a-zA-Z_0-9-])+@([a-zA-Z_0-9-])+(.[a-zA-Z_0-9-])+$/

邮箱的规则是: 由3部分组成

由1个或者多个字母数字下划线和杠 + @ + 1个或者多个字母数字下划线和杠 + . + 1个或者多个字母数字下划线和杠

匹配网址URL：[a-zA-z]+://[^\s]*

判断字符串是不是由数字组成: /^\d*$/

限制文本框只能输入数字和小数点(二位小数点):

/^\d*.?\d{0,2}$/

说明：开头有0个或者多个数字，(?表示匹配前一项0次或者多次)中间有0个或者1个小数点，小数点后面有0个或者最多2个数字

用户名正则: /^[\u4E00-\u9FA5\uf900-\ufa2d\w]{4,16}$/

匹配规则：只能是中文，英文，数字，下划线，4-16个字符

匹配中文字符正则：/[\u4E00-\u9FA5\uf900-\ufa2d]/

\w是 匹配英文，数字，下划线

匹配英文地址:/^[a-zA-Z][.a-zA-Z\s,0-9]*?[a-zA-Z]+/匹配规则：包含点，字母，空格，逗号，数字，但是开头和结尾必须为字母分析：开头必须为字母可以这样写/[a−zA−Z]/结尾必须为字母可以这样写：/[a−zA−Z]+/

中间包含点，字母，空格，逗号，数字的正则：/[.a-zA-Z\s,0-9]*?/

外面的*号是0个或者多个，后面的问号? 代表可有可无;有就匹配，没有就不匹配;

匹配价格:/^\d*(.\d{0,2})?$/

匹配规则: 开头有0个或者多个数字，中间可能有一个小数点，后面有可能有0-2位小数

单词的首字母大写:/\b(\w)|\s(\w)/g

验证日期格式:/^\d{4}[-\/]\d{1,2}[-\/]\d{1,2}$/

日期格式有2种 第一种是yyyy-mm-dd 或 yyyy/mm/dd

分析:月和天数可以有1位或者2位</code></pre>
<p><strong>此文源于：</strong> <a href="https://www.jb51.net/article/97901.htm" class="uri">https://www.jb51.net/article/97901.htm</a></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>