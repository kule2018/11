<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修创建Npm脚手架' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>创建Npm脚手架</center></div><div class='banquan'>原文出处:本文由博客园博主夜未央天未明提供。<br/>
原文连接:https://www.cnblogs.com/tudaogaoyang/p/11040450.html</div><br>
    <p>&nbsp;</p>
<p><strong><span style="font-size: 2em;">1工具</span></strong></p>
<p>l&nbsp; Npm （ <a href="https://nodejs.org/en/">https://nodejs.org/en/</a> ）</p>
<p>l&nbsp; Yeoman （npm install -g yo）</p>
<p>l&nbsp; generator-generator （npm install -g generator-generator）</p>
<p>备注说明：</p>
<ol>
<li>yo是Yeoman的命令行工具包，需要全局安装</li>
<li>generator-generator就是generator的generator，需要全局安装</li>
<li>将npm的镜像调整为国内，命令如下npm config set registry=http://registry.npmjs.org</li>
<li>注册一个npm的账号,密码，邮箱（有可能需要翻墙，蓝灯试试）</li>
</ol>
<h1>2操作步骤</h1>
<ol>
<li>创建一个脚手架的基础版本.创建一个空的文件夹，命名为CLI，在此文件夹下进入命令行状态，再命令行中输入yo generator</li>
</ol>
<p>&nbsp;<img src="./images/创建Npm脚手架0.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.输入对应的配置信息之后，代码会帮助我们自动创建一个脚手架的基础版本.生成的代码结构如下:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="./images/创建Npm脚手架1.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 3.将需要生成脚手架的代码，放置到app/templetes下，并修改app/index.js文件，在write方法添加新的复制文件的路径.&nbsp; &nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 4.初始化项目，加载依赖包.切换到项目下，输入命令npm install</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="./images/创建Npm脚手架2.png" alt="" /></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;5.将这个脚手架链接到本地，在本地测试，看看是否可行</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; npm link // 如果提示权限问题请使用sudo npm link</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 若此命令没有抱任何的错误，此时脚手架已经可以本地使用了。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 在本地创建一个项目目录，进入该目录，尝试使用该脚手架，比如现在脚手架项目名称为generator-weminiapp，命令行中应该去掉脚手架项目的前缀&ldquo;generator-&rdquo;来运行：yo weminiapp</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 命令会根据设定的提示和输入信息，Yeoman会一步一步安装你的项目文件，最终生成你指定的项目结构。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;效果如下：</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="./images/创建Npm脚手架3.png" alt="" /></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="./images/创建Npm脚手架4.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp;6.发布脚手架到npm</p>
<p>&nbsp; &nbsp; &nbsp; 1》&nbsp; 若是没有npm账号，则可以通过npm adduser来创建</p>
<p>&nbsp; &nbsp; &nbsp; 2》&nbsp; 若是已有npm账号，则可以通过npm login来发布,命令行操作如下:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="./images/创建Npm脚手架5.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp;3》&nbsp; 输入Npm publish命令，进行上传发布,成功的提示如下:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="./images/创建Npm脚手架6.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1>3部署</h1>
<p>&nbsp;&nbsp; 登录npm，查看项目是否上传成功. 具体网址如下: <a href="https://www.npmjs.com/">https://www.npmjs.com</a></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="./images/创建Npm脚手架7.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 点击generator-weminiapp,进入查看项目信息.具体信息如下</p>
<p>&nbsp; &nbsp; &nbsp;&nbsp;<img src="./images/创建Npm脚手架8.png" alt="" /></p>
<p>&nbsp;</p>
<h1>4测试</h1>
<p>新创建一个纯空的文件夹，下载代码.</p>
<p>&nbsp;&nbsp;<img src="./images/创建Npm脚手架9.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/创建Npm脚手架10.png" alt="" /></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>