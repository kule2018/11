<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修前端基础之BOM和DOM操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>前端基础之BOM和DOM操作</center></div><div class='banquan'>原文出处:本文由博客园博主SetCreed提供。<br/>
原文连接:https://www.cnblogs.com/setcreed/p/11885982.html</div><br>
    <div class="toc">
    <p class="toc-title">目录</p>
    <div class="toc-list">
        <ul>
        <li><a href="#bom和dom定义">BOM和DOM定义</a></li>
        <li><a href="#windows对象">windows对象</a></li>
        <li><a href="#windows的子对象">windows的子对象</a><ul>
        <li><a href="#navigator对象">navigator对象</a></li>
        <li><a href="#screen对象">screen对象</a></li>
        <li><a href="#history对象">history对象</a></li>
        <li><a href="#location对象">location对象</a></li>
        <li><a href="#弹出框">弹出框</a><ul>
        <li><a href="#警告框">警告框</a></li>
        <li><a href="#确认框">确认框</a></li>
        <li><a href="#提示框">提示框</a></li>
        </ul></li>
        <li><a href="#计时相关">计时相关</a><ul>
        <li><a href="#settimeout">setTimeout()</a></li>
        <li><a href="#cleartimeout">clearTimeout()</a></li>
        <li><a href="#setinterval">setInterval()</a></li>
        <li><a href="#clearinterval">clearInterval()</a></li>
        </ul></li>
        </ul></li>
        <li><a href="#html-dom树">HTML DOM树</a></li>
        <li><a href="#查找标签">查找标签</a><ul>
        <li><a href="#直接查找">直接查找</a></li>
        <li><a href="#间接查找">间接查找</a></li>
        </ul></li>
        <li><a href="#节点操作">节点操作</a><ul>
        <li><a href="#创建节点">创建节点</a></li>
        <li><a href="#添加节点">添加节点</a></li>
        <li><a href="#删除节点">删除节点</a></li>
        <li><a href="#替换节点">替换节点</a></li>
        <li><a href="#属性节点">属性节点</a></li>
        <li><a href="#attribute操作">attribute操作</a></li>
        </ul></li>
        <li><a href="#获取值操作">获取值操作</a><ul>
        <li><a href="#class操作标签类属性">class操作标签类属性</a></li>
        <li><a href="#css样式操作">css样式操作</a></li>
        </ul></li>
        <li><a href="#事件">事件</a><ul>
        <li><a href="#常用事件">常用事件</a></li>
        <li><a href="#绑定方式">绑定方式</a></li>
        <li><a href="#事件实例">事件实例</a><ul>
        <li><a href="#点击变色">点击变色</a></li>
        <li><a href="#获取焦点实例">获取焦点实例</a></li>
        <li><a href="#展示当前事件">展示当前事件</a></li>
        <li><a href="#省市联动">省市联动</a></li>
        </ul></li>
        </ul></li>
        <li><a href="#补充知识点">补充知识点</a></li>
        </ul>
    </div>
</div>
<h1 id="bom和dom定义">BOM和DOM定义</h1>
<p>BOM（Browser Object Model）是指浏览器对象模型，使JavaScript有能力于浏览器进行对话</p>
<p>DOM（Document Object Model）是指文档对象模型，通过它，可以访问HTML文档的所有元素</p>
<p>由于window对象是其它大部分对象的共同祖先，在调用window对象的方法和属性时，可以省略window对象的引用。例如：window.document.write()可以简写成：document.write()。</p>
<h1 id="windows对象">windows对象</h1>
<p>所有浏览器都支持window对象，表示浏览器窗口</p>
<p>一些常用的Window方法：</p>
<ul>
<li>window.innerHeight - 浏览器窗口的内部高度</li>
<li>window.innerWidth - 浏览器窗口的内部宽度</li>
<li>window.open() - 打开新窗口</li>
<li>window.close() - 关闭当前窗口</li>
</ul>
<h1 id="windows的子对象">windows的子对象</h1>
<h2 id="navigator对象">navigator对象</h2>
<pre><code><code>navigator.appName　　// Web浏览器全称
navigator.appVersion　　// Web浏览器厂商和版本的详细字符串
navigator.userAgent　　// 客户端绝大部分信息
navigator.platform　　　// 浏览器运行所在的操作系统</code></pre>
<h2 id="screen对象">screen对象</h2>
<pre><code><code>screen.availWidth   // 可用的屏幕宽度
screen.availHeight   // 可用的屏幕高度</code></pre>
<h2 id="history对象">history对象</h2>
<p>浏览器历史对象，包含了用户对当前页面的浏览历史</p>
<pre><code><code>history.forward()  // 前进一页
history.back()  // 后退一页</code></pre>
<h2 id="location对象">location对象</h2>
<p>window.loaction对象用于获得当前页面的地址（URL），并把浏览器重定向到新的页面</p>
<p>常用的属性和方法：</p>
<pre><code><code>location.href   // 获取URL
location.href=&quot;URL&quot;  // 跳转到指定页面
location.reload()  // 重新加载页面</code></pre>
<h2 id="弹出框">弹出框</h2>
<p>可以在JavaScript中创建三种消息框：警告框、确认框、提示框</p>
<h3 id="警告框">警告框</h3>
<p>警告框经常用于确保用户可以得到某些信息。</p>
<p>当警告框出现后，用户需要点击确定按钮才能继续进行操作。</p>
<pre><code><code>alert(&#39;can you see?&#39;)</code></pre>
<h3 id="确认框">确认框</h3>
<p>用于使用户</p>
<pre><code><code>confirm(&#39;are you ok?&#39;)</code></pre>
<h3 id="提示框">提示框</h3>
<p>提示框经常用于提示用户在进入页面前输入某个值。</p>
<p>当提示框出现后，用户需要输入某个值，然后点击确认或取消按钮才能继续操纵。</p>
<p>如果用户点击确认，那么返回值为输入的值。如果用户点击取消，那么返回值为 null。</p>
<pre><code><code>prompt(&#39;请输入你的答案&#39;)</code></pre>
<h2 id="计时相关">计时相关</h2>
<p>通过使用js，可以在一定间隔后来执行代码，而不是在函数被调用后立即执行。我们称之为计时时间</p>
<h3 id="settimeout">setTimeout()</h3>
<p>语法：</p>
<pre><code><code>var t=setTimeout(&quot;JS语句&quot;,毫秒)</code></pre>
<p>例子</p>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    function func() {
        alert(&#39;hello world!&#39;)
    }
    setTimeout(func, 3000)
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="cleartimeout">clearTimeout()</h3>
<pre><code><code>// 在指定时间之后执行一次相应函数
var timer = setTimeout(function(){alert(123);}, 3000)
// 取消setTimeout设置
clearTimeout(timer);</code></pre>
<h3 id="setinterval">setInterval()</h3>
<p>上面的方法只是设置了一次定时器，setInterval() 方法可按照指定的周期（以毫秒计）来调用函数或计算表达式。它会不停地调用函数</p>
<pre><code><code>function func() {
        alert(&#39;hello world!&#39;)
    }

setInterval(func, 3000)  //每隔三秒钟执行一次</code></pre>
<h3 id="clearinterval">clearInterval()</h3>
<p>可取消由setIntertval()设置的timeout</p>
<p>例子</p>
<pre><code><code>    function func() {
        alert(&#39;hello world!&#39;)
    }
    function show() {
        var t = setInterval(func, 3000);   // 每隔3秒执行一次
        function inner() {
            clearInterval(t)
        }
        setTimeout(inner, 9000)
    }
    show()

// 每隔3秒弹框一次，3次之后就不在弹框了</code></pre>
<h1 id="html-dom树">HTML DOM树</h1>
<p><img src="./images/前端基础之BOM和DOM操作0.png" /></p>
<p>DOM标准规定HTML文档中的每个成分都是一个节点(node)：</p>
<ul>
<li>文档节点(document对象)：代表整个文档</li>
<li>元素节点(element 对象)：代表一个元素（标签）</li>
<li>文本节点(text对象)：代表元素（标签）中的文本</li>
<li>属性节点(attribute对象)：代表一个属性，元素（标签）才有属性</li>
<li>注释是注释节点(comment对象)　</li>
</ul>
<p>JavaScript 可以通过DOM创建动态的 HTML：</p>
<ul>
<li>JavaScript 能够改变页面中的所有 HTML 元素</li>
<li>JavaScript 能够改变页面中的所有 HTML 属性</li>
<li>JavaScript 能够改变页面中的所有 CSS 样式</li>
<li>JavaScript 能够对页面中的所有事件做出反应</li>
</ul>
<h1 id="查找标签">查找标签</h1>
<h2 id="直接查找">直接查找</h2>
<pre><code><code>document.getElementById           // 根据ID获取一个标签
document.getElementsByClassName   // 根据class属性获取
document.getElementsByTagName     // 根据标签名获取标签合集</code></pre>
<p><strong>注意：通过标签和class查找的结果是数组，通过id获得的是对象本身</strong></p>
<h2 id="间接查找">间接查找</h2>
<pre><code><code>parentElement            父节点标签元素
children                 所有子标签
firstElementChild        第一个子标签元素
lastElementChild         最后一个子标签元素
nextElementSibling       下一个兄弟标签元素
previousElementSibling   上一个兄弟标签元素</code></pre>
<pre><code><code>var pEle = document.getElementById(&#39;d1&#39;)   // 注意变量的命名
pEle.parentElement


var divEle = document.getElementsByClassName(&#39;c1&#39;)[0]  // 注意通过class查找结果是数组，要加0取索引</code></pre>
<h1 id="节点操作">节点操作</h1>
<h2 id="创建节点">创建节点</h2>
<pre><code><code>var divEle = document.createElement(&quot;div&quot;);</code></pre>
<h2 id="添加节点">添加节点</h2>
<pre><code><code>somenode.appendChild(newnode)；   // 追加一个子节点（作为最后的子节点）

somenode.insertBefore(newnode,某个节点);   // 把增加的节点放到某个节点的前边</code></pre>
<p><img src="./images/前端基础之BOM和DOM操作1.png" /></p>
<p><img src="./images/前端基础之BOM和DOM操作2.png" /></p>
<p><img src="./images/前端基础之BOM和DOM操作3.png" /></p>
<h2 id="删除节点">删除节点</h2>
<pre><code><code>somenode.removeChild(要删除的节点)</code></pre>
<h2 id="替换节点">替换节点</h2>
<pre><code><code>somenode.replaceChild(newnode, 某个节点);</code></pre>
<h2 id="属性节点">属性节点</h2>
<p>获取文本节点的值</p>
<pre><code><code>var divEle = document.getElementById(&quot;d1&quot;)
divEle.innerText
divEle.innerHTML</code></pre>
<p>设置文本节点的值</p>
<pre><code><code>var divEle = document.getElementsByClassName(&#39;c1&#39;)[0]
divEle.innerText = &#39;我很善良&#39;
divEle.innerHTML = &#39;好好学习&#39;
divEle.innerHTML = &#39;&lt;b&gt;好好学习&lt;/b&gt;&#39;</code></pre>
<p><img src="./images/前端基础之BOM和DOM操作4.png" /></p>
<h2 id="attribute操作">attribute操作</h2>
<pre><code><code>var divEle = document.getElementById(&quot;d1&quot;);
divEle.setAttribute(&quot;age&quot;,&quot;18&quot;)  // 设置属性
divEle.getAttribute(&quot;age&quot;)     // 获取属性
divEle.removeAttribute(&quot;age&quot;)   // 删除属性

// 自带的属性还可以直接.属性名来获取和设置
imgEle.src
imgEle.src=&quot;...&quot;</code></pre>
<h1 id="获取值操作">获取值操作</h1>
<p>适用于以下标签：</p>
<ul>
<li>.input<br />
</li>
<li>.select</li>
<li>.textarea</li>
</ul>
<pre><code><code>var iEle = document.getElementById(&#39;d1&#39;)
iEle.value   // 获取input内部用户输入的内容，通过.value的形式获取值，支持实时更新</code></pre>
<p><img src="./images/前端基础之BOM和DOM操作5.png" /></p>
<h2 id="class操作标签类属性">class操作标签类属性</h2>
<pre><code><code>var divEle = document.getElementsByTagName(&#39;div&#39;)[0]

divEle.classList   // 获取所有样式类名

divEle.classList.remove(cls)  // 删除指定类
divEle.classList.add(cls)  // 添加类
divEle.classList.contains(cls)  // 存在返回true，否则返回false
divEle.classList.toggle(cls)  // 存在就删除，否则添加</code></pre>
<h2 id="css样式操作">css样式操作</h2>
<p>JS操作CSS属性的规律：</p>
<p>1.对于没有中横线的CSS属性一般直接使用style.属性名即可。如：</p>
<pre><code><code>obj.style.margin
obj.style.width
obj.style.left
obj.style.position</code></pre>
<p>2.对含有中横线的CSS属性，将中横线后面的第一个字母换成大写即可。如：</p>
<pre><code><code>obj.style.marginTop
obj.style.borderLeftWidth
obj.style.zIndex
obj.style.fontFamily</code></pre>
<p><img src="./images/前端基础之BOM和DOM操作6.png" /></p>
<h1 id="事件">事件</h1>
<p>当符合某个条件下，自动触发的动作/响应</p>
<h2 id="常用事件">常用事件</h2>
<pre><code><code>onclick        // 当用户点击某个对象时调用的事件句柄。
ondblclick     // 当用户双击某个对象时调用的事件句柄。

onfocus        // 元素获得焦点。               
onblur         // 元素失去焦点。    应用场景：用于表单验证,用户离开某个输入框时,代表已经输入完了,我们可以对它进行验证.
onchange       // 域的内容被改变。   应用场景：通常用于表单元素,当元素内容被改变时触发.（select联动）

onkeydown      // 某个键盘按键被按下。 应用场景: 当用户在最后一个输入框按下回车按键时,表单提交.
onkeypress     // 某个键盘按键被按下并松开。
onkeyup        // 某个键盘按键被松开。
onload         // 一张页面或一幅图像完成加载。
onmousedown    // 鼠标按钮被按下。
onmousemove    // 鼠标被移动。
onmouseout     // 鼠标从某元素移开。
onmouseover    // 鼠标移到某元素之上。

onselect      // 在文本框中的文本被选中时发生。
onsubmit      // 确认按钮被点击，使用的对象是form。</code></pre>
<h2 id="绑定方式">绑定方式</h2>
<p>方式1：</p>
<pre><code><code>&lt;button onclick=&quot;func()&quot;&gt;按钮&lt;/button&gt;

&lt;script&gt;
    function func() {
        alert(&#39;我被点击了&#39;)
    }
&lt;/script&gt;



&lt;div id=&quot;d1&quot; onclick=&quot;changeColor(this);&quot;&gt;点我&lt;/div&gt;
&lt;script&gt;
  function changeColor(ths) {
    ths.style.backgroundColor=&quot;green&quot;;
  }
&lt;/script&gt;</code></pre>
<p>this是实参，表示触发事件的当前元素。</p>
<p>函数定义过程中的ths为形参。</p>
<p>方式2：</p>
<pre><code><code>&lt;script&gt;
    var i1Ele = document.getElementById(&#39;d1&#39;);
    i1Ele.onclick = function () {
        // i1Ele标签被点击之后 能做的事
        func()
    };

    function func() {
        alert(&#39;我被点击了&#39;)
    }
&lt;/script&gt;</code></pre>
<p><strong>推荐使用第二种</strong></p>
<p>如何解决js代码运行报错的情况</p>
<p>html代码运行至上而下</p>
<ul>
<li>方式1</li>
</ul>
<pre><code><code>利用onload等待某个对象加载完毕之后再执行</code></pre>
<ul>
<li>方式2</li>
</ul>
<pre><code><code>直接将你的js代码写在body最下方</code></pre>
<h2 id="事件实例">事件实例</h2>
<h3 id="点击变色">点击变色</h3>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
    &lt;style&gt;
        .c1 {
            height: 400px;
            width: 400px;
            border-radius: 50%;
        }
        .bg_red {
            background-color: red;
        }
        .bg_green {
            background-color: green;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;c1 bg_green bg_red&quot;&gt;&lt;/div&gt;
&lt;button id=&quot;d1&quot;&gt;变色&lt;/button&gt;

&lt;script&gt;
    var btnEle = document.getElementById(&#39;d1&#39;);
    btnEle.onclick = function () {
        // 找到div标签
        var divEle = document.getElementsByClassName(&#39;c1&#39;)[0];
        // 修改类属性  有则删除，无则添加
        divEle.classList.toggle(&#39;bg_green&#39;)
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="获取焦点实例">获取焦点实例</h3>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;input type=&quot;text&quot; value=&quot;python开发&quot; id=&quot;d1&quot;&gt;
&lt;script&gt;
    var iEle = document.getElementById(&#39;d1&#39;);
    // input框获取焦点
    iEle.onfocus = function () {
        // 将input框文本值清楚
        iEle.value = &#39;&#39;
    };
    // input框失去焦点
    iEle.onblur = function () {
        iEle.value = &#39;欢迎下次再来～&#39;
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="展示当前事件">展示当前事件</h3>
<pre class="html"><code>&lt;!--input框显示事件1秒1秒走--&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;input type=&quot;text&quot; id=&quot;d1&quot;&gt;
&lt;button id=&quot;b1&quot;&gt;开始&lt;/button&gt;
&lt;button id=&quot;b2&quot;&gt;结束&lt;/button&gt;
&lt;script&gt;
    // 先定义一个全局变量 用来存储定时器
    var t = null;

    var b1Ele = document.getElementById(&#39;b1&#39;);
    var b2Ele = document.getElementById(&#39;b2&#39;);

    var iEle = document.getElementById(&#39;d1&#39;);
    function showTime() {
        var currentTime = new Date();
        var ctime = currentTime.toLocaleString();
        iEle.value = ctime
    }
    // 开始按钮
    b1Ele.onclick = function () {
        t = setInterval(showTime, 1000)
    };
    // 结束按钮
    b2Ele.onclick = function () {
        clearInterval(t)
    }  // 但是有个问题：当点击多次开始，点击结束按钮不能停止。原因就是点击多次开始，就生成了多个定时器，而 这里的t值得是最后一个定时器，前面的定时器还开着呢

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="省市联动">省市联动</h3>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;select name=&quot;&quot; id=&quot;d1&quot;&gt;省:
&lt;!--    &lt;option value=&quot;&quot;&gt;&amp;#45;&amp;#45;请选择&amp;#45;&amp;#45;&lt;/option&gt;--&gt;
&lt;/select&gt;
&lt;select name=&quot;&quot; id=&quot;d2&quot;&gt;市&lt;/select&gt;

&lt;script&gt;
    var s1Ele = document.getElementById(&#39;d1&#39;);
    var s2Ele = document.getElementById(&#39;d2&#39;);

    var data = {
        &#39;河北省&#39;: [&#39;石家庄&#39;, &#39;邢台&#39;, &#39;邯郸&#39;],
        &#39;北京&#39;: [&#39;朝阳区&#39;, &#39;海淀区&#39;, &#39;昌平区&#39;],
        &#39;上海&#39;: [&#39;青浦区&#39;, &#39;静安区&#39;, &#39;徐汇区&#39;]
    };
    // 循环自定义对象中的key 动态创建option标签，添加到第一个选择框中
    for (let province in data){
        // 创建一个个的option标签
        var optEle = document.createElement(&#39;option&#39;);
        // 给创建的option标签设置文本和属性
        optEle.innerText = province;
        optEle.value = province;
        // 讲创建好的option标签添加到select框中
        s1Ele.appendChild(optEle)
    }
    s1Ele.onchange = function () {
        //console.log(this.value)  // this指的就是当前操作对象本身，类似于Python中的self
        // 获取与欧诺个户选择的省 根据省取到对应的市
        var currentPro = this.value;
        var cityList = data[currentPro];

        // 先将第二个select框中的所有内容清空
        s2Ele.innerHTML = &#39;&#39;;

        // 循环市的数组 创建option标签 操作属性 添加到第二个select框中
        for (let i=0;i&lt;cityList.length;i++){
            // console.log(cityList[i])
            var optEle = document.createElement(&#39;option&#39;);
            optEle.innerText = cityList[i];
            optEle.value = cityList[i];
            s2Ele.appendChild(optEle)
        }
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h1 id="补充知识点">补充知识点</h1>
<p><img src="./images/前端基础之BOM和DOM操作7.png" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>