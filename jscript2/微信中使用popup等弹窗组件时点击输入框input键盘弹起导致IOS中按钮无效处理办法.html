<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修微信中使用popup等弹窗组件时点击输入框input键盘弹起导致IOS中按钮无效处理办法' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>微信中使用popup等弹窗组件时点击输入框input键盘弹起导致IOS中按钮无效处理办法</center></div><div class='banquan'>原文出处:本文由博客园博主木子沐沐提供。<br/>
原文连接:https://www.cnblogs.com/muzimumu/p/11851469.html</div><br>
    <p>&nbsp; &nbsp;因为在IOS微信中在弹窗中使用input使键盘弹起，使弹窗的位置上移，当键盘关闭时页面还在上面，弹窗位移量也在上面，只有下拉才能回到原位，这样弹窗也消失了。我的处理办法就是在键盘弹起和消失的时候，让页面都回到弹起之前的状态，使用了window.scrollTo方法。</p>
<p>　　</p>
<div class="cnblogs_Highlighter">
<pre><code>    keyUpClose () {
       let u = navigator.userAgent;
       let state; // 记录状态当关闭键盘时平滑滚动（smooth）一次页面
       let myFun;
       let isIos = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
            if(isIos){
                document.body.addEventListener('focusin', () =&gt; {  //软键盘弹起事件
                    state=true;
                    clearTimeout(myFun);
                })
                document.body.addEventListener('focusout', () =&gt; { //软键盘关闭事件
                    var scrollTop = document.documentElement.scrollTop||document.body.scrollTop;
                    state=false;
                    if(!state){
                        myFun= setTimeout(function(){  
                            window.scrollTo({top:scrollTop,left:0,behavior:"smooth"})//重点 ----当键盘收起的时候让页面回到原始位置(这里的top：scrollTop<br /> 　　　　　　　　　　　　　　　　回到了弹窗弹起前状态)
                        },200);
                    }else{
                        return
                    }
                })
            }else{
                return
            }
        }
</pre>
</div>
<p>　　</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>