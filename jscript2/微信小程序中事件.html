<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修微信小程序中事件' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>微信小程序中事件</center></div><div class='banquan'>原文出处:本文由博客园博主小小咸鱼YwY提供。<br/>
原文连接:https://www.cnblogs.com/pythonywy/p/11574424.html</div><br>
    <h1 id="微信小程序中事件">微信小程序中事件</h1>
<h2 id="一.常见的事件有">一.常见的事件有</h2>
<table>
<thead>
<tr class="header">
<th>类型</th>
<th>触发条件</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>touchstart</td>
<td>手指触摸动作开始</td>
<td></td>
</tr>
<tr class="even">
<td>touchmove</td>
<td>手指触摸后移动</td>
<td></td>
</tr>
<tr class="odd">
<td>touchcancel</td>
<td>手指触摸动作被打断，如来电提醒，弹窗</td>
<td></td>
</tr>
<tr class="even">
<td>touchend</td>
<td>手指触摸动作结束</td>
<td></td>
</tr>
<tr class="odd">
<td>tap</td>
<td>手指触摸后马上离开</td>
<td></td>
</tr>
<tr class="even">
<td>longpress</td>
<td>手指触摸后，超过350ms再离开，如果指定了事件回调函数并触发了这个事件，tap事件将不被触发</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr class="odd">
<td>longtap</td>
<td>手指触摸后，超过350ms再离开（推荐使用longpress事件代替）</td>
<td></td>
</tr>
<tr class="even">
<td>transitionend</td>
<td>会在 WXSS transition 或 wx.createAnimation 动画结束后触发</td>
<td></td>
</tr>
<tr class="odd">
<td>animationstart</td>
<td>会在一个 WXSS animation 动画开始时触发</td>
<td></td>
</tr>
<tr class="even">
<td>animationiteration</td>
<td>会在一个 WXSS animation 一次迭代结束时触发</td>
<td></td>
</tr>
<tr class="odd">
<td>animationend</td>
<td>会在一个 WXSS animation 动画完成时触发</td>
<td></td>
</tr>
<tr class="even">
<td>touchforcechange</td>
<td>在支持 3D Touch 的 iPhone 设备，重按时会触发</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>有两个注意点</strong>：</p>
<pre><code><code>    Touchcancle: 在某些特定场景下才会触发（比如来电打断等） </code></pre>
<p>​ tap事件和longpress事件通常只会触发其中一个</p>
<h2 id="二.书写方式">二.书写方式</h2>
<h3 id="页面中">页面中</h3>
<h4 id="不需要传参的事件">不需要传参的事件</h4>
<pre class="html"><code>&lt;!--写法一 bind事件名=&#39;函数名&#39; --&gt;
&lt;button bindtap=&quot;fuck&quot;&gt;点我&lt;/button&gt;
&lt;!--写法一 bind:事件名=&#39;函数名&#39; --&gt;</code></pre>
<h4 id="需要传参的事件">需要传参的事件</h4>
<pre class="python"><code>&lt;!-- 点击传参data-传过去的key=&#39;变量值&#39; --&gt;
&lt;button bindtap=&quot;fuck_1&quot; data-name=&quot;ywy&quot;&gt;传参&lt;/button&gt;
&lt;!-- 点击传变量data-传过去的key=&#39;{{变量名}}&#39; --&gt;
&lt;button bindtap=&quot;fuck_2&quot; data-number=&#39;{{a}}&#39;&gt;{{a}}&lt;/button&gt;</code></pre>
<h3 id="js文件中">js文件中</h3>
<pre class="python"><code>fuck:function(){
    console.log(&#39;1111111&#39;)
  },
  fuck_1: function (data) {
   console.log(data)
  },
  fuck_2: function (e) {
    console.log(e)
  },</code></pre>
<h2 id="三.有传参的事件取值">三.有传参的事件取值</h2>
<h3 id="事件传递参数">事件传递参数</h3>
<p><strong>当视图层发生事件时，某些情况需要事件携带一些参数到执行的函数中, 这个时候就可以通过</strong></p>
<p>data-属性来完成：</p>
<p>1 格式：data-属性的名称</p>
<p>2 获取：e.currentTarget.dataset.属性的名称</p>
<h3 id="currenttarget和target的区别">currentTarget和target的区别</h3>
<p>这个区别普通的标签看不出来,但是一旦有标签的父标签页有一个事件时候,这时候就有区别,currentTarget指向的是本身的函数调用传的参数,而target不是</p>
<h2 id="四.传参和定义变量之间的操作">四.传参和定义变量之间的操作</h2>
<pre class="js"><code>页面中js
  func:function(e){
    this.setData({
        变量名:this.data.变量名++
    })
  },</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>