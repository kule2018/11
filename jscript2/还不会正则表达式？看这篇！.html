<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修还不会正则表达式？看这篇！' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>还不会正则表达式？看这篇！</center></div><div class='banquan'>原文出处:本文由博客园博主Fundebug提供。<br/>
原文连接:https://www.cnblogs.com/fundebug/p/regular-expression-tutorial.html</div><br>
    <p><strong>摘要：</strong> 正则表达式入门教程。</p>
<ul>
<li>原文：<a href="https://segmentfault.com/a/1190000018489883">还不会正则表达式？看这篇！</a></li>
<li>作者：MudOnTire</li>
</ul>
<p><strong><a href="https://www.fundebug.com/">Fundebug</a>经授权转载，版权归原作者所有。</strong></p>
<p>正则表达式是很多程序员，甚至是一些有了多年经验的开发者薄弱的一项技能。大家都很多时候都会觉得正则表达式难记、难学、难用，但不可否认的是正则表达式是一项很重要的技能，所有我将学习和使用正则表达式时的关键点整理如下，供大家参考。</p>
<p>不同语言中的正则表达式写法有少许差异，本文将使用 Javascript 中的语法。</p>
<h3 id="什么是正则表达式">什么是正则表达式？</h3>
<p>正则表达式（Regular Expression 或 Regex），是用于定义某种特定搜索模式的字符组合。正则表达式可用于匹配、查找和替换文本中的字符，进行输入数据的验证，查找英文单词的拼写错误等。</p>
<h3 id="调试工具">调试工具</h3>
<p>下面列出了几款优秀的在线调试工具，如果你想创建或者调试正则表达式可能会需要。个人比较偏好<a href="https://regex101.com/">Regex101</a>，regex101 支持在正则表达式的不同 flavor 之间切换、解释你的正则表达式、显示匹配信息、提供常用语法参考等功能，非常强大。</p>
<ul>
<li><a href="https://regex101.com/">Regex101</a></li>
</ul>
<p><img src="./images/还不会正则表达式？看这篇！0.png" /></p>
<ul>
<li><a href="https://regexr.com/">Regexr</a></li>
</ul>
<p><img src="./images/还不会正则表达式？看这篇！1.png" /></p>
<ul>
<li><a href="https://www.regexpal.com/">Regexpal</a></li>
</ul>
<p><img src="./images/还不会正则表达式？看这篇！2.png" /></p>
<h3 id="开始">开始</h3>
<p>在 Javascript 中，一个正则表达式以 <code>/</code> 开头和结尾，所以简单至 <code>/hello regexp/</code> 就是一个正则表达式。</p>
<h3 id="flags标志符或修饰符">Flags（标志符或修饰符）</h3>
<p>Flags 写在结束的<code>/</code>之后，可以影响整个正则表达式的匹配行为。常见的 flags 有：</p>
<ol>
<li><code>g</code>：全局匹配（global）；正则表达式默认只会返回第一个匹配结果，使用标志符<code>g</code>则可以返回所有匹配</li>
<li><code>i</code>：忽略大小写（case-insensitive）；在匹配时忽略英文字母的大小写</li>
<li><code>m</code>：多行匹配（multiline）；将开始和结束字符（^和$）视为在多行上工作，即分别匹配每一行（由 <code>\n</code> 或 <code>\r</code> 分割）的开始和结束，而不只是只匹配整个输入字符串的最开始和最末尾处</li>
</ol>
<p>Flags 可以组合使用，如：</p>
<p><img src="./images/还不会正则表达式？看这篇！3.png" /></p>
<h3 id="character-sets字符集合">Character Sets（字符集合）</h3>
<p>用于匹配字符集合中的任意一个字符，常见的字符集有：</p>
<ol>
<li><code>[xyz]</code>：匹配 <code>&quot;x&quot;</code>或<code>&quot;y&quot;``&quot;z&quot;</code></li>
<li><code>[^xyz]</code>：补集，匹配除 <code>&quot;x&quot; &quot;y&quot; &quot;z&quot;</code>的其他字符</li>
<li><code>[a-z]</code>：匹配从 <code>&quot;a&quot;</code> 到 <code>&quot;z&quot;</code> 的任意字符</li>
<li><code>[^a-n]</code>：补集，匹配除 <code>&quot;a&quot;</code> 到 <code>&quot;n&quot;</code> 的其他字符</li>
<li><code>[A-Z]</code>：匹配从 <code>&quot;A&quot;</code> 到 <code>&quot;Z&quot;</code> 的任意字符</li>
<li><code>[0-9]</code>：匹配从 <code>&quot;0&quot;</code> 到 <code>&quot;9&quot;</code> 的任意数字</li>
</ol>
<p>比如匹配所有的字母和数字可以写成：<code>/[a-zA-Z0-9]/</code> 或者 <code>/[a-z0-9]/i</code>。</p>
<h3 id="quantifiers-量词">Quantifiers (量词)</h3>
<p>在实际使用中，我们常常需要匹配同一类型的字符多次，比如匹配 11 位的手机号，我们不可能将 <code>[0-9]</code> 写 11 遍，此时我们可以使用 Quantifiers 来实现重复匹配。</p>
<ol>
<li><code>{n}</code>：匹配 <code>n</code> 次</li>
<li><code>{n,m}</code>：匹配 <code>n-m</code> 次</li>
<li><code>{n,}</code>：匹配 <code>&gt;=n</code> 次</li>
<li><code>?</code>：匹配 <code>0 || 1</code> 次</li>
<li><code>*</code>：匹配 <code>&gt;=0</code> 次，等价于 <code>{0,}</code></li>
<li><code>+</code>：匹配 <code>&gt;=1</code> 次，等价于 <code>{1,}</code></li>
</ol>
<h3 id="metacharacters元字符">Metacharacters（元字符）</h3>
<p>在正则表达式中有一些具有特殊含义的字母，被称为元字符，简言之，元字符就是描述字符的字符，它用于对字符表达式的内容、转换及各种操作信息进行描述。</p>
<p>常见的元字符有：</p>
<ol>
<li><code>\d</code>：匹配任意数字，等价于 <code>[0-9]</code></li>
<li><code>\D</code>：匹配任意非数字字符；<code>\d</code> 的补集</li>
<li><code>\w</code>：匹配任意基本拉丁字母表中的字母和数字，以及下划线；等价于 <code>[A-Za-z0-9_]</code></li>
<li><code>\W</code>：匹配任意非基本拉丁字母表中的字母和数字，以及下划线；<code>\w</code> 的补集</li>
<li><code>\s</code>：匹配一个空白符，包括空格、制表符、换页符、换行符和其他 Unicode 空格</li>
<li><code>\S</code>：匹配一个非空白符；<code>\s</code>的补集</li>
<li><code>\b</code>：匹配一个零宽单词边界，如一个字母与一个空格之间；例如，<code>/\bno/</code> 匹配 <code>&quot;at noon&quot;</code> 中的 <code>&quot;no&quot;</code>，<code>/ly\b/</code> 匹配 <code>&quot;possibly yesterday.&quot;</code> 中的 <code>&quot;ly&quot;</code></li>
<li><code>\B</code>：匹配一个零宽非单词边界，如两个字母之间或两个空格之间；例如，<code>/\Bon/</code> 匹配 <code>&quot;at noon&quot;</code> 中的 <code>&quot;on&quot;</code>，<code>/ye\B/</code> 匹配 <code>&quot;possibly yesterday.&quot;</code> 中的 <code>&quot;ye&quot;</code></li>
<li><code>\t</code>：匹配一个水平制表符（tab)</li>
<li><code>\n</code>：匹配一个换行符（newline)</li>
<li><code>\r</code>：匹配一个回车符（carriage return)</li>
</ol>
<h3 id="special-characters-特殊字符">Special Characters (特殊字符)</h3>
<p>正则中存在一些特殊字符，它们不会按照字面意思进行匹配，而有特殊的意义，比如前文讲过用于量词的<code>?</code>、<code>*</code>、<code>+</code>。其他常见的特殊字符有：</p>
<ol>
<li><code>\</code>：转义字符，可以将普通字符转成特殊字符。比如 <code>\w</code>；也可以将特殊字符转成字面意思，比如 <code>\+</code> 匹配 <code>&quot;+&quot;</code></li>
<li><code>.</code>：匹配任意单个字符，但是换行符除外：<code>\n</code>, <code>\r</code>, <code>\u2028</code> 或 <code>\u2029</code>；在字符集中（<code>[.]</code>），无特殊含义，即表示 <code>'.'</code> 的字面意思</li>
<li><code>|</code>：替换字符（alternate character），匹配 <code>|</code> 前或后的表达式。比如需要同时匹配 <code>&quot;bear&quot;</code> 和 <code>&quot;pear&quot;</code>，可以使用 <code>/(b|p)ear/</code> 或者 <code>/bear|pear/</code>；但是不能用 <code>/b|pear/</code>，该表达式只能匹配 <code>&quot;b&quot;</code> 和 <code>&quot;pear&quot;</code></li>
<li><code>^</code>：匹配输入的开始。比如，<code>/^A/</code> 不匹配 <code>&quot;an Apple&quot;</code> 中的 <code>&quot;A&quot;</code>，但匹配 <code>&quot;An apple&quot;</code> 中的 <code>&quot;A&quot;</code></li>
<li><code>$</code>：匹配输入的结尾。比如，<code>/t$/</code> 不匹配 <code>&quot;eater&quot;</code> 中的 <code>&quot;t&quot;</code>，但匹配 <code>&quot;eat&quot;</code> 中的 <code>&quot;t&quot;</code>。<code>^</code> 和 <code>$</code> 在表单验证时常需要使用，因为需要验证从开始到结尾的一个完整输入，而不是匹配输入中的某一段</li>
</ol>
<h3 id="groups分组">Groups（分组）</h3>
<ol>
<li><code>(xyz)</code>：捕获分组（Capturing Group），匹配并捕获匹配项；例如，<code>/(foo)/</code> 匹配且捕获 <code>&quot;foo bar.&quot;</code> 中的 <code>&quot;foo&quot;</code>。被匹配的子字符串可以在结果数组的元素 [1], ..., [n] 中找到，或在被定义的 RegExp 对象的属性 $1, ..., $9 中找到</li>
<li><code>(?:xyz)</code>：非捕获分组（Non-capturing Group），匹配但不会捕获匹配项；匹配项不能再次被访问到</li>
<li><code>\n</code>：<code>n</code> 是一个正整数，表示反向引用（back reference），指向正则表达式中第 n 个括号（从左开始数）中匹配的子字符串；例如，<code>/apple(,)\sorange\1/</code> 匹配 <code>&quot;apple, orange, cherry, peach.&quot;</code> 中的 <code>&quot;apple,orange,&quot;</code></li>
</ol>
<h3 id="assertion断言">Assertion（断言）</h3>
<ol>
<li><code>x(?=y)</code>：仅匹配被<code>y</code>跟随的<code>x</code>；例如，<code>/bruce(?=wayne)/</code>，如果<code>&quot;bruce&quot;</code>后面跟着<code>wayne</code>，则匹配之。<code>/bruce(?=wayne|banner)/</code> ，如果<code>&quot;bruce&quot;</code>后面跟着<code>&quot;wayne&quot;</code>或者<code>banner</code>，则匹配之。但是，<code>&quot;wayne&quot;</code> 和 <code>&quot;banner&quot;</code> 都不会在匹配结果中出现</li>
<li><code>x(?!y)</code>：仅匹配不被<code>y</code>跟随的<code>x</code>；例如，<code>/\d+(?!\.)/</code> 只会匹配不被 <code>&quot;.&quot;</code> 跟随的数字。</li>
</ol>
<pre><code><code>/\d+(?!\.)/.exec(&#39;3.141&#39;)` 匹配 `&quot;141&quot;`，而不是 `&quot;3.141&quot;</code></pre>
<p>最后，推荐大家使用<a href="https://www.fundebug.com/?utm_source=MudOnTire">Fundebug</a>，一款很好用的 BUG 监控工具~</p>
<h3 id="应用">应用</h3>
<p>上面罗列出了这么多正则表达式的语法和规则，可以在一定程度上帮助我们分析和理解一段正则表达式的作用，但是如何将这些规则组合并创造出有特定作用的表达式还需要我们自己多加练习，下面举几个例子来说明运用这些规则。</p>
<h3 id="匹配手机号码">1. 匹配手机号码</h3>
<p>我们先从比较简单的匹配手机号码开始。目前国内的手机号码是<code>1(3/4/5/7/8)</code>开头的 11 位数字，因此手机号码的正则可以分解为以下几部分：</p>
<ol>
<li>以 <code>1</code> 开头：<code>/^1/</code></li>
<li>第 2 位为<code>3、4、5、7、8</code>中的一个：<code>/[34578]/</code> 或 <code>/(3|4|5|7|8)/</code></li>
<li>剩余 3-11 位均为数字，并以数字结尾：<code>/\d{9}$/</code></li>
</ol>
<p>组合起来即为 <code>/^1[34578]\d{9}$/</code> 或 <code>/^1(3|4|5|7|8)\d{9}$/</code>，因为使用捕获括号存在性能损失，所以推荐使用第一种写法。</p>
<h3 id="匹配电子邮件">2. 匹配电子邮件</h3>
<p>标准的电子邮件组成为 <code>&lt;yourname&gt;@&lt;domain&gt;.&lt;extension&gt;&lt;optional-extension&gt;</code>，</p>
<p>每部分的格式标准为（进行了相应的简化，主要为展示如何书写正则）：</p>
<ol>
<li>yourname：任意英文字母（a-z/A-Z）、数字（0-9）、下划线（_）、英文句点（.）、连字符（-），长度大于 0</li>
<li>domain：任意英文字母（a-z/A-Z）、数字（0-9）、连字符（-），长度大于 0</li>
<li>extension：任意英文字母（a-z/A-Z），长度 2-8</li>
<li>optional-extension：<code>&quot;.&quot;</code>开头，后面跟任意英文字母（a-z/A-Z），长度 2-8，可选</li>
</ol>
<p>每部分的正则表达式为：</p>
<ol>
<li>yourname：<code>/[a-z\d._-]+/</code></li>
<li>domain：<code>/[a-z\d-]+/</code></li>
<li>extension： <code>/[a-z]{2,8}/</code></li>
<li>optional-extension：<code>/(\.[a-z]{2,8})?/</code></li>
</ol>
<p>组合起来形成最后的正则表达式：<code>/^([a-z\d._-]+)@([a-z\d-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/</code>；为了增加可读性可以将每部分用<code>&quot;()&quot;</code>包起来，并不要忘记起始和结束符 <code>^$</code>。</p>
<h3 id="结语">结语</h3>
<p>今天关于正则表达式的普及就先到这儿，希望对大家以后写正则能有一点帮助。关于本文中没有涉及到的知识可以参考以下链接：</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Regular_expression">Wikipedia - Regular Expression</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">MDN - Regular Expression</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference">Microsoft - Regular Expression Reference</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_obj_regexp.asp">W3schools - Regexp</a></li>
</ol>
<blockquote>
<p>推荐大家使用<a href="https://www.fundebug.com/?utm_source=MudOnTire">Fundebug</a>，一款很好用的 BUG 监控工具~</p>
</blockquote>
<h3 id="关于fundebug">关于Fundebug</h3>
<p><a href="https://www.fundebug.com/">Fundebug</a>专注于JavaScript、微信小程序、微信小游戏、支付宝小程序、React Native、Node.js和Java线上应用实时BUG监控。 自从2016年双十一正式上线，Fundebug累计处理了10亿+错误事件，付费客户有阳光保险、核桃编程、荔枝FM、掌门1对1、微脉、青团社等众多品牌企业。欢迎大家<a href="https://www.fundebug.com/team/create">免费试用</a>！</p>
<p><img src="./images/还不会正则表达式？看这篇！4.png" /></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>