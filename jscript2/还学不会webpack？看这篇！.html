<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='ç”µè„‘,ç”µè„‘è®²è§£,ç”µè„‘æŠ€æœ¯,ç¼–ç¨‹,ç”µè„‘æ•…éšœç»´ä¿®è¿˜å­¦ä¸ä¼šwebpackï¼Ÿçœ‹è¿™ç¯‡ï¼' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>é¦–é¡µ</a></li>
</div><div onclick='hidden1()' >åˆ†äº«</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>è¿˜å­¦ä¸ä¼šwebpackï¼Ÿçœ‹è¿™ç¯‡ï¼</center></div><div class='banquan'>åŸæ–‡å‡ºå¤„:æœ¬æ–‡ç”±åšå®¢å›­åšä¸»Fundebugæä¾›ã€‚<br/>
åŸæ–‡è¿æ¥:https://www.cnblogs.com/fundebug/p/webpack-tutorial.html</div><br>
    <p><strong>æ‘˜è¦ï¼š</strong> webpackå…¥é—¨æ•™ç¨‹ã€‚</p>
<ul>
<li>åŸæ–‡ï¼š<a href="https://segmentfault.com/u/mudontire">è¿˜å­¦ä¸ä¼šwebpackï¼Ÿçœ‹è¿™ç¯‡ï¼</a></li>
<li>ä½œè€…ï¼šMudOnTire</li>
</ul>
<p><strong><a href="https://www.fundebug.com/">Fundebug</a>ç»æˆæƒè½¬è½½ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚</strong></p>
<p><img src="./images/è¿˜å­¦ä¸ä¼šwebpackï¼Ÿçœ‹è¿™ç¯‡ï¼0.png" /></p>
<p>Webpackå·²ç»æµè¡Œå¥½ä¹…äº†ï¼Œä½†å¾ˆå¤šåŒå­¦ä½¿ç”¨webpackæ—¶è¿˜æ˜¯ä¸€å¤´é›¾æ°´ï¼Œä¸€ä¸‹çœ‹åˆ°é‚£ä¹ˆå¤šæ–‡æ¡£ã€å„ç§é…ç½®ã€å„ç§loaderã€pluginç«‹é©¬å°±æ™•å¤´è½¬å‘äº†ã€‚æˆ‘ä¹Ÿä¸ä¾‹å¤–ï¼Œä»¥è‡³äºå¾ˆé•¿ä¸€æ®µæ—¶é—´å¯¹webpackéƒ½æ˜¯ä¸€çŸ¥åŠè§£çš„çŠ¶æ€ã€‚ä½†æ˜¯æƒ³è¦ç»§ç»­åšå¥½å‰ç«¯ï¼Œwebpackæ˜¯å¿…é¡»å¾—è·¨è¿‡çš„ä¸€é“åï¼Œå…¶å®æŒæ¡webpackå¹¶ä¸éš¾ï¼Œåªæ˜¯æˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°æ­£ç¡®çš„æ–¹æ³•ã€‚æœ¬æ–‡å°±æ˜¯æˆ‘è‡ªå·±åœ¨å­¦ä¹ webpackæ—¶çš„ä¸€ç‚¹å¿ƒå¾—ä½“ä¼šï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯webpack">ä»€ä¹ˆæ˜¯webpackï¼Ÿ</h3>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼šwebpackæ˜¯ä¸€ä¸ª<strong>æ¨¡å—æ‰“åŒ…å·¥å…·ï¼ˆmodule bundlerï¼‰</strong>ã€‚é‡ç‚¹åœ¨äºä¸¤ä¸ªå…³é”®è¯â€œæ¨¡å—â€å’Œâ€œæ‰“åŒ…â€ã€‚ä»€ä¹ˆæ˜¯æ¨¡å—å‘¢ï¼Ÿæˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ›¾ç»çš„å‰ç«¯å¼€å‘æ–¹å¼ï¼Œjsæ–‡ä»¶é€šè¿‡<code>script</code>æ ‡ç­¾é™æ€å¼•å…¥ï¼Œjsæ–‡ä»¶ä¹‹é—´ç”±äºæ²¡æœ‰å¼ºä¾èµ–å…³ç³»ï¼Œå¦‚æœæ–‡ä»¶1è¦ç”¨åˆ°æ–‡ä»¶2çš„æŸäº›æ–¹æ³•æˆ–å˜é‡ï¼Œåˆ™å¿…é¡»å°†æ–‡ä»¶1æ”¾åˆ°æ–‡ä»¶2åé¢åŠ è½½ã€‚éšç€é¡¹ç›®çš„å¢å¤§ï¼Œjsæ–‡ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»è¶Šå‘é”™ç»¼å¤æ‚ï¼Œç»´æŠ¤éš¾åº¦ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚è¿™æ ·çš„å›°å¢ƒé©±ä½¿ç€å‰ç«¯å·¥ç¨‹å¸ˆä»¬ä¸æ–­æ¢ç´¢æ–°çš„å¼€å‘æ¨¡å¼ï¼Œä»åç«¯ã€appçš„å¼€å‘æ¨¡å¼ä¸­æˆ‘ä»¬è·å¾—çµæ„Ÿï¼Œä¸ºä»€ä¹ˆä¸èƒ½å¼•å…¥â€œæ¨¡å—â€çš„æ¦‚å¿µè®©jsæ–‡ä»¶ä¹‹é—´å¯ä»¥ç›¸äº’å¼•ç”¨å‘¢ï¼Ÿæ¨¡å—1è¦ä½¿ç”¨æ¨¡å—2çš„åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨è¯¥æ¨¡å—1ä¸­æ˜ç¡®å¼•ç”¨æ¨¡å—2å°±è¡Œäº†ï¼Œè€Œä¸ç”¨æ‹…å¿ƒå®ƒä»¬çš„æ’åˆ—é¡ºåºã€‚åŸºäºè¿™ç§ç†å¿µï¼Œ<a href="http://wiki.commonjs.org/wiki/CommonJS">CommonJS</a>å’Œ <a href="https://en.wikipedia.org/wiki/Asynchronous_module_definition">AMD</a>è§„èŒƒè¢«åˆ›é€ äº†å‡ºæ¥ï¼Œç„¶åæœ‰äº†require.jsã€system.jsè¿™æ ·çš„å‰ç«¯æ¨¡å—åŠ è½½å·¥å…·å’Œnodeçš„æ¨¡å—ç³»ç»Ÿï¼Œç›´åˆ°ç°åœ¨æµè¡Œçš„<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">es6 module</a>ã€‚</p>
<p>æ¨¡å—çš„å¼•å…¥è§£å†³äº†æ–‡ä»¶ä¹‹é—´ä¾èµ–å¼•ç”¨çš„é—®é¢˜ï¼Œè€Œæ‰“åŒ…åˆ™è§£å†³äº†æ–‡ä»¶è¿‡å¤šçš„é—®é¢˜ã€‚å½“é¡¹ç›®è§„æ¨¡å¢å¤§ï¼Œæ¨¡å—çš„æ•°é‡æ•°ä»¥åƒè®¡ï¼Œæµè§ˆå™¨å¦‚æœè¦åŠ è½½å¦‚æ­¤å¤šçš„æ–‡ä»¶ï¼Œé¡µé¢åŠ è½½çš„é€Ÿåº¦åŠ¿å¿…ä¼šå—å½±å“ï¼Œè€Œbundlerå¯ä»¥æŠŠå¤šä¸ªå…³è”çš„æ–‡ä»¶æ‰“åŒ…åˆ°ä¸€èµ·ä»è€Œå¤§é‡å‡å°‘æ–‡ä»¶çš„æ•°é‡æé«˜ç½‘é¡µåŠ è½½æ€§èƒ½ã€‚æä¾›æ¨¡å—åŒ–çš„å¼€å‘æ–¹å¼å’Œç¼–è¯‘æ‰“åŒ…åŠŸèƒ½å°±æ˜¯webpackçš„æ ¸å¿ƒï¼Œå…¶ä»–å¾ˆå¤šåŠŸèƒ½éƒ½å›´ç»•å®ƒä»¬å±•å¼€ã€‚</p>
<h3 id="æ ¸å¿ƒæ¦‚å¿µ">æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 id="moduleæ¨¡å—">Moduleï¼ˆæ¨¡å—ï¼‰</h4>
<p>å¯¹äºwebpackï¼Œæ¨¡å—ä¸ä»…ä»…æ˜¯javascriptæ¨¡å—ï¼Œå®ƒåŒ…æ‹¬äº†ä»»ä½•ç±»å‹çš„æºæ–‡ä»¶ï¼Œä¸ç®¡æ˜¯å›¾ç‰‡ã€å­—ä½“ã€jsonæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªä¸ªæ¨¡å—ã€‚Webpackæ”¯æŒä»¥ä¸‹çš„æ–¹å¼å¼•ç”¨æ¨¡å—ï¼š</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">ES2015 <code>import</code></a> æ–¹æ³•</li>
<li><a href="http://www.commonjs.org/specs/modules/1.0/">CommonJs <code>require()</code></a> æ–¹æ³•</li>
<li><a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD</a> <code>define</code> å’Œ <code>require</code> è¯­æ³•</li>
<li>css/sass/lessæ–‡ä»¶ä¸­çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import">@import</a> è¯­æ³•</li>
<li><code>url(...)</code> å’Œã€€<code>&lt;img src=...&gt;</code> ä¸­çš„å›¾ç‰‡è·¯å¾„</li>
</ul>
<h4 id="dependency-graphä¾èµ–å…³ç³»å›¾">Dependency Graphï¼ˆä¾èµ–å…³ç³»å›¾ï¼‰</h4>
<p>æ‰€è°“çš„ä¾èµ–å…³ç³»å›¾æ˜¯webpackæ ¹æ®æ¯ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»é€’å½’ç”Ÿæˆçš„ä¸€å¼ å†…éƒ¨é€»è¾‘å›¾ï¼Œæœ‰äº†è¿™å¼ ä¾èµ–å…³ç³»å›¾ï¼Œwebpackå°±èƒ½æŒ‰å›¾ç´¢éª¥æŠŠæ‰€æœ‰éœ€è¦æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªbundleæ–‡ä»¶äº†ã€‚</p>
<h4 id="entryå…¥å£">Entryï¼ˆå…¥å£ï¼‰</h4>
<p>ç»˜åˆ¶ä¾èµ–å…³ç³»å›¾çš„èµ·å§‹æ–‡ä»¶è¢«ç§°ä¸ºentryã€‚é»˜è®¤çš„entryä¸º <code>./src/index.js</code>ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ã€‚entryå¯ä»¥ä¸ºä¸€ä¸ªä¹Ÿå¯ä»¥ä¸ºå¤šä¸ªã€‚</p>
<p><strong>å•ä¸ªentryï¼š</strong></p>
<pre><code><code>module.exports = {
  entry: &#39;./src/index.js&#39;
}</code></pre>
<p>æˆ–è€…</p>
<pre><code><code>module.exports = {
  entry: {
    main: &#39;./src/index.js&#39;
  }
};</code></pre>
<p><strong>å¤šä¸ªentryï¼Œä¸€ä¸ªchunk</strong></p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸ºentryï¼Œä½†å°†å®ƒä»¬æ‰“åŒ…åˆ°ä¸€ä¸ªchunkä¸­ï¼Œæ­¤ç§æ–¹æ³•è¢«ç§°ä¸º <strong>multi-main entry</strong>ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥æ–‡ä»¶è·¯å¾„çš„æ•°ç»„ï¼š</p>
<pre><code><code>module.exports = {
  entry: [&#39;./src/index.js&#39;, &#39;./src/index2.js&#39;, &#39;./src/index3.js&#39;]
}</code></pre>
<p>ä½†æ˜¯æ”¹ç§æ–¹æ³•çš„çµæ´»æ€§å’Œæ‰©å±•æ€§æœ‰é™ï¼Œå› æ­¤å¹¶ä¸æ¨èä½¿ç”¨ã€‚</p>
<p><strong>å¤šä¸ªentryï¼Œå¤šä¸ªchunk</strong></p>
<p>å¦‚æœæœ‰å¤šä¸ªentryï¼Œå¹¶ä¸”æ¯ä¸ªentryç”Ÿæˆå¯¹åº”çš„chunkï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥objectï¼š</p>
<pre><code><code>module.exports = {
  entry: {
    app: &#39;./src/app.js&#39;,
    admin: &#39;./src/admin.js&#39;
  }
};</code></pre>
<p>è¿™ç§å†™æ³•æœ‰æœ€å¥½çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ï¼Œæ”¯æŒå’Œå…¶ä»–çš„å±€éƒ¨é…ç½®ï¼ˆpartial configurationï¼‰è¿›è¡Œåˆå¹¶ã€‚æ¯”å¦‚å°†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§çš„é…ç½®åˆ†ç¦»ï¼Œå¹¶æŠ½ç¦»å‡ºå…¬å…±çš„é…ç½®ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸‹è¿è¡Œæ—¶å†å°†ç¯å¢ƒé…ç½®å’Œå…¬å…±é…ç½®è¿›è¡Œåˆå¹¶ã€‚</p>
<h4 id="outputå‡ºå£">Outputï¼ˆå‡ºå£ï¼‰</h4>
<p>æœ‰äº†å…¥å£ï¼Œå¯¹åº”çš„å°±æœ‰å‡ºå£ã€‚é¡¾åæ€ä¹‰ï¼Œå‡ºå£å°±æ˜¯webpackæ‰“åŒ…å®Œæˆçš„è¾“å‡ºï¼Œoutputå®šä¹‰äº†è¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶åç§°ã€‚Webpackçš„é»˜è®¤çš„è¾“å‡ºè·¯å¾„ä¸º <code>./dist/main.js</code>ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®outputï¼š</p>
<pre><code><code>module.exports = {
  entry: &#39;./src/index.js&#39;,
  output: {
    path: __dirname + &#39;/dist&#39;,
    filename: &#39;bundle.js&#39;
  }
};</code></pre>
<p><strong>å¤šä¸ªentryçš„æƒ…å†µ</strong></p>
<p>å½“æœ‰å¤šä¸ªentryçš„æ—¶å€™ï¼Œä¸€ä¸ªentryåº”è¯¥å¯¹åº”ä¸€ä¸ªoutputï¼Œæ­¤æ—¶è¾“å‡ºçš„æ–‡ä»¶åéœ€è¦ä½¿ç”¨<a href="https://webpack.js.org/configuration/output#outputfilename">æ›¿æ¢ç¬¦ï¼ˆsubstitutionsï¼‰</a>å£°æ˜ä»¥ç¡®ä¿æ–‡ä»¶åçš„å”¯ä¸€æ€§ï¼Œä¾‹å¦‚ä½¿ç”¨å…¥å£æ¨¡å—çš„åç§°ï¼š</p>
<pre><code><code>module.exports = {
  entry: {
    app: &#39;./src/app.js&#39;,
    search: &#39;./src/search.js&#39;
  },
  output: {
    filename: &#39;[name].js&#39;,
    path: __dirname + &#39;/dist&#39;
  }
}</code></pre>
<p>æœ€ç»ˆåœ¨ <code>./dist</code> è·¯å¾„ä¸‹é¢ä¼šç”Ÿæˆ <code>app.js</code>å’Œ<code>search.js</code>ä¸¤ä¸ªbundleæ–‡ä»¶ã€‚</p>
<h4 id="loader">Loader</h4>
<p>Webpackè‡ªèº«åªæ”¯æŒåŠ è½½jså’Œjsonæ¨¡å—ï¼Œè€Œwebpackçš„ç†å¿µæ˜¯è®©æ‰€æœ‰çš„æ–‡ä»¶éƒ½èƒ½è¢«å¼•ç”¨å’ŒåŠ è½½å¹¶ç”Ÿæˆä¾èµ–å…³ç³»å›¾ï¼Œæ‰€ä»¥loaderå‡ºåœºäº†ã€‚Loaderèƒ½è®©webpackèƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ã€å­—ä½“æ–‡ä»¶ã€xmlï¼‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è¿™æ ·å®šä¹‰ä¸€ä¸ªloaderï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code><code>module.exports = {
  module: {
    rules: [
      { 
        test: /\.txt$/, 
        use: &#39;raw-loader&#39; 
      }
    ]
  }
};</code></pre>
<p>å…¶ä¸­<code>test</code>å®šä¹‰äº†éœ€è¦è¢«è½¬åŒ–çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç±»å‹ï¼Œ<code>use</code>å®šä¹‰äº†å¯¹è¯¥æ–‡ä»¶è¿›è¡Œè½¬åŒ–çš„loaderçš„ç±»å‹ã€‚è¯¥æ¡é…ç½®ç›¸å½“äºå‘Šè¯‰webpackå½“é‡åˆ°ä¸€ä¸ªtxtæ–‡ä»¶çš„å¼•ç”¨æ—¶ï¼ˆä½¿ç”¨requireæˆ–è€…importè¿›è¡Œå¼•ç”¨ï¼‰ï¼Œå…ˆç”¨<code>raw-loader</code>è½¬æ¢ä¸€ä¸‹è¯¥æ–‡ä»¶å†æŠŠå®ƒæ‰“åŒ…è¿›bundleã€‚</p>
<p>è¿˜æœ‰å…¶ä»–å„ç§ç±»å‹çš„loaderï¼Œæ¯”å¦‚åŠ è½½cssæ–‡ä»¶çš„<code>css-loader</code>ï¼ŒåŠ è½½å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶çš„<code>file-loader</code>ï¼ŒåŠ è½½htmlæ–‡ä»¶çš„<code>html-loader</code>ï¼Œå°†æœ€æ–°JSè¯­æ³•è½¬æ¢æˆES5çš„<code>babel-loader</code>ç­‰ç­‰ã€‚å®Œæ•´åˆ—è¡¨è¯·å‚è€ƒ <a href="https://webpack.js.org/loaders">webpack loaders</a>ã€‚</p>
<h4 id="pluginæ’ä»¶">Pluginï¼ˆæ’ä»¶ï¼‰</h4>
<p>Pluginå’Œloaderæ˜¯ä¸¤ä¸ªæ¯”è¾ƒæ··æ·†å’Œæ¨¡ç³Šçš„æ¦‚å¿µã€‚Loaderæ˜¯ç”¨æ¥è½¬æ¢å’ŒåŠ è½½ç‰¹å®šç±»å‹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥loaderçš„æ‰§è¡Œå±‚é¢æ˜¯å•ä¸ªçš„æºæ–‡ä»¶ã€‚è€Œpluginå¯ä»¥å®ç°çš„åŠŸèƒ½æ›´å¼ºå¤§ï¼Œpluginå¯ä»¥ç›‘å¬webpackå¤„ç†è¿‡ç¨‹ä¸­çš„å…³é”®äº‹ä»¶ï¼Œæ·±åº¦é›†æˆè¿›webpackçš„ç¼–è¯‘å™¨ï¼Œå¯ä»¥è¯´pluginçš„æ‰§è¡Œå±‚é¢æ˜¯æ•´ä¸ªæ„å»ºè¿‡ç¨‹ã€‚Pluginç³»ç»Ÿæ˜¯æ„æˆwebpackçš„ä¸»å¹²ï¼Œwebpackè‡ªèº«ä¹ŸåŸºäºpluginç³»ç»Ÿæ­å»ºï¼Œwebpackæœ‰ä¸°å¯Œçš„å†…ç½®æ’ä»¶å’Œå¤–éƒ¨æ’ä»¶ï¼Œå¹¶ä¸”å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶ã€‚å®˜æ–¹åˆ—å‡ºçš„æ’ä»¶æœ‰ <a href="https://webpack.js.org/plugins/closure-webpack-plugin">è¿™äº›</a>ã€‚</p>
<p>ä¸loaderä¸åŒï¼Œä½¿ç”¨pluginæˆ‘ä»¬å¿…é¡»å…ˆå¼•ç”¨è¯¥æ’ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code><code>const webpack = require(&#39;webpack&#39;); // ç”¨äºå¼•ç”¨webpackå†…ç½®æ’ä»¶
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); // å¤–éƒ¨æ’ä»¶

module.exports = {
  plugins: [
    new webpack.HotModuleReplacementPlugin(),
    new HtmlWebpackPlugin({template: &#39;./src/index.html&#39;})
  ]
};</code></pre>
<p>æ¨èå¤§å®¶ä½¿ç”¨<a href="https://www.fundebug.com/?utm_source=MudOnTire">Fundebug</a>ï¼Œä¸€æ¬¾å¾ˆå¥½ç”¨çš„BUGç›‘æ§å·¥å…·~</p>
<h3 id="å®è·µ">å®è·µ</h3>
<p>äº†è§£webpackçš„åŸºæœ¬æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬é€šè¿‡å®è·µæ¥åŠ æ·±ç†è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨webpackæ­å»ºä¸€ä¸ªç®€æ˜“çš„reactè„šæ‰‹æ¶ã€‚</p>
<h4 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®</h4>
<p>é¦–å…ˆåˆ›å»º<code>react-webpack-starter</code>é¡¹ç›®å¹¶ä½¿ç”¨ <code>npm init</code> åˆå§‹åŒ–ã€‚</p>
<h4 id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</h4>
<p><strong>å®‰è£…react</strong></p>
<pre class="bash"><code>npm i react react-dom</code></pre>
<p><strong>å®‰è£…webpackç›¸å…³</strong></p>
<pre class="bash"><code>npm i -D webpack webpack-cli webpack-dev-server html-webpack-plugin style-loader css-loader</code></pre>
<p>å®‰è£…<code>webpack-cli</code>åå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œwebpackå‘½ä»¤ï¼›<code>webpack-dev-server</code>æä¾›äº†ç®€æ˜“çš„webæœåŠ¡å™¨ï¼Œå¹¶ä¸”åœ¨ä¿®æ”¹æ–‡ä»¶ä¹‹åè‡ªåŠ¨æ‰§è¡Œwebpackçš„ç¼–è¯‘æ“ä½œå¹¶è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼Œçœå»äº†é‡å¤çš„æ‰‹åŠ¨æ“ä½œï¼›<code>html-webpack-plugin</code>ç”¨äºè‡ªåŠ¨ç”Ÿæˆ<code>index.html</code>æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨<code>index.html</code>ä¸­è‡ªåŠ¨æ·»åŠ å¯¹bundleæ–‡ä»¶çš„å¼•ç”¨ï¼›<code>style-loader</code>å’Œ<code>css-loader</code>ç”¨äºåŠ è½½cssæ–‡ä»¶ã€‚</p>
<h4 id="å®‰è£…babelç›¸å…³">å®‰è£…babelç›¸å…³</h4>
<p>ç”±äºreactä¸­ä½¿ç”¨äº†<code>class</code>, <code>import</code>è¿™æ ·çš„es6çš„è¯­æ³•ï¼Œä¸ºäº†æé«˜ç½‘ç«™çš„æµè§ˆå™¨å…¼å®¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦ç”¨babelè½¬æ¢ä¸€ä¸‹ã€‚</p>
<pre class="bash"><code>npm i -D @babel/core @babel/preset-env @babel/preset-react babel-loader</code></pre>
<p>å…¶ä¸­<code>@babel/core</code>æ˜¯babelçš„æ ¸å¿ƒæ¨¡å—ï¼ŒåŒ…å«äº†babelçš„æ ¸å¿ƒåŠŸèƒ½ï¼›<code>@babel/preset-env</code>æ”¯æŒè½¬æ¢ES6ä»¥åŠæ›´æ–°çš„jsè¯­æ³•ï¼Œå¹¶ä¸”å¯æ ¹æ®éœ€è¦å…¼å®¹çš„æµè§ˆå™¨ç±»å‹é€‰æ‹©åŠ è½½çš„pluginä»è€Œç²¾ç®€ç”Ÿæˆçš„ä»£ç ï¼›<code>@babel/preset-react</code>åŒ…å«äº†babelè½¬æ¢reactæ‰€éœ€è¦çš„pluginï¼›<code>babel-loader</code>æ˜¯webpackçš„babelåŠ è½½å™¨ã€‚</p>
<h4 id="é…ç½®webpack">é…ç½®webpack</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢æ–°å»º<code>webpack.config.js</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code><code>const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = {
  entry: &#39;./src/index.js&#39;,
  output: {
    path: path.resolve(__dirname, &#39;dist&#39;),
    filename: &#39;bundle.js&#39;
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_module/,
        use: &#39;babel-loader&#39;
      },
      {
        test: /\.css$/,
        use: [&#39;style-loader&#39;, &#39;css-loader&#39;] // æ³¨æ„æ’åˆ—é¡ºåºï¼Œæ‰§è¡Œé¡ºåºä¸æ’åˆ—é¡ºåºç›¸å
      }
    ]
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: &#39;./src/index.html&#39;
    })
  ]
}</code></pre>
<p>å…¶ä¸­<code>HtmlWebpackPlugin</code>ä½¿ç”¨è‡ªå®šä¹‰çš„æ¨¡ç‰ˆæ¥ç”Ÿæˆhtml æ–‡ä»¶ï¼Œæ¨¡ç‰ˆçš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><strong>./src/index.html</strong></p>
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;My React App&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h4 id="é…ç½®babel">é…ç½®babel</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢æ–°å»º<code>.babelrc</code>æ–‡ä»¶ï¼Œé…ç½®æˆ‘ä»¬å®‰è£…çš„ä¸¤ä¸ªbabel presetï¼š</p>
<p><strong>.babelrc</strong></p>
<pre><code><code>{
  &quot;presets&quot;: [
    &quot;@babel/preset-env&quot;,
    &quot;@babel/preset-react&quot;
  ]
}</code></pre>
<h4 id="ç”Ÿæˆreactåº”ç”¨æ ¹èŠ‚ç‚¹">ç”Ÿæˆreactåº”ç”¨æ ¹èŠ‚ç‚¹</h4>
<p><strong>./src/index</strong></p>
<pre><code><code>import React from &#39;react&#39;;
import ReactDOM from &#39;react-dom&#39;;
import App from &#39;./components/App&#39;;

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#39;app&#39;));</code></pre>
<p><strong>./src/component/App.js</strong></p>
<pre><code><code>import React, { Component } from &#39;react&#39;;
import &#39;./App.css&#39;;

export default class App extends Component {
  render() {
    return (
      &lt;div&gt;
        my react webpack starter
      &lt;/div&gt;
    )
  }
}</code></pre>
<p><strong>./src/components/App.css</strong></p>
<pre><code><code>body{
  font-size: 60px;
  font-weight: bolder;
  color: red;
  text-transform: uppercase;
}
</code></pre>
<h4 id="é…ç½®-package.json">é…ç½® <code>package.json</code></h4>
<p>æœ€åï¼Œåœ¨<code>package.json</code>æ–‡ä»¶é‡Œé¢åŠ ä¸Šä¸¤ä¸ªscriptsï¼Œç”¨æ¥è¿è¡Œå¼€å‘æœåŠ¡å™¨å’Œæ‰“åŒ…ï¼š</p>
<p><strong>package.json</strong></p>
<pre><code><code>&quot;scripts&quot;: {
  &quot;start&quot;: &quot;webpack-dev-server --mode development --open --hot&quot;,
  &quot;build&quot;: &quot;webpack --mode production&quot;
}</code></pre>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬å¯ç”¨äº†<code>webpack-dev-server</code>çš„æ¨¡å—çƒ­æ›´æ–°åŠŸèƒ½ï¼ˆ<a href="https://webpack.js.org/concepts/hot-module-replacement/">HMR</a>ï¼‰ï¼Œè¿›ä¸€æ­¥æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚</p>
<p>åˆ°æ­¤ä¸€ä¸ªæœ€ç®€ç‰ˆæœ¬çš„reactè„šæ‰‹æ¶å°±æ­å»ºå®Œæˆäº†ï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸‹çœ‹çœ‹æ•ˆæœï¼š</p>
<p><img src="./images/è¿˜å­¦ä¸ä¼šwebpackï¼Ÿçœ‹è¿™ç¯‡ï¼1.png" /></p>
<p>æ˜¯ä¸æ˜¯æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆéš¾å‘¢ï¼Ÿå½“ç„¶webpackè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„åŠŸèƒ½å’Œç‰¹æ€§éœ€è¦æŒæ¡ï¼Œå¸Œæœ›åœ¨å‚è€ƒæœ¬æ–‡ä¹‹åå¤§å®¶è¿›ä¸€æ­¥çš„å­¦ä¹ æ›´åŠ é¡ºåˆ© ğŸ˜Šã€‚</p>
<p>æœ¬æ–‡demoåœ°å€ï¼š<a href="https://github.com/MudOnTire/webpack-tutorial">https://github.com/MudOnTire/...</a></p>
<blockquote>
<p>æœ€åï¼Œæ¨èå¤§å®¶ä½¿ç”¨<a href="https://www.fundebug.com/?utm_source=MudOnTire">Fundebug</a>ï¼Œä¸€æ¬¾å¾ˆå¥½ç”¨çš„BUGç›‘æ§å·¥å…·~</p>
</blockquote>
<h3 id="å…³äºfundebug">å…³äºFundebug</h3>
<p><a href="https://www.fundebug.com/">Fundebug</a>ä¸“æ³¨äºJavaScriptã€å¾®ä¿¡å°ç¨‹åºã€å¾®ä¿¡å°æ¸¸æˆã€æ”¯ä»˜å®å°ç¨‹åºã€React Nativeã€Node.jså’ŒJavaçº¿ä¸Šåº”ç”¨å®æ—¶BUGç›‘æ§ã€‚ è‡ªä»2016å¹´åŒåä¸€æ­£å¼ä¸Šçº¿ï¼ŒFundebugç´¯è®¡å¤„ç†äº†10äº¿+é”™è¯¯äº‹ä»¶ï¼Œä»˜è´¹å®¢æˆ·æœ‰é˜³å…‰ä¿é™©ã€æ ¸æ¡ƒç¼–ç¨‹ã€è”æFMã€æŒé—¨1å¯¹1ã€å¾®è„‰ã€é’å›¢ç¤¾ç­‰ä¼—å¤šå“ç‰Œä¼ä¸šã€‚æ¬¢è¿å¤§å®¶<a href="https://www.fundebug.com/team/create">å…è´¹è¯•ç”¨</a>ï¼</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>