<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程</center></div><div class='banquan'>原文出处:本文由博客园博主九天飞翼提供。<br/>
原文连接:https://www.cnblogs.com/langda/p/11219541.html</div><br>
    <p><span>本文是对函数式编程范式的系列文章从而拉开了与以下延续</span>一个<span>。</span></p>
<p><img title="用于JavaScript中的函数编程的图1" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程0.png" alt="用于JavaScript中的函数编程的图1" width="240px" height="236px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程0.png" /></p>
<h2><span>介绍</span></h2>
<p><span><span>在JavaScript中，函数只是对象。</span><span>因此，可以构造函数，作为参数传递，从函数返回或分配给变量。</span><span>因此，JavaScript具有</span></span><span style="color: #000000;">一流的功能</span><span><span>。</span><span>更准确地说，JavaScript支持以下内容：</span></span></p>
<ul>
<li><span>高阶函数参数</span></li>
<li><span>产生高阶函数</span></li>
<li><span>嵌套函数</span></li>
<li><span>匿名功能</span></li>
<li><span>关闭</span></li>
<li><span>部分申请（</span>ECMAScript 5<span>）</span></li>
</ul>
<h2><span>通过函数表示数据</span></h2>
<p><span>我们</span><code>S</code><span>是任何元素的集合</span><code>a</code><span>，</span><code>b</code><span>，</span><code>c</code><span>...（例如，桌子上的书本或欧几里得平面的点），并让</span><code>S'</code><span>是这些元素的任意子集（例如，桌子上的书本绿色或点半径1的圆心以欧几里德平面的原点为中心）。</span></p>
<p><span>所述</span>特征函数&nbsp;<code>S'(x)</code><span>的一组</span><code>S'</code><span>是其中任一相关联的功能</span><code>true</code><span>或</span><code>false</code><span>与每个元件</span><code>x</code><span>的</span><code>S</code><span>。</span></p>
<pre><code>S'(x) = true if x is in S'
S'(x) = false if x is not in S'</pre>
<p><span>让我们</span><code>S</code><span>成为桌子上的一套书，让我们</span><code>S'</code><span><span>成为</span><span>桌上</span><span>的绿色书籍。</span><span>设</span></span><code>a</code><span>和</span><code>b</code><span>是两个绿色的书，让</span><code>c</code><span>和</span><code>d</code><span><span>是在表中的两个红本本。</span><span>然后：</span></span></p>
<pre><code>S'(a) = S'(b) = true
S'(c) = S'(d) = false</pre>
<p><span>让</span><code>S</code><span>是集的欧几里德平面中的点，并且让</span><code>S'</code><span>在半径为1的在欧几里得平面（0,0）的原点为中心的圆的组的点的</span><em>（单位圆）</em><span><span>。</span><span>让</span></span><code>a</code><span>和</span><code>b</code><span>在单位圆的两点，并让</span><code>c</code><span>并且</span><code>d</code><span><span>是在欧几里得平面的原点为中心的半径2的圆的两点。</span><span>然后：</span></span></p>
<pre><code>S'(a) = S'(b) = true
S'(c) = S'(d) = false</pre>
<p><span>因此，任何集合</span><code>S'</code><span>总是可以由其</span><em>特征函数</em><span><span>表示</span><span>。</span><span>一个函数，它将一个元素作为参数，</span></span><code>true</code><span>如果该元素在</span><code>S'</code><span>，</span><code>false</code><span><span>则</span><span>返回</span><span>，</span><span>否则</span><span>返回</span><span>。</span><span>换句话说，可以通过JavaScript中的函数表示集合（抽象数据类型）。</span></span></p>
<pre><code><span class="code-keyword">function set() { } </span></pre>
<p><span><span>在接下来的部分中，我们将看到如何通过JavaScript以函数方式表示集合代数中的一些基本集合，然后我们将在集合上定义泛型二进制运算。</span><span>然后，我们将在欧几里德平面的子集上对数字应用这些操作。</span><span>集合是抽象数据结构，数字的子集和欧几里得平面的子集是抽象数据结构的表示，最后二元操作是适用于抽象数据结构的任何表示的通用逻辑。</span></span></p>
<h2><span>JavaScript环境</span></h2>
<p><span><span>要运行<span style="color: #000000;"><a href="http://www.codesocang.com/" target="_blank" data-cke-saved-href="http://www.codesocang.com"><span style="color: #000000;">网站源码</span></a></span>，您需要一个JavaScript引擎。</span><span>有很多</span></span>JavaScript引擎<span><span>可用。</span><span>在本节中，我将逐步介绍如何使用Ubuntu 16.04中的V8 JavaScript引擎来设置JavaScript环境。</span><span>V8是一个用C ++编写的开源JavaScript引擎，用于谷歌Chrome，Node.js和</span></span>V8.NET<span><span>。</span><span>设置也可以在Windows和macOS上完成。</span></span></p>
<ol>
<li><span>获取V8源代码并编译它：</span>
<p><span>我通过在终端中运行以下命令，在Ubuntu 16.04上成功安装并执行了d8。</span></p>
<pre><code>sudo apt-get install git
mkdir ~/js 
cd ~/js
git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git depot_tools
export PATH=~/js/depot_tools:"$PATH"
fetch v8
cd v8
make native
~/js/v8/out/native/d8</pre>
<p><span><span>从git存储库下载V8<span style="color: #000000;"><a href="http://www.codesocang.com/" data-cke-saved-href="http://www.codesocang.com"><span style="color: #000000;">源代码</span></a></span>需要一些时间，具体取决于Internet连接速度。</span><span>编译V8源代码也需要一些时间，具体取决于硬件配置，但在等待必要的时间后，一切正常。</span></span></p>
</li>
<li><span>我们可以编写第一个JavaScript代码：</span>
<p><img title="用于JavaScript中的函数编程的图像2" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程1.png" alt="用于JavaScript中的函数编程的图像2" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程1.png" /></p>
<p><span>要在控制台中加载JavaScript文件，可以按如下方式执行：</span></p>
<pre><code>load(<span class="code-string">'<span class="code-string">set.numbers.demo.js')</span></span></pre>
</li>
</ol>
<h2><span>集</span></h2>
<p><span>本节通过JavaScript介绍集合代数中一些基本集的表示。</span></p>
<h3><span>空集</span></h3>
<p><img title="用于JavaScript中的函数编程的图3" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程2.png" alt="用于JavaScript中的函数编程的图3" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程2.png" /></p>
<p><span>让</span><code>E</code><span>是空集和</span><code>Empty</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在集合的代数中，</span></span><code>E</code><span><span>是没有元素的唯一集合。</span><span>因此，</span></span><code>Empty</code><span>可以定义如下：</span></p>
<pre><code>Empty(x) = false if x is in E
Empty(x) = false if x is not in E</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>empty = <span class="code-keyword">function() {<span class="code-keyword">return <span class="code-keyword">function(){<span class="code-keyword">return <span class="code-keyword">false}}</span></span></span></span></span></pre>
<p><span>在集合的代数中，</span><code>Empty</code><span>表示如下：</span></p>
<p><img title="用于JavaScript中的函数编程的图4" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程3.png" alt="用于JavaScript中的函数编程的图4" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程3.png" /></p>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nEmpty set:')
print(<span class="code-string">'<span class="code-string">Is 7 in {}? ' + empty()(<span class="code-digit">7))</span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="用于JavaScript中的函数编程的图5" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程4.png" alt="用于JavaScript中的函数编程的图5" width="501px" height="43px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程4.png" /></p>
<h3><span>全部设定</span></h3>
<p><img title="用于JavaScript中的函数编程的图6" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程5.png" alt="用于JavaScript中的函数编程的图6" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程5.png" /></p>
<p><span>我们</span><code>S</code><span>是一组和</span><code>S'</code><span>是的子集</span><code>S</code><span>，它包含所有要素，</span><code>All</code><span>其</span><em>特色功能</em><span><span>。</span><span>在集合的代数中，</span></span><code>S'</code><span><span>是包含所有元素的完整集合。</span><span>因此，</span></span><code>All</code><span>可以这样定义：</span></p>
<pre><code>All(x) = true if x is in S</pre>
<p><span>因此，</span><code>S'</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>all = <span class="code-keyword">function() {<span class="code-keyword">return <span class="code-keyword">function(){<span class="code-keyword">return <span class="code-keyword">true}}</span></span></span></span></span></pre>
<p><span>在集合的代数中，</span><code>All</code><span>表示如下：</span></p>
<p><img title="图7用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程6.png" alt="图7用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程6.png" /></p>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nSet All:')
print(<span class="code-string">'<span class="code-string">Is 7 in integers set? ' + all()(<span class="code-digit">7))</span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="用于JavaScript中的函数编程的图8" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程7.png" alt="用于JavaScript中的函数编程的图8" width="501px" height="44px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程7.png" /></p>
<h3><span>单身套装</span></h3>
<p><span>我们</span><code>E</code><span>是辛格尔顿集和</span><code>Singleton</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在集合的代数中，</span></span><code>E</code><span>也称为单位集合，或者1元组是具有恰好一个元素的集合</span><code>e</code><span><span>。</span><span>因此，</span></span><code>Singleton</code><span>可以定义如下：</span></p>
<pre><code>Singleton(x) = true if x is e
Singleton(x) = false if x is not e</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>singleton = <span class="code-keyword">function(x) {<span class="code-keyword">return <span class="code-keyword">function(y){<span class="code-keyword">return x === y}}</span></span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nSingleton set:')
print(<span class="code-string">'<span class="code-string">Is 7 in the singleton set {0}? ' + singleton(<span class="code-digit">0)(<span class="code-digit">7))
print(<span class="code-string">'<span class="code-string">Is 7 in the singleton set {7}? ' + singleton(<span class="code-digit">7)(<span class="code-digit">7))</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图9用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程8.png" alt="图9用于JavaScript中的函数编程" width="501px" height="64px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程8.png" /></p>
<h3><span>其他套装</span></h3>
<p><span>本节介绍整数集的子集。</span></p>
<h4><span>偶数</span></h4>
<p><span>我们</span><code>E</code><span>是一组连号，并且</span><code>Even</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在数学中，偶数是一个2的倍数。</span><span>因此，</span></span><code>Even</code><span>可以定义如下：</span></p>
<pre><code>Even(x) = true if x is a multiple of 2
Even(x) = false if x is not a multiple of 2</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>even = <span class="code-keyword">function(x){<span class="code-keyword">return x%2 === <span class="code-digit">0}</span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nEven numbers set:')
print(<span class="code-string">'<span class="code-string">Is 99 in even numbers set? ' + even(<span class="code-digit">99))
print(<span class="code-string">'<span class="code-string">Is 998 in even numbers set? ' + even(<span class="code-digit">998))</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="用于JavaScript中的函数编程的图10" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程9.png" alt="用于JavaScript中的函数编程的图10" width="501px" height="67px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程9.png" /></p>
<h4><span>奇数</span></h4>
<p><span>我们</span><code>E</code><span>是一组奇数的和</span><code>Odd</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在数学中，奇数是一个不是2的倍数的数字。</span><span>因此，</span></span><code>Odd</code><span>可以定义如下：</span></p>
<pre><code>Odd(x) = true if x is not a multiple of 2
Odd(x) = false if x is a multiple of 2</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>odd = <span class="code-keyword">function(x){<span class="code-keyword">return x%2 === <span class="code-digit">1}</span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nOdd numbers set:')
print(<span class="code-string">'<span class="code-string">Is 99 in odd numbers set? ' + odd(<span class="code-digit">99))
print(<span class="code-string">'<span class="code-string">Is 998 in odd numbers set? ' + odd(<span class="code-digit">998))</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图11用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程10.png" alt="图11用于JavaScript中的函数编程" width="501px" height="65px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程10.png" /></p>
<h4><span>倍数为3</span></h4>
<p><span>我们</span><code>E</code><span>是一组3的倍数和</span><code>MultipleOfThree</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在数学中，3的倍数是可被3整除的数。因此，</span></span><code>MultipleOfThree</code><span>可以定义如下：</span></p>
<pre><code>MultipleOfThree(x) = true if x is divisible by 3
MultipleOfThree(x) = false if x is not divisible by 3</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>multipleOfThree = <span class="code-keyword">function(x){<span class="code-keyword">return x%3 === <span class="code-digit">0}</span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nMultiples of 3 set:')
print(<span class="code-string">'<span class="code-string">Is 99 in multiples of 3 set? ' + multipleOfThree(<span class="code-digit">99))
print(<span class="code-string">'<span class="code-string">Is 998 in multiples of 3 set? ' + multipleOfThree(<span class="code-digit">998))</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="用于JavaScript中的函数编程的图12" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程11.png" alt="用于JavaScript中的函数编程的图12" width="451px" height="65px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程11.png" /></p>
<h4><span>倍数为5</span></h4>
<p><span>我们</span><code>E</code><span>是集合5的倍数和</span><code>MultipleOfFive</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在数学中，5的倍数是可被5整除的数。因此，</span></span><code>MultipleOfFive</code><span>可以定义如下：</span></p>
<pre><code>MultipleOfFive(x) = true if x is divisible by 5
MultipleOfFive(x) = false if x is not divisible by 5</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>multipleOfFive = <span class="code-keyword">function(x){<span class="code-keyword">return x%5 === <span class="code-digit">0}</span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nMultiples of 5 set:')
print(<span class="code-string">'<span class="code-string">Is 15 in multiples of 5 set? ' + multipleOfFive(<span class="code-digit">15))
print(<span class="code-string">'<span class="code-string">Is 998 in multiples of 5 set? ' + multipleOfFive(<span class="code-digit">998))</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="用于JavaScript中的函数编程的图13" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程12.png" alt="用于JavaScript中的函数编程的图13" width="501px" height="64px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程12.png" /></p>
<h4><span>质数</span></h4>
<p><span>很久以前，当我玩</span>Project Euler<span>问题时，我不得不解决以下问题：</span></p>
<pre><code>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13, 
we can see that the 6th prime is 13.
What is the 10 001st prime number?</pre>
<p><span><span>为了解决这个问题，我首先必须编写一个快速算法来检查给定的数字是否为素数。</span><span>编写算法后，我编写了一个迭代算法，迭代遍历素数，直到</span><span>找到</span><span>10 001&nbsp;</span></span><sup><span><span>st</span></span></sup><span>素数。</span></p>
<p><span>我们</span><code>E</code><span>是集合素数的和</span><code>Prime</code><span>它的</span><em>特色功能</em><span><span>。</span><span>在数学中，素数是大于1的自然数，除了1和自身之外没有正除数。</span><span>因此，</span></span><code>Prime</code><span>可以定义如下：</span></p>
<pre><code>Prime(x) = true if x is prime
Prime(x) = false if x is not prime</pre>
<p><span>因此，</span><code>E</code><span><span>JavaScript中</span><span>的表示</span><span>可以定义如下：</span></span></p>
<pre><code>prime = <span class="code-keyword">function(x){
 <span class="code-keyword">if(x===<span class="code-digit">1) <span class="code-keyword">return <span class="code-keyword">false
 <span class="code-keyword">if(x&lt;4) <span class="code-keyword">return <span class="code-keyword">true
 <span class="code-keyword">if(x%2===<span class="code-digit">0) <span class="code-keyword">return <span class="code-keyword">false
 <span class="code-keyword">if(x&lt;9) <span class="code-keyword">return <span class="code-keyword">true
 <span class="code-keyword">if(x%3===<span class="code-digit">0) <span class="code-keyword">return <span class="code-keyword">false
 <span class="code-keyword">var sqrt = <span class="code-sdkkeyword">Math.sqrt(x)
 <span class="code-keyword">for(<span class="code-keyword">var i = <span class="code-digit">5; i &lt;= sqrt; i+=<span class="code-digit">6){
  <span class="code-keyword">if(x%i===<span class="code-digit">0) <span class="code-keyword">return <span class="code-keyword">false
  <span class="code-keyword">if(x%(i+2)===<span class="code-digit">0) <span class="code-keyword">return <span class="code-keyword">false
 }
 <span class="code-keyword">return <span class="code-keyword">true
}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>因此，运行下面的代码来解决我们的问题：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nPrimes set:')
print(<span class="code-string">'<span class="code-string">Is 2 in primes set? ' + prime(<span class="code-digit">2))
print(<span class="code-string">'<span class="code-string">Is 4 in primes set? ' + prime(<span class="code-digit">4))
print(<span class="code-string">'<span class="code-string">The 10 001st prime number is ' + getPrime(<span class="code-digit">10001))</span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>其中</span><code>getPrime</code><span>定义如下：</span></p>
<pre><code>getPrime = <span class="code-keyword">function(p){
 <span class="code-keyword">var count = <span class="code-digit">0;
 <span class="code-keyword">for(<span class="code-keyword">var i = <span class="code-digit">1; ; i++){
   <span class="code-keyword">if(prime(i)) count++
   <span class="code-keyword">if(count === p){
     <span class="code-keyword">return i
     <span class="code-keyword">break
   }
 }
}</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图14用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程13.png" alt="图14用于JavaScript中的函数编程" width="501px" height="83px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程13.png" /></p>
<h3><span>二元操作</span></h3>
<p><span><span>本节介绍了从给定集合和操作集合构造新集合的几个基本操作。</span><span>下面是</span><span>集合代数中</span><span>的</span></span>维恩图<span>。</span></p>
<h4><img title="用于JavaScript中的函数编程的图15" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程14.png" alt="用于JavaScript中的函数编程的图15" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程14.png" /></h4>
<h3><span>联盟</span></h3>
<p><img title="用于JavaScript中的函数编程的图16" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程15.png" alt="用于JavaScript中的函数编程的图16" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程15.png" /></p>
<p><span>让我们</span><code>E</code><span>和</span><code>F</code><span><span>两套。</span><span>该</span></span><em>联合</em><span>的</span><code>E</code><span>和</span><code>F</code><span>，记为</span><code>E U F</code><span>是一组其是成员的所有元素</span><code>E</code><span>或</span><code>F</code><span>。</span></p>
<p><span>让我们</span><code>Union</code><span>结合</span><em>工会</em><span><span>。</span><span>因此，</span></span><code>Union</code><span>可以在JavaScript中按如下方式实现操作：</span></p>
<pre><code>union = <span class="code-keyword">function(e, f){<span class="code-keyword">return <span class="code-keyword">function(x){ <span class="code-keyword">return e(x) || f(x)}}</span></span></span></span></pre>
<p><span>运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nUnion:')
print(<span class="code-string">'<span class="code-string">Is 7 in the union of Even and Odd Integers Set? ' + union(even,odd)(<span class="code-digit">7))</span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图17用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程16.png" alt="图17用于JavaScript中的函数编程" width="501px" height="58px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程16.png" /></p>
<h3><span>路口</span></h3>
<p><img title="图18用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程17.png" alt="图18用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程17.png" /></p>
<p><span>让我们</span><code>E</code><span>和</span><code>F</code><span><span>两套。</span><span>的</span></span><em>交叉点</em><span>的</span><code>E</code><span>和</span><code>F</code><span>，记为</span><code>E n F</code><span>是一组这两者都是成员的所有元素的</span><code>E</code><span>和</span><code>F</code><span>。</span></p>
<p><span>让我们</span><code>Intersection</code><span>进行</span><em>交叉</em><span><span>操作。</span><span>因此，</span></span><code>Intersection</code><span>可以在JavaScript中按如下方式实现操作：</span></p>
<pre><code>intersection = <span class="code-keyword">function(e, f){<span class="code-keyword">return <span class="code-keyword">function(x){ <span class="code-keyword">return e(x) &amp;&amp; f(x)}}</span></span></span></span></pre>
<p><span>运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nIntersection:')
multiplesOfThreeAndFive = intersection(multipleOfThree, multipleOfFive)
print(<span class="code-string">'<span class="code-string">Is 15 a multiple of 3 and 5? ' + multiplesOfThreeAndFive(<span class="code-digit">15))
print(<span class="code-string">'<span class="code-string">Is 10 a multiple of 3 and 5? ' + multiplesOfThreeAndFive(<span class="code-digit">10))</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图19用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程18.png" alt="图19用于JavaScript中的函数编程" width="500px" height="66px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程18.png" /></p>
<h3><span>笛卡尔积</span></h3>
<p><img title="用于JavaScript中的函数编程的图20" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程19.png" alt="用于JavaScript中的函数编程的图20" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程19.png" /></p>
<p><span>让我们</span><code>E</code><span>和</span><code>F</code><span><span>两套。</span><span>的</span></span><em>笛卡儿积</em><span>的</span><code>E</code><span>和</span><code>F</code><span>，由表示</span><code>E &times; F</code><span>是该组所有有序对</span><code>(e, f)</code><span>，使得</span><code>e</code><span>是其成员</span><code>E</code><span>和</span><code>f</code><span>是其成员</span><code>F</code><span>。</span></p>
<p><span>让我们</span><code>CartesianProduct</code><span>进行</span><em>笛卡尔积</em><span><span>运算。</span><span>因此，</span></span><code>CartesianProduct</code><span>可以在JavaScript中按如下方式实现操作：</span></p>
<pre><code>cartesianProduct = <span class="code-keyword">function(e, f){<span class="code-keyword">return <span class="code-keyword">function(x, y){ <span class="code-keyword">return e(x) &amp;&amp; f(y)}}</span></span></span></span></pre>
<p><span>运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nCartesian Product:')
cp = cartesianProduct(multipleOfThree,multipleOfFive)
print(<span class="code-string">'<span class="code-string">Is (9, 15) in MultipleOfThree x MultipleOfFive? ' + cp(<span class="code-digit">9, <span class="code-digit">15))</span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图21用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程20.png" alt="图21用于JavaScript中的函数编程" width="501px" height="53px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程20.png" /></p>
<h3><span>补语</span></h3>
<p><img title="图22用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程21.png" alt="图22用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程21.png" /></p>
<p><span>让我们</span><code>E</code><span>和</span><code>F</code><span><span>两套。</span><span>的</span></span><em>相对补</em><span>的</span><code>F</code><span>中</span><code>E</code><span>，由表示</span><code>E \ F</code><span>是一组其是成员的所有元件的</span><code>E</code><span>但不是成员</span><code>F</code><span>。</span></p>
<p><span>让我们</span><code>Complement</code><span>进行</span><em>相对补充</em><span><span>操作。</span><span>因此，</span></span><code>Complement</code><span>可以在JavaScript中按如下方式实现操作：</span></p>
<pre><code>complement = <span class="code-keyword">function(e, f){<span class="code-keyword">return <span class="code-keyword">function(x){ <span class="code-keyword">return e(x) &amp;&amp; !f(x)}}</span></span></span></span></pre>
<p><span>运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nComplement:')
c = complement(multipleOfThree, multipleOfFive)
print(<span class="code-string">'<span class="code-string">Is 15 in MultipleOfThree \\ MultipleOfFive set? '+ c(<span class="code-digit">15))
print(<span class="code-string">'<span class="code-string">Is 9 in MultipleOfThree \\ MultipleOfFive set? '+ c(<span class="code-digit">9))</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图23用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程22.png" alt="图23用于JavaScript中的函数编程" width="502px" height="63px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程22.png" /></p>
<h3><span>对称差异</span></h3>
<p><img title="图24用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程23.png" alt="图24用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程23.png" /></p>
<p><span>让我们</span><code>E</code><span>和</span><code>F</code><span><span>两套。</span><span>的</span></span><em>对称差</em><span>的</span><code>E</code><span>和</span><code>F</code><span>，记为</span><code>E delta F</code><span>是一组其是的任成员的所有元素的</span><code>E</code><span>和</span><code>F</code><span>，但不是在相交</span><code>E</code><span>和</span><code>F</code><span>。</span></p>
<p><span>让我们</span><code>SymmetricDifference</code><span>进行</span><em>对称差分</em><span><span>运算。</span><span>因此，</span></span><code>SymmetricDifference</code><span><span>可以在JavaScript中以两种方式实现</span><span>该</span><span>操作。</span><span>一个简单的方法是使用union和补充操作如下：</span></span></p>
<pre><code>symmetricDifferenceWithoutXor = <span class="code-keyword">function(e, f){ <span class="code-keyword">return <span class="code-keyword">function(x)
                                { <span class="code-keyword">return union(complement(e,f), complement(f, e))(x)}}</span></span></span></span></pre>
<p><span>另一种方法是使用</span><code>XOR</code><span>二进制操作如下：</span></p>
<pre><code>symmetricDifferenceWithXor = <span class="code-keyword">function(e, f){<span class="code-keyword">return <span class="code-keyword">function(x)
                             { <span class="code-keyword">return (e(x) ^ f(x)) === <span class="code-digit">1 ? <span class="code-keyword">true : <span class="code-keyword">false}}</span></span></span></span></span></span></span></pre>
<p><span>运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nSymmetricDifference without XOR:')
sdWithoutXor = symmetricDifferenceWithoutXor(prime, even)
print(<span class="code-string">'<span class="code-string">Is 2 in the symetric difference of prime and even Sets? ' + sdWithoutXor(<span class="code-digit">2))
print(<span class="code-string">'<span class="code-string">Is 4 in the symetric difference of prime and even Sets? ' + sdWithoutXor(<span class="code-digit">4))
print(<span class="code-string">'<span class="code-string">Is 7 in the symetric difference of prime and even Sets? ' + sdWithoutXor(<span class="code-digit">7))

print(<span class="code-string">'<span class="code-string">\nSymmetricDifference with XOR:')
sdWithXor = symmetricDifferenceWithXor(prime, even)
print(<span class="code-string">'<span class="code-string">Is 2 in the symetric difference of prime and even Sets? ', sdWithXor(<span class="code-digit">2))
print(<span class="code-string">'<span class="code-string">Is 4 in the symetric difference of prime and even Sets? ', sdWithXor(<span class="code-digit">4))
print(<span class="code-string">'<span class="code-string">Is 7 in the symetric difference of prime and even Sets? ', sdWithXor(<span class="code-digit">7))</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图25用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程24.png" alt="图25用于JavaScript中的函数编程" width="558px" height="177px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程24.png" /></p>
<h3><span>其他行动</span></h3>
<p><span>本节介绍集合上其他有用的二进制操作。</span></p>
<h4><span>包含</span></h4>
<p><span>设</span><code>Contains</code><span><span>是检查元素是否在集合中的操作。</span><span>此操作是一个函数，它将元素作为参数，</span></span><code>true</code><span><span>如果元素在集合中则</span><span>返回</span><span>，</span></span><code>false</code><span>否则返回。</span></p>
<p><span>因此，此操作在JavaScript中定义如下：</span></p>
<pre><code>contains = <span class="code-keyword">function(e, x){<span class="code-keyword">return e(x)}</span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nContains:')
print(<span class="code-string">'<span class="code-string">Is 7 in the singleton {0}? ' + contains(singleton(<span class="code-digit">0), <span class="code-digit">7))
print(<span class="code-string">'<span class="code-string">Is 7 in the singleton {7}? ' + contains(singleton(<span class="code-digit">7), <span class="code-digit">7))</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图26用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程25.png" alt="图26用于JavaScript中的函数编程" width="501px" height="62px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程25.png" /></p>
<h4><span>加</span></h4>
<p><span>让我们</span><code>Add</code><span><span>将一个元素添加到集合中的操作。</span><span>此操作是一个函数，它将元素作为参数并将其添加到集合中。</span></span></p>
<p><span>因此，此操作在JavaScript中定义如下：</span></p>
<pre><code>add = <span class="code-keyword">function(e, y){<span class="code-keyword">return <span class="code-keyword">function(x){ <span class="code-keyword">return x === y || e(x)}}</span></span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nAdd:')
print(<span class="code-string">'<span class="code-string">Is 7 in {0, 7}? ' + add(singleton(<span class="code-digit">0),<span class="code-digit">7)(<span class="code-digit">7))
print(<span class="code-string">'<span class="code-string">Is 0 in {1, 0}? ' + add(singleton(<span class="code-digit">1),<span class="code-digit">0)(<span class="code-digit">0))
print(<span class="code-string">'<span class="code-string">Is 7 in {19, 0}? ' + add(singleton(<span class="code-digit">19),<span class="code-digit">0)(<span class="code-digit">7))</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图27用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程26.png" alt="图27用于JavaScript中的函数编程" width="502px" height="79px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程26.png" /></p>
<h4><span>去掉</span></h4>
<p><span>设</span><code>Remove</code><span><span>是从集合中删除元素的操作。</span><span>此操作是一个函数，它将元素作为参数并将其从集合中删除。</span></span></p>
<p><span>因此，此操作在JavaScript中定义如下：</span></p>
<pre><code>remove = <span class="code-keyword">function(e, y){<span class="code-keyword">return <span class="code-keyword">function(x){ <span class="code-keyword">return x !== y &amp;&amp; e(x)}}</span></span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>print(<span class="code-string">'<span class="code-string">\nRemove:')
print(<span class="code-string">'<span class="code-string">Is 7 in {}? ' + remove(singleton(<span class="code-digit">0), <span class="code-digit">0)(<span class="code-digit">7))
print(<span class="code-string">'<span class="code-string">Is 0 in {}? ' + remove(singleton(<span class="code-digit">7), <span class="code-digit">7)(<span class="code-digit">0))</span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图28用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程27.png" alt="图28用于JavaScript中的函数编程" width="502px" height="80px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程27.png" /></p>
<h3><span>对于那些想要更进一步的人</span></h3>
<p><span><span>您可以通过函数式编程看到我们可以轻松地在JavaScript中使用集合代数。</span><span>在前面的部分中，显示了最基本的定义。</span><span>但是，如果你想进一步，你可以考虑：</span></span></p>
<ul>
<li><span>关系集</span></li>
<li><span>抽象代数，如幺半群，群，场，环，K-矢量空间等</span></li>
<li><span>包含 - 排除原则</span></li>
<li><span>罗素的悖论</span></li>
<li><span>康托尔的悖论</span></li>
<li><span>双向量空间</span></li>
<li><span>定理和推论</span></li>
</ul>
<h2><span>欧几里得飞机</span></h2>
<p><span><span>在上一节中，集合的基本概念是在JavaScript中实现的。</span><span>在本节中，我们将练习在</span></span><em>平面点集（欧几里德平面）</em><span><span>上实现的概念</span><span>。</span></span></p>
<h3><span>绘制磁盘</span></h3>
<p><img title="图29用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程28.png" alt="图29用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程28.png" /></p>
<p><span><span>磁盘是由圆圈限定的平面的子集。</span><span>有两种类型的磁盘。</span></span><em>封闭的</em><span><span>磁盘是包含构成其边界的圆的点的</span><span>磁盘</span><span>，而</span></span><em>打开的</em><span>磁盘是不包含构成其边界的圆的点的磁盘。</span></p>
<p><span>在本节中，我们将成立</span><em>Characterstic功能</em><span>的的</span><em>封闭</em><span>盘和HTML5绘制。</span></p>
<p><span>要设置</span><em>Charactertic函数</em><span><span>，首先需要一个计算</span><span>平面中两点之间</span></span><em>欧氏距离</em><span><span>的函数</span><span>。</span><span>该功能实现如下：</span></span></p>
<pre><code><span class="code-keyword">function distance(p1, p2){
 <span class="code-keyword">return <span class="code-sdkkeyword">Math.sqrt(<span class="code-sdkkeyword">Math.pow(p1.x - p2.x, <span class="code-digit">2) + <span class="code-sdkkeyword">Math.pow(p1.y - p2.y, <span class="code-digit">2))
}</span></span></span></span></span></span></span></pre>
<p><span>其中</span><code>point</code><span>定义如下：</span></p>
<pre><code>point = <span class="code-keyword">function(x,y){
 <span class="code-keyword">this.x = x
 <span class="code-keyword">this.y = y
}</span></span></span></pre>
<p><span>这个公式是基于毕达哥拉斯定理。</span></p>
<p><img title="图30用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程29.png" alt="图30用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程29.png" /></p>
<p><span>其中</span><code>c</code><span>是</span><em>欧几里德距离</em><span>，</span><code>a&sup2;</code><span>是</span><code>(p1.X - p2.X)&sup2;</code><span>和</span><code>b&sup2;</code><span>是</span><code>(p1.Y - p2.Y)&sup2;</code><span>。</span></p>
<p><span>我们</span><code>Disk</code><span>是</span><em>特色功能</em><span><span>的封闭盘。</span><span>在集合的代数中，实数集中的闭合磁盘的定义如下：</span></span></p>
<p><img title="用于JavaScript中的函数编程的图31" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程30.png" alt="用于JavaScript中的函数编程的图31" width="338px" height="27px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程30.png" /></p>
<p><span>其中</span><code>a</code><span>和</span><code>b</code><span>是中心和</span><code>R</code><span><span>半径</span><span>的坐标</span><span>。</span></span></p>
<p><span>因此，</span><code>Disk</code><span><span>JavaScript中</span><span>的实现</span><span>如下：</span></span></p>
<pre><code>disk = <span class="code-keyword">function(center, radius){<span class="code-keyword">return <span class="code-keyword">function(p){ <span class="code-keyword">return distance(p, center) &lt;= radius}}</span></span></span></span></pre>
<p><span>为了查看集合，我决定实现一个</span><code>draw</code><span>在</span><em>欧几里得平面</em><span><span>中绘制集合</span><span>的函数</span><span>。</span><span>我选择了</span></span><em>HTML5</em><span>，因此使用了</span><code>canvas</code><span>元素进行绘制。</span></p>
<p><span><span>因此，我</span><span>通过该方法</span><span>建立了</span><span>下面说明</span><span>的</span></span><em>欧几里德平面</em><code>draw</code><span>。</span></p>
<p><img title="用于JavaScript中的函数编程的图像32" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程31.png" alt="用于JavaScript中的函数编程的图像32" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程31.png" /></p>
<p><span>下面是飞机的实施。</span></p>
<pre><code><span class="code-comment">/*<span class="code-comment">
 * Plane
 *
*/
plane = <span class="code-keyword">function(width, height) {

 <span class="code-comment">/*<span class="code-comment">*
  * Plane width in pixels
  *
 */
 <span class="code-keyword">this.width = width

 <span class="code-comment">/*<span class="code-comment">*
  * Plane height in pixels
  *
 */
 <span class="code-keyword">this.height = height

 <span class="code-comment">/*<span class="code-comment">
  * Draws a generic set
  *
 */
 <span class="code-keyword">this.draw = <span class="code-keyword">function (set, canvasId){
  <span class="code-keyword">var canvas = <span class="code-sdkkeyword">document.getElementById(canvasId)
  canvas.width = <span class="code-keyword">this.width
  canvas.height = <span class="code-keyword">this.height
  <span class="code-keyword">var context = canvas.getContext(<span class="code-string">'<span class="code-string">2d'), 
  semiWidth = <span class="code-keyword">this.width/2, semiHeight = <span class="code-keyword">this.height/2, 
  xMin = -semiWidth, xMax = semiWidth,
  yMin = -semiHeight, yMax = semiHeight
  <span class="code-keyword">for(<span class="code-keyword">var x = <span class="code-digit">0; x &lt; <span class="code-keyword">this.width; x++){
   <span class="code-keyword">var xp = xMin + x * (xMax - xMin) / <span class="code-keyword">this.width
   <span class="code-keyword">for(<span class="code-keyword">var y = <span class="code-digit">0; y &lt; <span class="code-keyword">this.height; y++) {
     <span class="code-keyword">var yp = yMax - y * (yMax - yMin) / <span class="code-keyword">this.height
     <span class="code-keyword">if(set(<span class="code-keyword">new point(xp, yp))) context.fillRect(x, y, <span class="code-digit">1, <span class="code-digit">1)
    }
   }
  }
}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>在该</span><code>draw</code><span>方法中，创建</span><code>canvas</code><span>具有与</span><em>欧几里德平面</em><span><span>容器</span><span>相同的宽度和相同高度的a&nbsp;</span><span>。</span><span>然后</span></span><code>(x,y)</code><span>，</span><code>canvas</code><span><span>如果属于的是黑点，则</span><span>每个像素点</span><span>都被替换为黑点</span></span><code>set</code><span>。</span><code>xMin</code><span>，</span><code>xMax</code><span>，</span><code>yMin</code><span>和</span><code>yMax&nbsp;</code><span>是在的图中所示的边界值</span><em>欧几里得平面</em><span>的上方。</span></p>
<p><span>运行以下代码：</span></p>
<pre><code>euclideanPlane = <span class="code-keyword">new plane(<span class="code-digit">200, <span class="code-digit">200)
euclideanPlane.draw(disk(<span class="code-keyword">new point(<span class="code-digit">0, <span class="code-digit">0), <span class="code-digit">50), <span class="code-string">'<span class="code-string">disk')</span></span></span></span></span></span></span></span></span></pre>
<p><span>这里</span><code>disk</code><span>是</span><code>id</code><span>帆布：</span></p>
<pre><code><span class="code-keyword">&lt;<span class="code-leadattribute">canvas<span class="code-attribute"> <span class="code-attribute">id<span class="code-keyword">="<span class="code-keyword">disk"<span class="code-keyword">&gt;Your browser does not support HTML5 canvas.<span class="code-keyword">&lt;<span class="code-leadattribute">/canvas<span class="code-keyword">&gt;</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图34用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程32.png" alt="图34用于JavaScript中的函数编程" width="81px" height="67px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程32.png" /></p>
<h3><span>绘制水平和垂直半平面</span></h3>
<p><span>甲</span><em>水平</em><span>或</span><em>垂直</em><span><span>半平面或者是两个子集到其中的平面将欧几里德空间。</span><span>甲</span></span><em>水平</em><span>半平面或者是两个子集到其中的平面垂直通过与所述的线划分的欧几里得空间的</span><em>Y轴</em><span><span>如上面的图中。</span><span>甲</span></span><em>垂直</em><span>半平面或者是两个子集到其中的平面通过管线垂直与划分欧几里得空间的</span><em>X轴</em><span>。</span></p>
<p><span><span>在本节中，我们将设置</span><em><span>水平</span></em><span>和</span><em><span>垂直</span></em><span>半平面</span><span>的</span></span><em>特征函数</em><span><span>，</span><span>在HTML5中绘制它们，看看如果我们将它们与</span><em><span>磁盘</span></em><span>子集</span><span>组合，我们可以做些什么</span><span>。</span></span></p>
<p><span>我们</span><code>HorizontalHalfPlane</code><span>是</span><em>特色功能</em><span>一的</span><em>水平</em><span>半平面。</span><code>HorizontalHalfPlane</code><span><span>JavaScript中</span><span>的实现</span><span>如下：</span></span></p>
<pre><code>horizontalHalfPlane = <span class="code-keyword">function(y, isLowerThan){<span class="code-keyword">return <span class="code-keyword">function(p) 
                      { <span class="code-keyword">return isLowerThan ? p.y &lt;= y : p.y &gt;= y}}</span></span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>euclideanPlane.draw(horizontalHalfPlane(<span class="code-digit">0, <span class="code-keyword">true), <span class="code-string">'<span class="code-string">hhp')</span></span></span></span></pre>
<p><span>这里</span><code>hhp</code><span>是</span><code>id</code><span>帆布：</span></p>
<pre><code><span class="code-keyword">&lt;<span class="code-leadattribute">canvas<span class="code-attribute"> <span class="code-attribute">id<span class="code-keyword">="<span class="code-keyword">hhp"<span class="code-keyword">&gt;Your browser does not support HTML5 canvas.<span class="code-keyword">&lt;<span class="code-leadattribute">/canvas<span class="code-keyword">&gt;</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图35用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程33.png" alt="图35用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程33.png" /></p>
<p><span>我们</span><code>VerticalHalfPlane</code><span>是</span><em>特色功能</em><span>一的</span><em>垂直</em><span>半平面。</span><code>VerticalHalfPlane</code><span><span>JavaScript中</span><span>的实现</span><span>如下：</span></span></p>
<pre><code>verticalHalfPlane = <span class="code-keyword">function(x, isLowerThan){<span class="code-keyword">return <span class="code-keyword">function(p) { <span class="code-keyword">return isLowerThan ? p.x &lt;= x : p.x &gt;= x}}</span></span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>euclideanPlane.draw(verticalHalfPlane(<span class="code-digit">0, <span class="code-keyword">false), <span class="code-string">'<span class="code-string">vhp')</span></span></span></span></pre>
<p><span>这里</span><code>vhp</code><span>是</span><code>id</code><span>帆布</span></p>
<pre><code><span class="code-keyword">&lt;<span class="code-leadattribute">canvas<span class="code-attribute"> <span class="code-attribute">id<span class="code-keyword">="<span class="code-keyword">vhd"<span class="code-keyword">&gt;Your browser does not support HTML5 canvas.<span class="code-keyword">&lt;<span class="code-leadattribute">/canvas<span class="code-keyword">&gt;</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下<span style="color: #000000;"><a href="http://www.codesocang.com/" target="_blank" data-cke-saved-href="http://www.codesocang.com"><span style="color: #000000;">源码</span></a></span>结果：</span></p>
<p><img title="图36用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程34.png" alt="图36用于JavaScript中的函数编程" width="173px" height="143px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程34.png" /></p>
<p><span><span>在本文的第一部分中，我们在集合上设置了基本的二进制操作。</span><span>因此，通过组合a&nbsp;</span></span><code>disk</code><span><span>和a&nbsp;</span><span>的交集</span></span><code>half-plane</code><span>，我们可以绘制半盘子集。</span></p>
<p><span>因此，运行以下示例：</span></p>
<pre><code>euclideanPlane.draw(intersection(disk(<span class="code-keyword">new point(<span class="code-digit">0, <span class="code-digit">0), <span class="code-digit">50), verticalHalfPlane(<span class="code-digit">0, <span class="code-keyword">false)), <span class="code-string">'<span class="code-string">hd')</span></span></span></span></span></span></span></span></pre>
<p><span>这里</span><code>hd</code><span>是</span><code>id</code><span>帆布：</span></p>
<pre><code><span class="code-keyword">&lt;<span class="code-leadattribute">canvas<span class="code-attribute"> <span class="code-attribute">id<span class="code-keyword">="<span class="code-keyword">hd"<span class="code-keyword">&gt;Your browser does not support HTML5 canvas.<span class="code-keyword">&lt;<span class="code-leadattribute">/canvas<span class="code-keyword">&gt;</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图37用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程35.png" alt="图37用于JavaScript中的函数编程" width="54px" height="63px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程35.png" /></p>
<h3><span>功能</span></h3>
<p><span>本节介绍欧几里德平面上的集合的函数。</span></p>
<h4><span>翻译</span></h4>
<p><img title="图38用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程36.png" alt="图38用于JavaScript中的函数编程" width="200px" height="179px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程36.png" /></p>
<p><span>我们</span><code>translatePoint</code><span><span>是翻译在平面上的点的功能。</span><span>在欧几里德几何中，</span></span><code>translatePoint</code><span><span>是一个将给定点在指定方向上移动恒定距离的函数。</span><span>因此，JavaScript中的实现如下：</span></span></p>
<pre><code>translatePoint = <span class="code-keyword">function(deltax, deltay){<span class="code-keyword">return <span class="code-keyword">function(p)
                 { <span class="code-keyword">return <span class="code-keyword">new point(p.x + deltax, p.y + deltay)}}</span></span></span></span></span></pre>
<p><span>其中</span><code>(deltax, deltay)</code><span>是翻译的常量向量。</span></p>
<p><span>我们</span><code>translate</code><span><span>是转化平面中的设定功能。</span><span>这个函数在JavaScript中简单地实现如下：</span></span></p>
<pre><code>translate = <span class="code-keyword">function(e, deltax, deltay){<span class="code-keyword">return <span class="code-keyword">function(p)
            { <span class="code-keyword">return e(translatePoint(-deltax, -deltay)(p))}}</span></span></span></span></pre>
<p><code>translate</code><span>取</span><code>deltax</code><span><span>第一欧几里德维度中的delta距离</span><span>作为参数</span><span>，其是</span></span><code>deltay</code><span><span>第二欧几里德维度中的delta距离。</span><span>如果点</span></span><em>P（x，y）</em><span>在集合</span><em>S中</em><span><span>被平移</span><span>，则其坐标将变为</span></span><em>（x'，y'）=（x + delatx，y + deltay）</em><span><span>。</span><span>因此，点</span></span><em>（X ' - delatx，Y' - DELTAY）</em><span>将始终属于集合</span><em>小号</em><span><span>。</span><span>在集合代数中，</span></span><code>translate</code><span>称为同构，换句话说，所有翻译的集合形成</span><em>翻译组T</em><span><span>，其与空间本身同构。</span><span>这解释了该功能的主要逻辑。</span></span></p>
<p><span>因此，运行以下代码：</span></p>
<pre><code><span class="code-keyword">var deltay = <span class="code-digit">0
setInterval(<span class="code-keyword">function(){
 deltay = deltay &lt;=  euclideanPlane.height ? deltay + <span class="code-digit">20 : <span class="code-digit">0
 euclideanPlane.draw(translate(disk(<span class="code-keyword">new point(<span class="code-digit">0, -50), <span class="code-digit">50), <span class="code-digit">0, deltay) , <span class="code-string">'<span class="code-string">ep_op')
}, <span class="code-digit">1000)</span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>这里</span><code>ep_op</code><span>是</span><code>id</code><span>帆布：</span></p>
<pre><code><span class="code-keyword">&lt;<span class="code-leadattribute">canvas<span class="code-attribute"> <span class="code-attribute">id<span class="code-keyword">="<span class="code-keyword">ep_op"<span class="code-keyword">&gt;Your browser does not support HTML5 canvas.<span class="code-keyword">&lt;<span class="code-leadattribute">/canvas<span class="code-keyword">&gt;</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图39用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程37.png" alt="图39用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程37.png" /></p>
<h4><span>位似</span></h4>
<p><img title="图40用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程38.png" alt="图40用于JavaScript中的函数编程" width="193px" height="114px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程38.png" /></p>
<p><span>让</span><code>scalePoint</code><span>是发送的任何点的功能</span><em>中号</em><span>到另一点</span><em>&Ntilde;</em><span>使得段</span><em>SN</em><span>是在同一行作为</span><em>SM</em><span>，而是由一个因子缩放</span><em>拉姆达</em><span><span>。</span><span>在集的代数中，</span></span><code>Scale</code><span>表述如下：</span></p>
<p><img title="用于JavaScript中的函数编程的图41" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程39.png" alt="用于JavaScript中的函数编程的图41" width="135px" height="26px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程39.png" /></p>
<p><span>因此，JavaScript中的实现如下：</span></p>
<pre><code>scalePoint = <span class="code-keyword">function(lambdax, lambday, deltax, deltay)
    {<span class="code-keyword">return <span class="code-keyword">function(p){ <span class="code-keyword">return <span class="code-keyword">new point(lambdax * p.x + deltax, lambday * p.y + deltay)}}</span></span></span></span></span></pre>
<p><span>其中</span><code>(deltax, deltay)</code><span>是平移的常数向量，</span><code>(lambdax, lambday)</code><span>是lambda向量。</span></p>
<p><span>让我们</span><code>scale</code><span><span>在计划中的集合上应用同一性的功能。</span><span>这个函数在JavaScript中简单地实现如下：</span></span></p>
<pre><code>scale = <span class="code-keyword">function(e, lambdax, lambday, deltax, deltay)
        {<span class="code-keyword">return <span class="code-keyword">function(p){ <span class="code-keyword">return e(scalePoint(1/lambdax, 1/lambday, 
        -deltax/lambdax, -deltay/lambday)(p))}}</span></span></span></span></pre>
<p><code>scale</code><span>取</span><code>deltax</code><span><span>第一欧几里德维度中的&Delta;距离</span><span>作为参数</span><span>，该第一欧几里德维度</span></span><code>deltay</code><span>是第二欧几里德维度中的&Delta;距离，并且</span><code>(lambdax, lambday)</code><span><span>是恒定因子向量&lambda;。</span><span>如果点</span></span><em>P（x，y）</em><code>scale</code><span>在集合</span><em>S中</em><span><span>变换</span><span>，则其坐标将变为</span></span><em>（x'，y'）=（lambdax * x + delatx，lambday * y + deltay）</em><span><span>。</span><span>因此，点</span></span><em>（（x'- delatx）/ lambdax，（y' - deltay）/ lambday）</em><span>将始终属于集合</span><em>S</em><span><span>，当然，如果lambda不同于向量0。</span><span>在集合的代数中，</span></span><code>scale</code><span>称为同构，换句话说，所有同态的集合形成</span><em>Homothety组H</em><span><span>，与空间本身\ {0}同构。</span><span>这解释了该功能的主要逻辑。</span></span></p>
<p><span>因此，运行以下代码：</span></p>
<pre><code><span class="code-keyword">var deltay = <span class="code-digit">0, lambday = <span class="code-digit">0.<span class="code-digit">05 
setInterval(<span class="code-keyword">function(){  
 deltay = deltay &lt;=  euclideanPlane.height ? deltay + <span class="code-digit">20 : <span class="code-digit">0
 lambday = deltay &lt;=  euclideanPlane.height ? lambday + <span class="code-digit">0.<span class="code-digit">05 : <span class="code-digit">0.<span class="code-digit">05
 euclideanPlane.draw(scale(disk(<span class="code-keyword">new point(<span class="code-digit">0, -50), <span class="code-digit">50), <span class="code-digit">1, lambday, <span class="code-digit">0, deltay), <span class="code-string">'<span class="code-string">ep_op')
}, <span class="code-digit">1000)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图42用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程40.png" alt="图42用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程40.png" /></p>
<h4><span>旋转</span></h4>
<p><img title="图43用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程41.png" alt="图43用于JavaScript中的函数编程" width="300px" height="255px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程41.png" /></p>
<p><span>我们</span><code>rotatePoint</code><span><span>是用旋转的角度2&theta;位置的点的功能。</span><span>在矩阵代数中，</span></span><code>rotatePoint</code><span>表述如下：</span></p>
<p><img title="图44用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程42.png" alt="图44用于JavaScript中的函数编程" width="230px" height="61px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程42.png" /></p>
<p><span>其中</span><em>（x'，y'）</em><span>是旋转后点的坐标，</span><em>x'</em><span>和</span><em>y'</em><span><span>的公式</span><span>如下：</span></span></p>
<p><img title="图45用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程43.png" alt="图45用于JavaScript中的函数编程" width="182px" height="55px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程43.png" /></p>
<p><span><span>这个公式的演示非常简单。</span><span>看看这个轮换。</span></span></p>
<p><img title="图46用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程44.png" alt="图46用于JavaScript中的函数编程" width="193px" height="190px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程44.png" /></p>
<p><span>以下是演示：</span></p>
<p><img title="图47用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程45.png" alt="图47用于JavaScript中的函数编程" width="301px" height="400px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程45.png" /></p>
<p><span>因此，JavaScript中的实现如下：</span></p>
<pre><code>rotatePoint = <span class="code-keyword">function(theta){ <span class="code-keyword">return <span class="code-keyword">function(p)
              { <span class="code-keyword">return <span class="code-keyword">new point(p.x*Math.cos(theta)-p.y*Math.sin(theta), 
              p.x*Math.sin(theta)+p.y*Math.cos(theta))}}</span></span></span></span></span></pre>
<p><span>我们</span><code>rotate</code><span><span>是在与角度theta平面一套适用的旋转功能。</span><span>这个函数在JavaScript中简单地实现如下。</span></span></p>
<pre><code>rotate = <span class="code-keyword">function(e, theta){ <span class="code-keyword">return <span class="code-keyword">function(p){<span class="code-keyword">return e(rotatePoint(-theta)(p))}}</span></span></span></span></pre>
<p><code>rotate</code><span>是一个作为参数的函数，</span><code>theta</code><span><span>它是旋转的角度。</span><span>如果点</span></span><em>P（x，y）</em><code>rotate</code><span>在集合</span><em>S中</em><span><span>变换</span><span>，那么它的坐标将变为</span></span><em>（x'，y'）=（x * cos（theta） - y * sin（theta），x * sin（ theta）+ y * cos（theta））</em><span><span>。</span><span>因此，点</span></span><em>（X '* COS（THETA）+ Y' * SIN（THETA），Y '* COS（THETA） - X' * SIN（THETA））</em><span>将永远属于一套</span><em>小号</em><span><span>。</span><span>在集合的代数中，</span></span><code>rotate</code><span>称为同构，换句话说，所有旋转的集合形成</span><em>旋转组R</em><span><span>，其与空间本身同构。</span><span>这解释了该功能的主要逻辑。</span></span></p>
<p><span>因此，运行以下代码：</span></p>
<pre><code><span class="code-keyword">var theta = <span class="code-digit">0
setInterval(<span class="code-keyword">function(){
 euclideanPlane.draw(rotate(horizontalHalfPlane(-90, <span class="code-keyword">true), theta), <span class="code-string">'<span class="code-string">ep_op')
 theta = (theta + <span class="code-sdkkeyword">Math.PI/2)%(2*Math.PI)
}, <span class="code-digit">1000)</span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图48用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程46.png" alt="图48用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程46.png" /></p>
<h3><span>对于那些想要更进一步的人</span></h3>
<p><span><span>很简单，不是吗？</span><span>对于那些想要更进一步的人，你可以探索这些：</span></span></p>
<ul>
<li><span>椭圆</span></li>
<li><span>三维欧氏空间</span></li>
<li><span>Ellipsoide</span></li>
<li><span>抛物面</span></li>
<li><span>双曲面</span></li>
<li><span>球谐波</span></li>
<li><span>Superellipsoid</span></li>
<li><span>妊神星</span></li>
<li><span>同形体</span></li>
<li><span>Focaloid</span></li>
</ul>
<h2><span>分形</span></h2>
<p><img title="图49用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程47.png" alt="图49用于JavaScript中的函数编程" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程47.png" /></p>
<p><span><span>分形是具有通常超过其拓扑维度并且可能落在整数之间的分形维数的集合。</span><span>例如，</span></span><em>Mandelbrot</em><span>集是由一系列复数二次多项式定义的分形：</span></p>
<pre><code>Pc(z) = z^2 + c</pre>
<p><span>哪里</span><code>c</code><span><span>是复杂的。</span><span>所述</span></span><em>曼德尔布罗</em><span>分形被定义为所有点的集合</span><code>c</code><span><span>，使得上述序列不逃逸到无穷远。</span><span>在集合的代数中，这表达如下：</span></span></p>
<p><img title="用于JavaScript中的函数编程的图像50" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程48.png" alt="用于JavaScript中的函数编程的图像50" width="319px" height="30px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程48.png" /></p>
<p><span>Fractals（抽象数据类型）总是可以在JavaScript中表示如下：</span></p>
<pre><code><span class="code-keyword">function fractal() {}</span></pre>
<h3><span>复数和绘图</span></h3>
<p><span>为了能够绘制分形，我需要操纵</span><em>复数</em><span><span>。</span><span>因此，我创建了</span></span><code>complex</code><span>以下类：</span></p>
<pre><code>complex = <span class="code-keyword">function(r, i){
 <span class="code-keyword">this.x = r
 <span class="code-keyword">this.y = i
}

complex.prototype.toString = <span class="code-keyword">function(){
 <span class="code-keyword">return <span class="code-keyword">this.x + <span class="code-string">'<span class="code-string"> + i * ' + <span class="code-keyword">this.y
}

complex.prototype.abs = <span class="code-keyword">function(){
 <span class="code-keyword">return <span class="code-sdkkeyword">Math.sqrt(<span class="code-keyword">this.x*this.x+this.y*this.y)
}


complex.add = <span class="code-keyword">function(z1, z2){
 <span class="code-keyword">return <span class="code-keyword">new complex(z1.x+z2.x, z1.y+z2.y)
}

complex.substract = <span class="code-keyword">function(z1, z2){
 <span class="code-keyword">return <span class="code-keyword">new complex(z1.x-z2.x, z1.y-z2.y)
}

complex.multiply = <span class="code-keyword">function(z1, z2){
 <span class="code-keyword">return <span class="code-keyword">new complex(z1.x*z2.x - z1.y * z2.y, z1.x * z2.y+  z1.y * z2.x)
}

complex.zero = <span class="code-keyword">new complex(<span class="code-digit">0, <span class="code-digit">0)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<h3><span>Mandelbrot分形</span></h3>
<p><span>我创建了一个</span><em>Mandelbrot Fractal</em><span>（抽象数据类型表示）</span><code>P(z) = z^2 + c</code><span>，可在下面找到。</span></p>
<pre><code>mandelbrot = <span class="code-keyword">function(c, z){<span class="code-keyword">return complex.add(complex.multiply(z, z), c)}</span></span></pre>
<p><span>为了能够绘制</span><em>复数</em><span>，我创建了一个</span><code>complexPlane</code><span><span>类。</span><span>以下是JavaScript中的实现。</span></span></p>
<pre><code><span class="code-comment">/*<span class="code-comment">
 * Plane
 *
*/
complexPlane = <span class="code-keyword">function(width, height, real_min, real_max, 
               imaginary_min, imaginary_max, boundary, fractalIterationsPerPixel, canvasId) {

 <span class="code-comment">/*<span class="code-comment">*
  * Plane width in pixels
  *
 */
 <span class="code-keyword">this.width = width

 <span class="code-comment">/*<span class="code-comment">*
  * Plane height in pixels
  *
 */
 <span class="code-keyword">this.height = height

 <span class="code-comment">/*<span class="code-comment">*
  * Real axis minimum value
  *
 */
 <span class="code-keyword">this.real_min = real_min

 <span class="code-comment">/*<span class="code-comment">*
  * Real axis maximum value
  *
 */
 <span class="code-keyword">this.real_max = real_max

 <span class="code-comment">/*<span class="code-comment">*
  * Imaginary axis minimum value
  *
 */
 <span class="code-keyword">this.imaginary_min = imaginary_min

 <span class="code-comment">/*<span class="code-comment">*
  * Imaginary axis maximum value
  *
 */
 <span class="code-keyword">this.imaginary_max = imaginary_max

 <span class="code-comment">/*<span class="code-comment">*
  * Boudary
  *
 */
 <span class="code-keyword">this.boundary = boundary

 <span class="code-comment">/*<span class="code-comment">*
  * Number of Zn iterations per pixel
  *
 */
 <span class="code-keyword">this.fractalIterationsPerPixel = fractalIterationsPerPixel
 
 <span class="code-comment">/*<span class="code-comment">*
  * Canvas Identifier
  *
 */
 <span class="code-keyword">this.canvasId = canvasId

 <span class="code-comment">/*<span class="code-comment">
  * Draws a fractal
  *
 */
 <span class="code-keyword">this.draw = <span class="code-keyword">function (fractal){
  <span class="code-keyword">var canvas = <span class="code-sdkkeyword">document.getElementById(<span class="code-keyword">this.canvasId)
  canvas.width = <span class="code-keyword">this.width
  canvas.height = <span class="code-keyword">this.height
  <span class="code-keyword">var context = canvas.getContext(<span class="code-string">'<span class="code-string">2d')
  context.fillStyle = <span class="code-string">'<span class="code-string">yellow'
  <span class="code-keyword">for(<span class="code-keyword">var x = <span class="code-digit">0; x &lt; <span class="code-keyword">this.width; x++){
   <span class="code-keyword">var xp = <span class="code-keyword">this.real_min + x * (<span class="code-keyword">this.real_max - <span class="code-keyword">this.real_min) / <span class="code-keyword">this.width
   <span class="code-keyword">for(<span class="code-keyword">var y = <span class="code-digit">0; y &lt; <span class="code-keyword">this.height; y++) {
     <span class="code-keyword">var yp = <span class="code-keyword">this.imaginary_max - y * 
              (<span class="code-keyword">this.imaginary_max - <span class="code-keyword">this.imaginary_min) / <span class="code-keyword">this.height
     <span class="code-keyword">var c = <span class="code-keyword">new complex(xp, yp)
     <span class="code-keyword">var z = complex.zero
     <span class="code-keyword">for(<span class="code-keyword">var k=<span class="code-digit">0; k&lt; <span class="code-keyword">this.fractalIterationsPerPixel;k++) z = fractal(c, z)     
     <span class="code-keyword">if(z.abs() &lt; <span class="code-keyword">this.boundary) context.fillRect(x, y, <span class="code-digit">1, <span class="code-digit">1)   
    }
   }
  }
 
 <span class="code-comment">/*<span class="code-comment">
  * Displays 'Please wait...' at the center of the canvas
  *
 */ 
 <span class="code-keyword">this.pleaseWait = <span class="code-keyword">function(){
  <span class="code-keyword">var canvas = <span class="code-sdkkeyword">document.getElementById(<span class="code-keyword">this.canvasId)
  canvas.width = <span class="code-keyword">this.width
  canvas.height = <span class="code-keyword">this.height
  <span class="code-keyword">var context = canvas.getContext(<span class="code-string">'<span class="code-string">2d')
  context.fillStyle = <span class="code-string">'<span class="code-string">yellow'
  context.fillText(<span class="code-string">'<span class="code-string">Please wait...', <span class="code-keyword">this.width/2 - <span class="code-digit">30, <span class="code-keyword">this.height/2)
 }
}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>因此，运行以下代码：</span></p>
<pre><code>complexPlane = <span class="code-keyword">new complexPlane(<span class="code-digit">300, <span class="code-digit">300, -1.<span class="code-digit">5, <span class="code-digit">1.<span class="code-digit">5, -1.<span class="code-digit">5, <span class="code-digit">1.<span class="code-digit">5, <span class="code-digit">1.<span class="code-digit">5, <span class="code-digit">20, <span class="code-string">'<span class="code-string">fractal')

mandelbrot = <span class="code-keyword">function(c, z){<span class="code-keyword">return complex.add(complex.multiply(z, z), c)}

complexPlane.pleaseWait()

setTimeout(<span class="code-keyword">function(){ complexPlane.draw(mandelbrot) }, <span class="code-digit">500)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p><span>这里</span><code>fractal</code><span>是</span><code>id</code><span>帆布：</span></p>
<pre><code><span class="code-keyword">&lt;<span class="code-leadattribute">canvas<span class="code-attribute"> <span class="code-attribute">id<span class="code-keyword">="<span class="code-keyword">fractal"<span class="code-keyword">&gt;Your browser does not support HTML5 canvas.<span class="code-keyword">&lt;<span class="code-leadattribute">/canvas<span class="code-keyword">&gt;</span></span></span></span></span></span></span></span></span></span></pre>
<p><span>给出以下结果：</span></p>
<p><img title="图53用于JavaScript中的函数编程" src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程49.png" alt="图53用于JavaScript中的函数编程" width="401px" height="522px" data-cke-saved-src="./images/通过代数，数字，欧几里得平面和分形讨论JavaScript中的函数式编程49.png" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>